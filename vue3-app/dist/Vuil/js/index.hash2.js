var Hc=(e,r,s)=>new Promise((u,f)=>{var c=x=>{try{E(s.next(x))}catch(m){f(m)}},g=x=>{try{E(s.throw(x))}catch(m){f(m)}},E=x=>x.done?u(x.value):Promise.resolve(x.value).then(c,g);E((s=s.apply(e,r)).next())});function lh(e,r){for(var s=0;s<r.length;s++){const u=r[s];if(typeof u!="string"&&!Array.isArray(u)){for(const f in u)if(f!=="default"&&!(f in e)){const c=Object.getOwnPropertyDescriptor(u,f);c&&Object.defineProperty(e,f,c.get?c:{enumerable:!0,get:()=>u[f]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Kf(e,r){const s=Object.create(null),u=e.split(",");for(let f=0;f<u.length;f++)s[u[f]]=!0;return r?f=>!!s[f.toLowerCase()]:f=>!!s[f]}function Dl(e){if(ze(e)){const r={};for(let s=0;s<e.length;s++){const u=e[s],f=on(u)?fh(u):Dl(u);if(f)for(const c in f)r[c]=f[c]}return r}else{if(on(e))return e;if($t(e))return e}}const ch=/;(?![^(]*\))/g,uh=/:(.+)/;function fh(e){const r={};return e.split(ch).forEach(s=>{if(s){const u=s.split(uh);u.length>1&&(r[u[0].trim()]=u[1].trim())}}),r}function Ml(e){let r="";if(on(e))r=e;else if(ze(e))for(let s=0;s<e.length;s++){const u=Ml(e[s]);u&&(r+=u+" ")}else if($t(e))for(const s in e)e[s]&&(r+=s+" ");return r.trim()}const pC=e=>on(e)?e:e==null?"":ze(e)||$t(e)&&(e.toString===e1||!tt(e.toString))?JSON.stringify(e,Zf,2):String(e),Zf=(e,r)=>r&&r.__v_isRef?Zf(e,r.value):Pi(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((s,[u,f])=>(s[`${u} =>`]=f,s),{})}:Qf(r)?{[`Set(${r.size})`]:[...r.values()]}:$t(r)&&!ze(r)&&!t1(r)?String(r):r,At={},Li=[],zn=()=>{},dh=()=>!1,hh=/^on[^a-z]/,Ll=e=>hh.test(e),qf=e=>e.startsWith("onUpdate:"),yn=Object.assign,Pl=(e,r)=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)},gh=Object.prototype.hasOwnProperty,ot=(e,r)=>gh.call(e,r),ze=Array.isArray,Pi=e=>ko(e)==="[object Map]",Qf=e=>ko(e)==="[object Set]",tt=e=>typeof e=="function",on=e=>typeof e=="string",Bl=e=>typeof e=="symbol",$t=e=>e!==null&&typeof e=="object",Jf=e=>$t(e)&&tt(e.then)&&tt(e.catch),e1=Object.prototype.toString,ko=e=>e1.call(e),mh=e=>ko(e).slice(8,-1),t1=e=>ko(e)==="[object Object]",kl=e=>on(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fo=Kf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fo=e=>{const r=Object.create(null);return s=>r[s]||(r[s]=e(s))},xh=/-(\w)/g,lr=Fo(e=>e.replace(xh,(r,s)=>s?s.toUpperCase():"")),wh=/\B([A-Z])/g,Uo=Fo(e=>e.replace(wh,"-$1").toLowerCase()),Fl=Fo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sa=Fo(e=>e?`on${Fl(e)}`:""),Ts=(e,r)=>!Object.is(e,r),ms=(e,r)=>{for(let s=0;s<e.length;s++)e[s](r)},mo=(e,r,s)=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value:s})},Eh=e=>{const r=parseFloat(e);return isNaN(r)?e:r};let Wc;const ph=()=>Wc||(Wc=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ir;class n1{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&ir&&(this.parent=ir,this.index=(ir.scopes||(ir.scopes=[])).push(this)-1)}run(r){if(this.active){const s=ir;try{return ir=this,r()}finally{ir=s}}}on(){ir=this}off(){ir=this.parent}stop(r){if(this.active){let s,u;for(s=0,u=this.effects.length;s<u;s++)this.effects[s].stop();for(s=0,u=this.cleanups.length;s<u;s++)this.cleanups[s]();if(this.scopes)for(s=0,u=this.scopes.length;s<u;s++)this.scopes[s].stop(!0);if(this.parent&&!r){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.active=!1}}}function Ul(e){return new n1(e)}function Ch(e,r=ir){r&&r.active&&r.effects.push(e)}const Vl=e=>{const r=new Set(e);return r.w=0,r.n=0,r},r1=e=>(e.w&Gr)>0,i1=e=>(e.n&Gr)>0,bh=({deps:e})=>{if(e.length)for(let r=0;r<e.length;r++)e[r].w|=Gr},Ah=e=>{const{deps:r}=e;if(r.length){let s=0;for(let u=0;u<r.length;u++){const f=r[u];r1(f)&&!i1(f)?f.delete(e):r[s++]=f,f.w&=~Gr,f.n&=~Gr}r.length=s}},za=new WeakMap;let ds=0,Gr=1;const $a=30;let Yn;const li=Symbol(""),Ka=Symbol("");class Hl{constructor(r,s=null,u){this.fn=r,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Ch(this,u)}run(){if(!this.active)return this.fn();let r=Yn,s=Ur;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=Yn,Yn=this,Ur=!0,Gr=1<<++ds,ds<=$a?bh(this):Gc(this),this.fn()}finally{ds<=$a&&Ah(this),Gr=1<<--ds,Yn=this.parent,Ur=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Yn===this?this.deferStop=!0:this.active&&(Gc(this),this.onStop&&this.onStop(),this.active=!1)}}function Gc(e){const{deps:r}=e;if(r.length){for(let s=0;s<r.length;s++)r[s].delete(e);r.length=0}}let Ur=!0;const s1=[];function Wi(){s1.push(Ur),Ur=!1}function Gi(){const e=s1.pop();Ur=e===void 0?!0:e}function Nn(e,r,s){if(Ur&&Yn){let u=za.get(e);u||za.set(e,u=new Map);let f=u.get(s);f||u.set(s,f=Vl()),o1(f)}}function o1(e,r){let s=!1;ds<=$a?i1(e)||(e.n|=Gr,s=!r1(e)):s=!e.has(Yn),s&&(e.add(Yn),Yn.deps.push(e))}function pr(e,r,s,u,f,c){const g=za.get(e);if(!g)return;let E=[];if(r==="clear")E=[...g.values()];else if(s==="length"&&ze(e))g.forEach((x,m)=>{(m==="length"||m>=u)&&E.push(x)});else switch(s!==void 0&&E.push(g.get(s)),r){case"add":ze(e)?kl(s)&&E.push(g.get("length")):(E.push(g.get(li)),Pi(e)&&E.push(g.get(Ka)));break;case"delete":ze(e)||(E.push(g.get(li)),Pi(e)&&E.push(g.get(Ka)));break;case"set":Pi(e)&&E.push(g.get(li));break}if(E.length===1)E[0]&&Za(E[0]);else{const x=[];for(const m of E)m&&x.push(...m);Za(Vl(x))}}function Za(e,r){for(const s of ze(e)?e:[...e])(s!==Yn||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const yh=Kf("__proto__,__v_isRef,__isVue"),a1=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Bl)),_h=Wl(),Ih=Wl(!1,!0),Th=Wl(!0),Xc=vh();function vh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(r=>{e[r]=function(...s){const u=ft(this);for(let c=0,g=this.length;c<g;c++)Nn(u,"get",c+"");const f=u[r](...s);return f===-1||f===!1?u[r](...s.map(ft)):f}}),["push","pop","shift","unshift","splice"].forEach(r=>{e[r]=function(...s){Wi();const u=ft(this)[r].apply(this,s);return Gi(),u}}),e}function Wl(e=!1,r=!1){return function(u,f,c){if(f==="__v_isReactive")return!e;if(f==="__v_isReadonly")return e;if(f==="__v_isShallow")return r;if(f==="__v_raw"&&c===(e?r?Gh:d1:r?f1:u1).get(u))return u;const g=ze(u);if(!e&&g&&ot(Xc,f))return Reflect.get(Xc,f,c);const E=Reflect.get(u,f,c);return(Bl(f)?a1.has(f):yh(f))||(e||Nn(u,"get",f),r)?E:Ot(E)?!g||!kl(f)?E.value:E:$t(E)?e?h1(E):an(E):E}}const Sh=l1(),Nh=l1(!0);function l1(e=!1){return function(s,u,f,c){let g=s[u];if(vs(g)&&Ot(g)&&!Ot(f))return!1;if(!e&&!vs(f)&&(g1(f)||(f=ft(f),g=ft(g)),!ze(s)&&Ot(g)&&!Ot(f)))return g.value=f,!0;const E=ze(s)&&kl(u)?Number(u)<s.length:ot(s,u),x=Reflect.set(s,u,f,c);return s===ft(c)&&(E?Ts(f,g)&&pr(s,"set",u,f):pr(s,"add",u,f)),x}}function Oh(e,r){const s=ot(e,r);e[r];const u=Reflect.deleteProperty(e,r);return u&&s&&pr(e,"delete",r,void 0),u}function Rh(e,r){const s=Reflect.has(e,r);return(!Bl(r)||!a1.has(r))&&Nn(e,"has",r),s}function Dh(e){return Nn(e,"iterate",ze(e)?"length":li),Reflect.ownKeys(e)}const c1={get:_h,set:Sh,deleteProperty:Oh,has:Rh,ownKeys:Dh},Mh={get:Th,set(e,r){return!0},deleteProperty(e,r){return!0}},Lh=yn({},c1,{get:Ih,set:Nh}),Gl=e=>e,Vo=e=>Reflect.getPrototypeOf(e);function Qs(e,r,s=!1,u=!1){e=e.__v_raw;const f=ft(e),c=ft(r);r!==c&&!s&&Nn(f,"get",r),!s&&Nn(f,"get",c);const{has:g}=Vo(f),E=u?Gl:s?jl:Ss;if(g.call(f,r))return E(e.get(r));if(g.call(f,c))return E(e.get(c));e!==f&&e.get(r)}function Js(e,r=!1){const s=this.__v_raw,u=ft(s),f=ft(e);return e!==f&&!r&&Nn(u,"has",e),!r&&Nn(u,"has",f),e===f?s.has(e):s.has(e)||s.has(f)}function eo(e,r=!1){return e=e.__v_raw,!r&&Nn(ft(e),"iterate",li),Reflect.get(e,"size",e)}function Yc(e){e=ft(e);const r=ft(this);return Vo(r).has.call(r,e)||(r.add(e),pr(r,"add",e,e)),this}function jc(e,r){r=ft(r);const s=ft(this),{has:u,get:f}=Vo(s);let c=u.call(s,e);c||(e=ft(e),c=u.call(s,e));const g=f.call(s,e);return s.set(e,r),c?Ts(r,g)&&pr(s,"set",e,r):pr(s,"add",e,r),this}function zc(e){const r=ft(this),{has:s,get:u}=Vo(r);let f=s.call(r,e);f||(e=ft(e),f=s.call(r,e)),u&&u.call(r,e);const c=r.delete(e);return f&&pr(r,"delete",e,void 0),c}function $c(){const e=ft(this),r=e.size!==0,s=e.clear();return r&&pr(e,"clear",void 0,void 0),s}function to(e,r){return function(u,f){const c=this,g=c.__v_raw,E=ft(g),x=r?Gl:e?jl:Ss;return!e&&Nn(E,"iterate",li),g.forEach((m,p)=>u.call(f,x(m),x(p),c))}}function no(e,r,s){return function(...u){const f=this.__v_raw,c=ft(f),g=Pi(c),E=e==="entries"||e===Symbol.iterator&&g,x=e==="keys"&&g,m=f[e](...u),p=s?Gl:r?jl:Ss;return!r&&Nn(c,"iterate",x?Ka:li),{next(){const{value:b,done:T}=m.next();return T?{value:b,done:T}:{value:E?[p(b[0]),p(b[1])]:p(b),done:T}},[Symbol.iterator](){return this}}}}function Or(e){return function(...r){return e==="delete"?!1:this}}function Ph(){const e={get(c){return Qs(this,c)},get size(){return eo(this)},has:Js,add:Yc,set:jc,delete:zc,clear:$c,forEach:to(!1,!1)},r={get(c){return Qs(this,c,!1,!0)},get size(){return eo(this)},has:Js,add:Yc,set:jc,delete:zc,clear:$c,forEach:to(!1,!0)},s={get(c){return Qs(this,c,!0)},get size(){return eo(this,!0)},has(c){return Js.call(this,c,!0)},add:Or("add"),set:Or("set"),delete:Or("delete"),clear:Or("clear"),forEach:to(!0,!1)},u={get(c){return Qs(this,c,!0,!0)},get size(){return eo(this,!0)},has(c){return Js.call(this,c,!0)},add:Or("add"),set:Or("set"),delete:Or("delete"),clear:Or("clear"),forEach:to(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{e[c]=no(c,!1,!1),s[c]=no(c,!0,!1),r[c]=no(c,!1,!0),u[c]=no(c,!0,!0)}),[e,s,r,u]}const[Bh,kh,Fh,Uh]=Ph();function Xl(e,r){const s=r?e?Uh:Fh:e?kh:Bh;return(u,f,c)=>f==="__v_isReactive"?!e:f==="__v_isReadonly"?e:f==="__v_raw"?u:Reflect.get(ot(s,f)&&f in u?s:u,f,c)}const Vh={get:Xl(!1,!1)},Hh={get:Xl(!1,!0)},Wh={get:Xl(!0,!1)},u1=new WeakMap,f1=new WeakMap,d1=new WeakMap,Gh=new WeakMap;function Xh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yh(e){return e.__v_skip||!Object.isExtensible(e)?0:Xh(mh(e))}function an(e){return vs(e)?e:Yl(e,!1,c1,Vh,u1)}function jh(e){return Yl(e,!1,Lh,Hh,f1)}function h1(e){return Yl(e,!0,Mh,Wh,d1)}function Yl(e,r,s,u,f){if(!$t(e)||e.__v_raw&&!(r&&e.__v_isReactive))return e;const c=f.get(e);if(c)return c;const g=Yh(e);if(g===0)return e;const E=new Proxy(e,g===2?u:s);return f.set(e,E),E}function Vr(e){return vs(e)?Vr(e.__v_raw):!!(e&&e.__v_isReactive)}function vs(e){return!!(e&&e.__v_isReadonly)}function g1(e){return!!(e&&e.__v_isShallow)}function m1(e){return Vr(e)||vs(e)}function ft(e){const r=e&&e.__v_raw;return r?ft(r):e}function ki(e){return mo(e,"__v_skip",!0),e}const Ss=e=>$t(e)?an(e):e,jl=e=>$t(e)?h1(e):e;function x1(e){Ur&&Yn&&(e=ft(e),o1(e.dep||(e.dep=Vl())))}function w1(e,r){e=ft(e),e.dep&&Za(e.dep)}function Ot(e){return!!(e&&e.__v_isRef===!0)}function Fe(e){return p1(e,!1)}function E1(e){return p1(e,!0)}function p1(e,r){return Ot(e)?e:new zh(e,r)}class zh{constructor(r,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?r:ft(r),this._value=s?r:Ss(r)}get value(){return x1(this),this._value}set value(r){r=this.__v_isShallow?r:ft(r),Ts(r,this._rawValue)&&(this._rawValue=r,this._value=this.__v_isShallow?r:Ss(r),w1(this))}}function xr(e){return Ot(e)?e.value:e}const $h={get:(e,r,s)=>xr(Reflect.get(e,r,s)),set:(e,r,s,u)=>{const f=e[r];return Ot(f)&&!Ot(s)?(f.value=s,!0):Reflect.set(e,r,s,u)}};function C1(e){return Vr(e)?e:new Proxy(e,$h)}function Kh(e){const r=ze(e)?new Array(e.length):{};for(const s in e)r[s]=qh(e,s);return r}class Zh{constructor(r,s,u){this._object=r,this._key=s,this._defaultValue=u,this.__v_isRef=!0}get value(){const r=this._object[this._key];return r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}}function qh(e,r,s){const u=e[r];return Ot(u)?u:new Zh(e,r,s)}class Qh{constructor(r,s,u,f){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Hl(r,()=>{this._dirty||(this._dirty=!0,w1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=u}get value(){const r=ft(this);return x1(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function Jh(e,r,s=!1){let u,f;const c=tt(e);return c?(u=e,f=zn):(u=e.get,f=e.set),new Qh(u,f,c||!f,s)}function Hr(e,r,s,u){let f;try{f=u?e(...u):e()}catch(c){Ho(c,r,s)}return f}function Hn(e,r,s,u){if(tt(e)){const c=Hr(e,r,s,u);return c&&Jf(c)&&c.catch(g=>{Ho(g,r,s)}),c}const f=[];for(let c=0;c<e.length;c++)f.push(Hn(e[c],r,s,u));return f}function Ho(e,r,s,u=!0){const f=r?r.vnode:null;if(r){let c=r.parent;const g=r.proxy,E=s;for(;c;){const m=c.ec;if(m){for(let p=0;p<m.length;p++)if(m[p](e,g,E)===!1)return}c=c.parent}const x=r.appContext.config.errorHandler;if(x){Hr(x,null,10,[e,g,E]);return}}}let xo=!1,qa=!1;const vn=[];let mr=0;const xs=[];let hs=null,vi=0;const ws=[];let Br=null,Si=0;const b1=Promise.resolve();let zl=null,Qa=null;function Jt(e){const r=zl||b1;return e?r.then(this?e.bind(this):e):r}function eg(e){let r=mr+1,s=vn.length;for(;r<s;){const u=r+s>>>1;Ns(vn[u])<e?r=u+1:s=u}return r}function A1(e){(!vn.length||!vn.includes(e,xo&&e.allowRecurse?mr+1:mr))&&e!==Qa&&(e.id==null?vn.push(e):vn.splice(eg(e.id),0,e),y1())}function y1(){!xo&&!qa&&(qa=!0,zl=b1.then(T1))}function tg(e){const r=vn.indexOf(e);r>mr&&vn.splice(r,1)}function _1(e,r,s,u){ze(e)?s.push(...e):(!r||!r.includes(e,e.allowRecurse?u+1:u))&&s.push(e),y1()}function ng(e){_1(e,hs,xs,vi)}function rg(e){_1(e,Br,ws,Si)}function $l(e,r=null){if(xs.length){for(Qa=r,hs=[...new Set(xs)],xs.length=0,vi=0;vi<hs.length;vi++)hs[vi]();hs=null,vi=0,Qa=null,$l(e,r)}}function I1(e){if(ws.length){const r=[...new Set(ws)];if(ws.length=0,Br){Br.push(...r);return}for(Br=r,Br.sort((s,u)=>Ns(s)-Ns(u)),Si=0;Si<Br.length;Si++)Br[Si]();Br=null,Si=0}}const Ns=e=>e.id==null?1/0:e.id;function T1(e){qa=!1,xo=!0,$l(e),vn.sort((s,u)=>Ns(s)-Ns(u));const r=zn;try{for(mr=0;mr<vn.length;mr++){const s=vn[mr];s&&s.active!==!1&&Hr(s,null,14)}}finally{mr=0,vn.length=0,I1(),xo=!1,zl=null,(vn.length||xs.length||ws.length)&&T1(e)}}function ig(e,r,...s){if(e.isUnmounted)return;const u=e.vnode.props||At;let f=s;const c=r.startsWith("update:"),g=c&&r.slice(7);if(g&&g in u){const p=`${g==="modelValue"?"model":g}Modifiers`,{number:b,trim:T}=u[p]||At;T?f=s.map(S=>S.trim()):b&&(f=s.map(Eh))}let E,x=u[E=Sa(r)]||u[E=Sa(lr(r))];!x&&c&&(x=u[E=Sa(Uo(r))]),x&&Hn(x,e,6,f);const m=u[E+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[E])return;e.emitted[E]=!0,Hn(m,e,6,f)}}function v1(e,r,s=!1){const u=r.emitsCache,f=u.get(e);if(f!==void 0)return f;const c=e.emits;let g={},E=!1;if(!tt(e)){const x=m=>{const p=v1(m,r,!0);p&&(E=!0,yn(g,p))};!s&&r.mixins.length&&r.mixins.forEach(x),e.extends&&x(e.extends),e.mixins&&e.mixins.forEach(x)}return!c&&!E?(u.set(e,null),null):(ze(c)?c.forEach(x=>g[x]=null):yn(g,c),u.set(e,g),g)}function Wo(e,r){return!e||!Ll(r)?!1:(r=r.slice(2).replace(/Once$/,""),ot(e,r[0].toLowerCase()+r.slice(1))||ot(e,Uo(r))||ot(e,r))}let Un=null,S1=null;function wo(e){const r=Un;return Un=e,S1=e&&e.type.__scopeId||null,r}function sg(e,r=Un,s){if(!r||e._n)return e;const u=(...f)=>{u._d&&ou(-1);const c=wo(r),g=e(...f);return wo(c),u._d&&ou(1),g};return u._n=!0,u._c=!0,u._d=!0,u}function Na(e){const{type:r,vnode:s,proxy:u,withProxy:f,props:c,propsOptions:[g],slots:E,attrs:x,emit:m,render:p,renderCache:b,data:T,setupState:S,ctx:F,inheritAttrs:k}=e;let j,M;const B=wo(e);try{if(s.shapeFlag&4){const D=f||u;j=sr(p.call(D,D,b,c,S,T,F)),M=x}else{const D=r;j=sr(D.length>1?D(c,{attrs:x,slots:E,emit:m}):D(c,null)),M=r.props?x:og(x)}}catch(D){ps.length=0,Ho(D,e,1),j=ne($n)}let L=j;if(M&&k!==!1){const D=Object.keys(M),{shapeFlag:G}=L;D.length&&G&7&&(g&&D.some(qf)&&(M=ag(M,g)),L=Xr(L,M))}return s.dirs&&(L.dirs=L.dirs?L.dirs.concat(s.dirs):s.dirs),s.transition&&(L.transition=s.transition),j=L,wo(B),j}const og=e=>{let r;for(const s in e)(s==="class"||s==="style"||Ll(s))&&((r||(r={}))[s]=e[s]);return r},ag=(e,r)=>{const s={};for(const u in e)(!qf(u)||!(u.slice(9)in r))&&(s[u]=e[u]);return s};function lg(e,r,s){const{props:u,children:f,component:c}=e,{props:g,children:E,patchFlag:x}=r,m=c.emitsOptions;if(r.dirs||r.transition)return!0;if(s&&x>=0){if(x&1024)return!0;if(x&16)return u?Kc(u,g,m):!!g;if(x&8){const p=r.dynamicProps;for(let b=0;b<p.length;b++){const T=p[b];if(g[T]!==u[T]&&!Wo(m,T))return!0}}}else return(f||E)&&(!E||!E.$stable)?!0:u===g?!1:u?g?Kc(u,g,m):!0:!!g;return!1}function Kc(e,r,s){const u=Object.keys(r);if(u.length!==Object.keys(e).length)return!0;for(let f=0;f<u.length;f++){const c=u[f];if(r[c]!==e[c]&&!Wo(s,c))return!0}return!1}function cg({vnode:e,parent:r},s){for(;r&&r.subTree===e;)(e=r.vnode).el=s,r=r.parent}const ug=e=>e.__isSuspense;function fg(e,r){r&&r.pendingBranch?ze(e)?r.effects.push(...e):r.effects.push(e):rg(e)}function wr(e,r){if(Qt){let s=Qt.provides;const u=Qt.parent&&Qt.parent.provides;u===s&&(s=Qt.provides=Object.create(u)),s[e]=r}}function mn(e,r,s=!1){const u=Qt||Un;if(u){const f=u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides;if(f&&e in f)return f[e];if(arguments.length>1)return s&&tt(r)?r.call(u.proxy):r}}const Zc={};function nt(e,r,s){return N1(e,r,s)}function N1(e,r,{immediate:s,deep:u,flush:f,onTrack:c,onTrigger:g}=At){const E=Qt;let x,m=!1,p=!1;if(Ot(e)?(x=()=>e.value,m=g1(e)):Vr(e)?(x=()=>e,u=!0):ze(e)?(p=!0,m=e.some(Vr),x=()=>e.map(M=>{if(Ot(M))return M.value;if(Vr(M))return ai(M);if(tt(M))return Hr(M,E,2)})):tt(e)?r?x=()=>Hr(e,E,2):x=()=>{if(!(E&&E.isUnmounted))return b&&b(),Hn(e,E,3,[T])}:x=zn,r&&u){const M=x;x=()=>ai(M())}let b,T=M=>{b=j.onStop=()=>{Hr(M,E,4)}};if(Rs)return T=zn,r?s&&Hn(r,E,3,[x(),p?[]:void 0,T]):x(),zn;let S=p?[]:Zc;const F=()=>{if(j.active)if(r){const M=j.run();(u||m||(p?M.some((B,L)=>Ts(B,S[L])):Ts(M,S)))&&(b&&b(),Hn(r,E,3,[M,S===Zc?void 0:S,T]),S=M)}else j.run()};F.allowRecurse=!!r;let k;f==="sync"?k=F:f==="post"?k=()=>sn(F,E&&E.suspense):k=()=>{!E||E.isMounted?ng(F):F()};const j=new Hl(x,k);return r?s?F():S=j.run():f==="post"?sn(j.run.bind(j),E&&E.suspense):j.run(),()=>{j.stop(),E&&E.scope&&Pl(E.scope.effects,j)}}function dg(e,r,s){const u=this.proxy,f=on(e)?e.includes(".")?O1(u,e):()=>u[e]:e.bind(u,u);let c;tt(r)?c=r:(c=r.handler,s=r);const g=Qt;Fi(this);const E=N1(f,c.bind(u),s);return g?Fi(g):ui(),E}function O1(e,r){const s=r.split(".");return()=>{let u=e;for(let f=0;f<s.length&&u;f++)u=u[s[f]];return u}}function ai(e,r){if(!$t(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),Ot(e))ai(e.value,r);else if(ze(e))for(let s=0;s<e.length;s++)ai(e[s],r);else if(Qf(e)||Pi(e))e.forEach(s=>{ai(s,r)});else if(t1(e))for(const s in e)ai(e[s],r);return e}function hg(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return On(()=>{e.isMounted=!0}),Yi(()=>{e.isUnmounting=!0}),e}const Pn=[Function,Array],gg={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pn,onEnter:Pn,onAfterEnter:Pn,onEnterCancelled:Pn,onBeforeLeave:Pn,onLeave:Pn,onAfterLeave:Pn,onLeaveCancelled:Pn,onBeforeAppear:Pn,onAppear:Pn,onAfterAppear:Pn,onAppearCancelled:Pn},setup(e,{slots:r}){const s=fn(),u=hg();let f;return()=>{const c=r.default&&M1(r.default(),!0);if(!c||!c.length)return;let g=c[0];if(c.length>1){for(const k of c)if(k.type!==$n){g=k;break}}const E=ft(e),{mode:x}=E;if(u.isLeaving)return Oa(g);const m=qc(g);if(!m)return Oa(g);const p=Ja(m,E,u,s);Eo(m,p);const b=s.subTree,T=b&&qc(b);let S=!1;const{getTransitionKey:F}=m.type;if(F){const k=F();f===void 0?f=k:k!==f&&(f=k,S=!0)}if(T&&T.type!==$n&&(!si(m,T)||S)){const k=Ja(T,E,u,s);if(Eo(T,k),x==="out-in")return u.isLeaving=!0,k.afterLeave=()=>{u.isLeaving=!1,s.update()},Oa(g);x==="in-out"&&m.type!==$n&&(k.delayLeave=(j,M,B)=>{const L=D1(u,T);L[String(T.key)]=T,j._leaveCb=()=>{M(),j._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=B})}return g}}},R1=gg;function D1(e,r){const{leavingVNodes:s}=e;let u=s.get(r.type);return u||(u=Object.create(null),s.set(r.type,u)),u}function Ja(e,r,s,u){const{appear:f,mode:c,persisted:g=!1,onBeforeEnter:E,onEnter:x,onAfterEnter:m,onEnterCancelled:p,onBeforeLeave:b,onLeave:T,onAfterLeave:S,onLeaveCancelled:F,onBeforeAppear:k,onAppear:j,onAfterAppear:M,onAppearCancelled:B}=r,L=String(e.key),D=D1(s,e),G=(P,ce)=>{P&&Hn(P,u,9,ce)},W={mode:c,persisted:g,beforeEnter(P){let ce=E;if(!s.isMounted)if(f)ce=k||E;else return;P._leaveCb&&P._leaveCb(!0);const $=D[L];$&&si(e,$)&&$.el._leaveCb&&$.el._leaveCb(),G(ce,[P])},enter(P){let ce=x,$=m,ge=p;if(!s.isMounted)if(f)ce=j||x,$=M||m,ge=B||p;else return;let Ae=!1;const z=P._enterCb=le=>{Ae||(Ae=!0,le?G(ge,[P]):G($,[P]),W.delayedLeave&&W.delayedLeave(),P._enterCb=void 0)};ce?(ce(P,z),ce.length<=1&&z()):z()},leave(P,ce){const $=String(e.key);if(P._enterCb&&P._enterCb(!0),s.isUnmounting)return ce();G(b,[P]);let ge=!1;const Ae=P._leaveCb=z=>{ge||(ge=!0,ce(),z?G(F,[P]):G(S,[P]),P._leaveCb=void 0,D[$]===e&&delete D[$])};D[$]=e,T?(T(P,Ae),T.length<=1&&Ae()):Ae()},clone(P){return Ja(P,r,s,u)}};return W}function Oa(e){if(Go(e))return e=Xr(e),e.children=null,e}function qc(e){return Go(e)?e.children?e.children[0]:void 0:e}function Eo(e,r){e.shapeFlag&6&&e.component?Eo(e.component.subTree,r):e.shapeFlag&128?(e.ssContent.transition=r.clone(e.ssContent),e.ssFallback.transition=r.clone(e.ssFallback)):e.transition=r}function M1(e,r=!1,s){let u=[],f=0;for(let c=0;c<e.length;c++){let g=e[c];const E=s==null?g.key:String(s)+String(g.key!=null?g.key:c);g.type===Fn?(g.patchFlag&128&&f++,u=u.concat(M1(g.children,r,E))):(r||g.type!==$n)&&u.push(E!=null?Xr(g,{key:E}):g)}if(f>1)for(let c=0;c<u.length;c++)u[c].patchFlag=-2;return u}function dt(e){return tt(e)?{setup:e,name:e.name}:e}const po=e=>!!e.type.__asyncLoader,Go=e=>e.type.__isKeepAlive,mg={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:r}){const s=fn(),u=s.ctx;if(!u.renderer)return r.default;const f=new Map,c=new Set;let g=null;const E=s.suspense,{renderer:{p:x,m,um:p,o:{createElement:b}}}=u,T=b("div");u.activate=(B,L,D,G,W)=>{const P=B.component;m(B,L,D,0,E),x(P.vnode,B,L,D,P,E,G,B.slotScopeIds,W),sn(()=>{P.isDeactivated=!1,P.a&&ms(P.a);const ce=B.props&&B.props.onVnodeMounted;ce&&kn(ce,P.parent,B)},E)},u.deactivate=B=>{const L=B.component;m(B,T,null,1,E),sn(()=>{L.da&&ms(L.da);const D=B.props&&B.props.onVnodeUnmounted;D&&kn(D,L.parent,B),L.isDeactivated=!0},E)};function S(B){Ra(B),p(B,s,E,!0)}function F(B){f.forEach((L,D)=>{const G=ol(L.type);G&&(!B||!B(G))&&k(D)})}function k(B){const L=f.get(B);!g||L.type!==g.type?S(L):g&&Ra(g),f.delete(B),c.delete(B)}nt(()=>[e.include,e.exclude],([B,L])=>{B&&F(D=>gs(B,D)),L&&F(D=>!gs(L,D))},{flush:"post",deep:!0});let j=null;const M=()=>{j!=null&&f.set(j,Da(s.subTree))};return On(M),k1(M),Yi(()=>{f.forEach(B=>{const{subTree:L,suspense:D}=s,G=Da(L);if(B.type===G.type){Ra(G);const W=G.component.da;W&&sn(W,D);return}S(B)})}),()=>{if(j=null,!r.default)return null;const B=r.default(),L=B[0];if(B.length>1)return g=null,B;if(!Os(L)||!(L.shapeFlag&4)&&!(L.shapeFlag&128))return g=null,L;let D=Da(L);const G=D.type,W=ol(po(D)?D.type.__asyncResolved||{}:G),{include:P,exclude:ce,max:$}=e;if(P&&(!W||!gs(P,W))||ce&&W&&gs(ce,W))return g=D,L;const ge=D.key==null?G:D.key,Ae=f.get(ge);return D.el&&(D=Xr(D),L.shapeFlag&128&&(L.ssContent=D)),j=ge,Ae?(D.el=Ae.el,D.component=Ae.component,D.transition&&Eo(D,D.transition),D.shapeFlag|=512,c.delete(ge),c.add(ge)):(c.add(ge),$&&c.size>parseInt($,10)&&k(c.values().next().value)),D.shapeFlag|=256,g=D,L}}},CC=mg;function gs(e,r){return ze(e)?e.some(s=>gs(s,r)):on(e)?e.split(",").includes(r):e.test?e.test(r):!1}function Ps(e,r){L1(e,"a",r)}function Xi(e,r){L1(e,"da",r)}function L1(e,r,s=Qt){const u=e.__wdc||(e.__wdc=()=>{let f=s;for(;f;){if(f.isDeactivated)return;f=f.parent}return e()});if(Xo(r,u,s),s){let f=s.parent;for(;f&&f.parent;)Go(f.parent.vnode)&&xg(u,r,s,f),f=f.parent}}function xg(e,r,s,u){const f=Xo(r,e,u,!0);di(()=>{Pl(u[r],f)},s)}function Ra(e){let r=e.shapeFlag;r&256&&(r-=256),r&512&&(r-=512),e.shapeFlag=r}function Da(e){return e.shapeFlag&128?e.ssContent:e}function Xo(e,r,s=Qt,u=!1){if(s){const f=s[e]||(s[e]=[]),c=r.__weh||(r.__weh=(...g)=>{if(s.isUnmounted)return;Wi(),Fi(s);const E=Hn(r,s,e,g);return ui(),Gi(),E});return u?f.unshift(c):f.push(c),c}}const br=e=>(r,s=Qt)=>(!Rs||e==="sp")&&Xo(e,r,s),P1=br("bm"),On=br("m"),B1=br("bu"),k1=br("u"),Yi=br("bum"),di=br("um"),wg=br("sp"),Eg=br("rtg"),pg=br("rtc");function Cg(e,r=Qt){Xo("ec",e,r)}let el=!0;function bg(e){const r=U1(e),s=e.proxy,u=e.ctx;el=!1,r.beforeCreate&&Qc(r.beforeCreate,e,"bc");const{data:f,computed:c,methods:g,watch:E,provide:x,inject:m,created:p,beforeMount:b,mounted:T,beforeUpdate:S,updated:F,activated:k,deactivated:j,beforeDestroy:M,beforeUnmount:B,destroyed:L,unmounted:D,render:G,renderTracked:W,renderTriggered:P,errorCaptured:ce,serverPrefetch:$,expose:ge,inheritAttrs:Ae,components:z,directives:le,filters:be}=r;if(m&&Ag(m,u,null,e.appContext.config.unwrapInjectedRef),g)for(const fe in g){const Se=g[fe];tt(Se)&&(u[fe]=Se.bind(s))}if(f){const fe=f.call(s,s);$t(fe)&&(e.data=an(fe))}if(el=!0,c)for(const fe in c){const Se=c[fe],Q=tt(Se)?Se.bind(s,s):tt(Se.get)?Se.get.bind(s,s):zn,we=!tt(Se)&&tt(Se.set)?Se.set.bind(s):zn,Te=Re({get:Q,set:we});Object.defineProperty(u,fe,{enumerable:!0,configurable:!0,get:()=>Te.value,set:ae=>Te.value=ae})}if(E)for(const fe in E)F1(E[fe],u,s,fe);if(x){const fe=tt(x)?x.call(s):x;Reflect.ownKeys(fe).forEach(Se=>{wr(Se,fe[Se])})}p&&Qc(p,e,"c");function de(fe,Se){ze(Se)?Se.forEach(Q=>fe(Q.bind(s))):Se&&fe(Se.bind(s))}if(de(P1,b),de(On,T),de(B1,S),de(k1,F),de(Ps,k),de(Xi,j),de(Cg,ce),de(pg,W),de(Eg,P),de(Yi,B),de(di,D),de(wg,$),ze(ge))if(ge.length){const fe=e.exposed||(e.exposed={});ge.forEach(Se=>{Object.defineProperty(fe,Se,{get:()=>s[Se],set:Q=>s[Se]=Q})})}else e.exposed||(e.exposed={});G&&e.render===zn&&(e.render=G),Ae!=null&&(e.inheritAttrs=Ae),z&&(e.components=z),le&&(e.directives=le)}function Ag(e,r,s=zn,u=!1){ze(e)&&(e=tl(e));for(const f in e){const c=e[f];let g;$t(c)?"default"in c?g=mn(c.from||f,c.default,!0):g=mn(c.from||f):g=mn(c),Ot(g)&&u?Object.defineProperty(r,f,{enumerable:!0,configurable:!0,get:()=>g.value,set:E=>g.value=E}):r[f]=g}}function Qc(e,r,s){Hn(ze(e)?e.map(u=>u.bind(r.proxy)):e.bind(r.proxy),r,s)}function F1(e,r,s,u){const f=u.includes(".")?O1(s,u):()=>s[u];if(on(e)){const c=r[e];tt(c)&&nt(f,c)}else if(tt(e))nt(f,e.bind(s));else if($t(e))if(ze(e))e.forEach(c=>F1(c,r,s,u));else{const c=tt(e.handler)?e.handler.bind(s):r[e.handler];tt(c)&&nt(f,c,e)}}function U1(e){const r=e.type,{mixins:s,extends:u}=r,{mixins:f,optionsCache:c,config:{optionMergeStrategies:g}}=e.appContext,E=c.get(r);let x;return E?x=E:!f.length&&!s&&!u?x=r:(x={},f.length&&f.forEach(m=>Co(x,m,g,!0)),Co(x,r,g)),c.set(r,x),x}function Co(e,r,s,u=!1){const{mixins:f,extends:c}=r;c&&Co(e,c,s,!0),f&&f.forEach(g=>Co(e,g,s,!0));for(const g in r)if(!(u&&g==="expose")){const E=yg[g]||s&&s[g];e[g]=E?E(e[g],r[g]):r[g]}return e}const yg={data:Jc,props:ii,emits:ii,methods:ii,computed:ii,beforeCreate:hn,created:hn,beforeMount:hn,mounted:hn,beforeUpdate:hn,updated:hn,beforeDestroy:hn,beforeUnmount:hn,destroyed:hn,unmounted:hn,activated:hn,deactivated:hn,errorCaptured:hn,serverPrefetch:hn,components:ii,directives:ii,watch:Ig,provide:Jc,inject:_g};function Jc(e,r){return r?e?function(){return yn(tt(e)?e.call(this,this):e,tt(r)?r.call(this,this):r)}:r:e}function _g(e,r){return ii(tl(e),tl(r))}function tl(e){if(ze(e)){const r={};for(let s=0;s<e.length;s++)r[e[s]]=e[s];return r}return e}function hn(e,r){return e?[...new Set([].concat(e,r))]:r}function ii(e,r){return e?yn(yn(Object.create(null),e),r):r}function Ig(e,r){if(!e)return r;if(!r)return e;const s=yn(Object.create(null),e);for(const u in r)s[u]=hn(e[u],r[u]);return s}function Tg(e,r,s,u=!1){const f={},c={};mo(c,jo,1),e.propsDefaults=Object.create(null),V1(e,r,f,c);for(const g in e.propsOptions[0])g in f||(f[g]=void 0);s?e.props=u?f:jh(f):e.type.props?e.props=f:e.props=c,e.attrs=c}function vg(e,r,s,u){const{props:f,attrs:c,vnode:{patchFlag:g}}=e,E=ft(f),[x]=e.propsOptions;let m=!1;if((u||g>0)&&!(g&16)){if(g&8){const p=e.vnode.dynamicProps;for(let b=0;b<p.length;b++){let T=p[b];if(Wo(e.emitsOptions,T))continue;const S=r[T];if(x)if(ot(c,T))S!==c[T]&&(c[T]=S,m=!0);else{const F=lr(T);f[F]=nl(x,E,F,S,e,!1)}else S!==c[T]&&(c[T]=S,m=!0)}}}else{V1(e,r,f,c)&&(m=!0);let p;for(const b in E)(!r||!ot(r,b)&&((p=Uo(b))===b||!ot(r,p)))&&(x?s&&(s[b]!==void 0||s[p]!==void 0)&&(f[b]=nl(x,E,b,void 0,e,!0)):delete f[b]);if(c!==E)for(const b in c)(!r||!ot(r,b))&&(delete c[b],m=!0)}m&&pr(e,"set","$attrs")}function V1(e,r,s,u){const[f,c]=e.propsOptions;let g=!1,E;if(r)for(let x in r){if(fo(x))continue;const m=r[x];let p;f&&ot(f,p=lr(x))?!c||!c.includes(p)?s[p]=m:(E||(E={}))[p]=m:Wo(e.emitsOptions,x)||(!(x in u)||m!==u[x])&&(u[x]=m,g=!0)}if(c){const x=ft(s),m=E||At;for(let p=0;p<c.length;p++){const b=c[p];s[b]=nl(f,x,b,m[b],e,!ot(m,b))}}return g}function nl(e,r,s,u,f,c){const g=e[s];if(g!=null){const E=ot(g,"default");if(E&&u===void 0){const x=g.default;if(g.type!==Function&&tt(x)){const{propsDefaults:m}=f;s in m?u=m[s]:(Fi(f),u=m[s]=x.call(null,r),ui())}else u=x}g[0]&&(c&&!E?u=!1:g[1]&&(u===""||u===Uo(s))&&(u=!0))}return u}function H1(e,r,s=!1){const u=r.propsCache,f=u.get(e);if(f)return f;const c=e.props,g={},E=[];let x=!1;if(!tt(e)){const p=b=>{x=!0;const[T,S]=H1(b,r,!0);yn(g,T),S&&E.push(...S)};!s&&r.mixins.length&&r.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!c&&!x)return u.set(e,Li),Li;if(ze(c))for(let p=0;p<c.length;p++){const b=lr(c[p]);eu(b)&&(g[b]=At)}else if(c)for(const p in c){const b=lr(p);if(eu(b)){const T=c[p],S=g[b]=ze(T)||tt(T)?{type:T}:T;if(S){const F=ru(Boolean,S.type),k=ru(String,S.type);S[0]=F>-1,S[1]=k<0||F<k,(F>-1||ot(S,"default"))&&E.push(b)}}}const m=[g,E];return u.set(e,m),m}function eu(e){return e[0]!=="$"}function tu(e){const r=e&&e.toString().match(/^\s*function (\w+)/);return r?r[1]:e===null?"null":""}function nu(e,r){return tu(e)===tu(r)}function ru(e,r){return ze(r)?r.findIndex(s=>nu(s,e)):tt(r)&&nu(r,e)?0:-1}const W1=e=>e[0]==="_"||e==="$stable",Kl=e=>ze(e)?e.map(sr):[sr(e)],Sg=(e,r,s)=>{const u=sg((...f)=>Kl(r(...f)),s);return u._c=!1,u},G1=(e,r,s)=>{const u=e._ctx;for(const f in e){if(W1(f))continue;const c=e[f];if(tt(c))r[f]=Sg(f,c,u);else if(c!=null){const g=Kl(c);r[f]=()=>g}}},X1=(e,r)=>{const s=Kl(r);e.slots.default=()=>s},Ng=(e,r)=>{if(e.vnode.shapeFlag&32){const s=r._;s?(e.slots=ft(r),mo(r,"_",s)):G1(r,e.slots={})}else e.slots={},r&&X1(e,r);mo(e.slots,jo,1)},Og=(e,r,s)=>{const{vnode:u,slots:f}=e;let c=!0,g=At;if(u.shapeFlag&32){const E=r._;E?s&&E===1?c=!1:(yn(f,r),!s&&E===1&&delete f._):(c=!r.$stable,G1(r,f)),g=r}else r&&(X1(e,r),g={default:1});if(c)for(const E in f)!W1(E)&&!(E in g)&&delete f[E]};function Zl(e,r){const s=Un;if(s===null)return e;const u=zo(s)||s.proxy,f=e.dirs||(e.dirs=[]);for(let c=0;c<r.length;c++){let[g,E,x,m=At]=r[c];tt(g)&&(g={mounted:g,updated:g}),g.deep&&ai(E),f.push({dir:g,instance:u,value:E,oldValue:void 0,arg:x,modifiers:m})}return e}function ti(e,r,s,u){const f=e.dirs,c=r&&r.dirs;for(let g=0;g<f.length;g++){const E=f[g];c&&(E.oldValue=c[g].value);let x=E.dir[u];x&&(Wi(),Hn(x,s,8,[e.el,E,e,r]),Gi())}}function Y1(){return{app:null,config:{isNativeTag:dh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Rg=0;function Dg(e,r){return function(u,f=null){tt(u)||(u=Object.assign({},u)),f!=null&&!$t(f)&&(f=null);const c=Y1(),g=new Set;let E=!1;const x=c.app={_uid:Rg++,_component:u,_props:f,_container:null,_context:c,_instance:null,version:e2,get config(){return c.config},set config(m){},use(m,...p){return g.has(m)||(m&&tt(m.install)?(g.add(m),m.install(x,...p)):tt(m)&&(g.add(m),m(x,...p))),x},mixin(m){return c.mixins.includes(m)||c.mixins.push(m),x},component(m,p){return p?(c.components[m]=p,x):c.components[m]},directive(m,p){return p?(c.directives[m]=p,x):c.directives[m]},mount(m,p,b){if(!E){const T=ne(u,f);return T.appContext=c,p&&r?r(T,m):e(T,m,b),E=!0,x._container=m,m.__vue_app__=x,zo(T.component)||T.component.proxy}},unmount(){E&&(e(null,x._container),delete x._container.__vue_app__)},provide(m,p){return c.provides[m]=p,x}};return x}}function rl(e,r,s,u,f=!1){if(ze(e)){e.forEach((T,S)=>rl(T,r&&(ze(r)?r[S]:r),s,u,f));return}if(po(u)&&!f)return;const c=u.shapeFlag&4?zo(u.component)||u.component.proxy:u.el,g=f?null:c,{i:E,r:x}=e,m=r&&r.r,p=E.refs===At?E.refs={}:E.refs,b=E.setupState;if(m!=null&&m!==x&&(on(m)?(p[m]=null,ot(b,m)&&(b[m]=null)):Ot(m)&&(m.value=null)),tt(x))Hr(x,E,12,[g,p]);else{const T=on(x),S=Ot(x);if(T||S){const F=()=>{if(e.f){const k=T?p[x]:x.value;f?ze(k)&&Pl(k,c):ze(k)?k.includes(c)||k.push(c):T?(p[x]=[c],ot(b,x)&&(b[x]=p[x])):(x.value=[c],e.k&&(p[e.k]=x.value))}else T?(p[x]=g,ot(b,x)&&(b[x]=g)):Ot(x)&&(x.value=g,e.k&&(p[e.k]=g))};g?(F.id=-1,sn(F,s)):F()}}}const sn=fg;function Mg(e){return Lg(e)}function Lg(e,r){const s=ph();s.__VUE__=!0;const{insert:u,remove:f,patchProp:c,createElement:g,createText:E,createComment:x,setText:m,setElementText:p,parentNode:b,nextSibling:T,setScopeId:S=zn,cloneNode:F,insertStaticContent:k}=e,j=(A,y,O,K=null,q=null,se=null,he=!1,pe=null,J=!!y.dynamicChildren)=>{if(A===y)return;A&&!si(A,y)&&(K=Ee(A),me(A,q,se,!0),A=null),y.patchFlag===-2&&(J=!1,y.dynamicChildren=null);const{type:X,ref:oe,shapeFlag:ve}=y;switch(X){case Yo:M(A,y,O,K);break;case $n:B(A,y,O,K);break;case ho:A==null&&L(y,O,K,he);break;case Fn:le(A,y,O,K,q,se,he,pe,J);break;default:ve&1?W(A,y,O,K,q,se,he,pe,J):ve&6?be(A,y,O,K,q,se,he,pe,J):(ve&64||ve&128)&&X.process(A,y,O,K,q,se,he,pe,J,$e)}oe!=null&&q&&rl(oe,A&&A.ref,se,y||A,!y)},M=(A,y,O,K)=>{if(A==null)u(y.el=E(y.children),O,K);else{const q=y.el=A.el;y.children!==A.children&&m(q,y.children)}},B=(A,y,O,K)=>{A==null?u(y.el=x(y.children||""),O,K):y.el=A.el},L=(A,y,O,K)=>{[A.el,A.anchor]=k(A.children,y,O,K,A.el,A.anchor)},D=({el:A,anchor:y},O,K)=>{let q;for(;A&&A!==y;)q=T(A),u(A,O,K),A=q;u(y,O,K)},G=({el:A,anchor:y})=>{let O;for(;A&&A!==y;)O=T(A),f(A),A=O;f(y)},W=(A,y,O,K,q,se,he,pe,J)=>{he=he||y.type==="svg",A==null?P(y,O,K,q,se,he,pe,J):ge(A,y,q,se,he,pe,J)},P=(A,y,O,K,q,se,he,pe)=>{let J,X;const{type:oe,props:ve,shapeFlag:Ne,transition:Be,patchFlag:Ke,dirs:Qe}=A;if(A.el&&F!==void 0&&Ke===-1)J=A.el=F(A.el);else{if(J=A.el=g(A.type,se,ve&&ve.is,ve),Ne&8?p(J,A.children):Ne&16&&$(A.children,J,null,K,q,se&&oe!=="foreignObject",he,pe),Qe&&ti(A,null,K,"created"),ve){for(const xt in ve)xt!=="value"&&!fo(xt)&&c(J,xt,null,ve[xt],se,A.children,K,q,ue);"value"in ve&&c(J,"value",null,ve.value),(X=ve.onVnodeBeforeMount)&&kn(X,K,A)}ce(J,A,A.scopeId,he,K)}Qe&&ti(A,null,K,"beforeMount");const Xe=(!q||q&&!q.pendingBranch)&&Be&&!Be.persisted;Xe&&Be.beforeEnter(J),u(J,y,O),((X=ve&&ve.onVnodeMounted)||Xe||Qe)&&sn(()=>{X&&kn(X,K,A),Xe&&Be.enter(J),Qe&&ti(A,null,K,"mounted")},q)},ce=(A,y,O,K,q)=>{if(O&&S(A,O),K)for(let se=0;se<K.length;se++)S(A,K[se]);if(q){let se=q.subTree;if(y===se){const he=q.vnode;ce(A,he,he.scopeId,he.slotScopeIds,q.parent)}}},$=(A,y,O,K,q,se,he,pe,J=0)=>{for(let X=J;X<A.length;X++){const oe=A[X]=pe?kr(A[X]):sr(A[X]);j(null,oe,y,O,K,q,se,he,pe)}},ge=(A,y,O,K,q,se,he)=>{const pe=y.el=A.el;let{patchFlag:J,dynamicChildren:X,dirs:oe}=y;J|=A.patchFlag&16;const ve=A.props||At,Ne=y.props||At;let Be;O&&ni(O,!1),(Be=Ne.onVnodeBeforeUpdate)&&kn(Be,O,y,A),oe&&ti(y,A,O,"beforeUpdate"),O&&ni(O,!0);const Ke=q&&y.type!=="foreignObject";if(X?Ae(A.dynamicChildren,X,pe,O,K,Ke,se):he||Q(A,y,pe,null,O,K,Ke,se,!1),J>0){if(J&16)z(pe,y,ve,Ne,O,K,q);else if(J&2&&ve.class!==Ne.class&&c(pe,"class",null,Ne.class,q),J&4&&c(pe,"style",ve.style,Ne.style,q),J&8){const Qe=y.dynamicProps;for(let Xe=0;Xe<Qe.length;Xe++){const xt=Qe[Xe],ln=ve[xt],Ar=Ne[xt];(Ar!==ln||xt==="value")&&c(pe,xt,ln,Ar,q,A.children,O,K,ue)}}J&1&&A.children!==y.children&&p(pe,y.children)}else!he&&X==null&&z(pe,y,ve,Ne,O,K,q);((Be=Ne.onVnodeUpdated)||oe)&&sn(()=>{Be&&kn(Be,O,y,A),oe&&ti(y,A,O,"updated")},K)},Ae=(A,y,O,K,q,se,he)=>{for(let pe=0;pe<y.length;pe++){const J=A[pe],X=y[pe],oe=J.el&&(J.type===Fn||!si(J,X)||J.shapeFlag&70)?b(J.el):O;j(J,X,oe,null,K,q,se,he,!0)}},z=(A,y,O,K,q,se,he)=>{if(O!==K){for(const pe in K){if(fo(pe))continue;const J=K[pe],X=O[pe];J!==X&&pe!=="value"&&c(A,pe,X,J,he,y.children,q,se,ue)}if(O!==At)for(const pe in O)!fo(pe)&&!(pe in K)&&c(A,pe,O[pe],null,he,y.children,q,se,ue);"value"in K&&c(A,"value",O.value,K.value)}},le=(A,y,O,K,q,se,he,pe,J)=>{const X=y.el=A?A.el:E(""),oe=y.anchor=A?A.anchor:E("");let{patchFlag:ve,dynamicChildren:Ne,slotScopeIds:Be}=y;Be&&(pe=pe?pe.concat(Be):Be),A==null?(u(X,O,K),u(oe,O,K),$(y.children,O,oe,q,se,he,pe,J)):ve>0&&ve&64&&Ne&&A.dynamicChildren?(Ae(A.dynamicChildren,Ne,O,q,se,he,pe),(y.key!=null||q&&y===q.subTree)&&ql(A,y,!0)):Q(A,y,O,oe,q,se,he,pe,J)},be=(A,y,O,K,q,se,he,pe,J)=>{y.slotScopeIds=pe,A==null?y.shapeFlag&512?q.ctx.activate(y,O,K,he,J):U(y,O,K,q,se,he,J):de(A,y,J)},U=(A,y,O,K,q,se,he)=>{const pe=A.component=$g(A,K,q);if(Go(A)&&(pe.ctx.renderer=$e),Kg(pe),pe.asyncDep){if(q&&q.registerDep(pe,fe),!A.el){const J=pe.subTree=ne($n);B(null,J,y,O)}return}fe(pe,A,y,O,q,se,he)},de=(A,y,O)=>{const K=y.component=A.component;if(lg(A,y,O))if(K.asyncDep&&!K.asyncResolved){Se(K,y,O);return}else K.next=y,tg(K.update),K.update();else y.component=A.component,y.el=A.el,K.vnode=y},fe=(A,y,O,K,q,se,he)=>{const pe=()=>{if(A.isMounted){let{next:oe,bu:ve,u:Ne,parent:Be,vnode:Ke}=A,Qe=oe,Xe;ni(A,!1),oe?(oe.el=Ke.el,Se(A,oe,he)):oe=Ke,ve&&ms(ve),(Xe=oe.props&&oe.props.onVnodeBeforeUpdate)&&kn(Xe,Be,oe,Ke),ni(A,!0);const xt=Na(A),ln=A.subTree;A.subTree=xt,j(ln,xt,b(ln.el),Ee(ln),A,q,se),oe.el=xt.el,Qe===null&&cg(A,xt.el),Ne&&sn(Ne,q),(Xe=oe.props&&oe.props.onVnodeUpdated)&&sn(()=>kn(Xe,Be,oe,Ke),q)}else{let oe;const{el:ve,props:Ne}=y,{bm:Be,m:Ke,parent:Qe}=A,Xe=po(y);if(ni(A,!1),Be&&ms(Be),!Xe&&(oe=Ne&&Ne.onVnodeBeforeMount)&&kn(oe,Qe,y),ni(A,!0),ve&&He){const xt=()=>{A.subTree=Na(A),He(ve,A.subTree,A,q,null)};Xe?y.type.__asyncLoader().then(()=>!A.isUnmounted&&xt()):xt()}else{const xt=A.subTree=Na(A);j(null,xt,O,K,A,q,se),y.el=xt.el}if(Ke&&sn(Ke,q),!Xe&&(oe=Ne&&Ne.onVnodeMounted)){const xt=y;sn(()=>kn(oe,Qe,xt),q)}y.shapeFlag&256&&A.a&&sn(A.a,q),A.isMounted=!0,y=O=K=null}},J=A.effect=new Hl(pe,()=>A1(A.update),A.scope),X=A.update=J.run.bind(J);X.id=A.uid,ni(A,!0),X()},Se=(A,y,O)=>{y.component=A;const K=A.vnode.props;A.vnode=y,A.next=null,vg(A,y.props,K,O),Og(A,y.children,O),Wi(),$l(void 0,A.update),Gi()},Q=(A,y,O,K,q,se,he,pe,J=!1)=>{const X=A&&A.children,oe=A?A.shapeFlag:0,ve=y.children,{patchFlag:Ne,shapeFlag:Be}=y;if(Ne>0){if(Ne&128){Te(X,ve,O,K,q,se,he,pe,J);return}else if(Ne&256){we(X,ve,O,K,q,se,he,pe,J);return}}Be&8?(oe&16&&ue(X,q,se),ve!==X&&p(O,ve)):oe&16?Be&16?Te(X,ve,O,K,q,se,he,pe,J):ue(X,q,se,!0):(oe&8&&p(O,""),Be&16&&$(ve,O,K,q,se,he,pe,J))},we=(A,y,O,K,q,se,he,pe,J)=>{A=A||Li,y=y||Li;const X=A.length,oe=y.length,ve=Math.min(X,oe);let Ne;for(Ne=0;Ne<ve;Ne++){const Be=y[Ne]=J?kr(y[Ne]):sr(y[Ne]);j(A[Ne],Be,O,null,q,se,he,pe,J)}X>oe?ue(A,q,se,!0,!1,ve):$(y,O,K,q,se,he,pe,J,ve)},Te=(A,y,O,K,q,se,he,pe,J)=>{let X=0;const oe=y.length;let ve=A.length-1,Ne=oe-1;for(;X<=ve&&X<=Ne;){const Be=A[X],Ke=y[X]=J?kr(y[X]):sr(y[X]);if(si(Be,Ke))j(Be,Ke,O,null,q,se,he,pe,J);else break;X++}for(;X<=ve&&X<=Ne;){const Be=A[ve],Ke=y[Ne]=J?kr(y[Ne]):sr(y[Ne]);if(si(Be,Ke))j(Be,Ke,O,null,q,se,he,pe,J);else break;ve--,Ne--}if(X>ve){if(X<=Ne){const Be=Ne+1,Ke=Be<oe?y[Be].el:K;for(;X<=Ne;)j(null,y[X]=J?kr(y[X]):sr(y[X]),O,Ke,q,se,he,pe,J),X++}}else if(X>Ne)for(;X<=ve;)me(A[X],q,se,!0),X++;else{const Be=X,Ke=X,Qe=new Map;for(X=Ke;X<=Ne;X++){const Ze=y[X]=J?kr(y[X]):sr(y[X]);Ze.key!=null&&Qe.set(Ze.key,X)}let Xe,xt=0;const ln=Ne-Ke+1;let Ar=!1,Rt=0;const Ie=new Array(ln);for(X=0;X<ln;X++)Ie[X]=0;for(X=Be;X<=ve;X++){const Ze=A[X];if(xt>=ln){me(Ze,q,se,!0);continue}let at;if(Ze.key!=null)at=Qe.get(Ze.key);else for(Xe=Ke;Xe<=Ne;Xe++)if(Ie[Xe-Ke]===0&&si(Ze,y[Xe])){at=Xe;break}at===void 0?me(Ze,q,se,!0):(Ie[at-Ke]=X+1,at>=Rt?Rt=at:Ar=!0,j(Ze,y[at],O,null,q,se,he,pe,J),xt++)}const Mt=Ar?Pg(Ie):Li;for(Xe=Mt.length-1,X=ln-1;X>=0;X--){const Ze=Ke+X,at=y[Ze],yr=Ze+1<oe?y[Ze+1].el:K;Ie[X]===0?j(null,at,O,yr,q,se,he,pe,J):Ar&&(Xe<0||X!==Mt[Xe]?ae(at,O,yr,2):Xe--)}}},ae=(A,y,O,K,q=null)=>{const{el:se,type:he,transition:pe,children:J,shapeFlag:X}=A;if(X&6){ae(A.component.subTree,y,O,K);return}if(X&128){A.suspense.move(y,O,K);return}if(X&64){he.move(A,y,O,$e);return}if(he===Fn){u(se,y,O);for(let ve=0;ve<J.length;ve++)ae(J[ve],y,O,K);u(A.anchor,y,O);return}if(he===ho){D(A,y,O);return}if(K!==2&&X&1&&pe)if(K===0)pe.beforeEnter(se),u(se,y,O),sn(()=>pe.enter(se),q);else{const{leave:ve,delayLeave:Ne,afterLeave:Be}=pe,Ke=()=>u(se,y,O),Qe=()=>{ve(se,()=>{Ke(),Be&&Be()})};Ne?Ne(se,Ke,Qe):Qe()}else u(se,y,O)},me=(A,y,O,K=!1,q=!1)=>{const{type:se,props:he,ref:pe,children:J,dynamicChildren:X,shapeFlag:oe,patchFlag:ve,dirs:Ne}=A;if(pe!=null&&rl(pe,null,O,A,!0),oe&256){y.ctx.deactivate(A);return}const Be=oe&1&&Ne,Ke=!po(A);let Qe;if(Ke&&(Qe=he&&he.onVnodeBeforeUnmount)&&kn(Qe,y,A),oe&6)te(A.component,O,K);else{if(oe&128){A.suspense.unmount(O,K);return}Be&&ti(A,null,y,"beforeUnmount"),oe&64?A.type.remove(A,y,O,q,$e,K):X&&(se!==Fn||ve>0&&ve&64)?ue(X,y,O,!1,!0):(se===Fn&&ve&384||!q&&oe&16)&&ue(J,y,O),K&&Le(A)}(Ke&&(Qe=he&&he.onVnodeUnmounted)||Be)&&sn(()=>{Qe&&kn(Qe,y,A),Be&&ti(A,null,y,"unmounted")},O)},Le=A=>{const{type:y,el:O,anchor:K,transition:q}=A;if(y===Fn){V(O,K);return}if(y===ho){G(A);return}const se=()=>{f(O),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(A.shapeFlag&1&&q&&!q.persisted){const{leave:he,delayLeave:pe}=q,J=()=>he(O,se);pe?pe(A.el,se,J):J()}else se()},V=(A,y)=>{let O;for(;A!==y;)O=T(A),f(A),A=O;f(y)},te=(A,y,O)=>{const{bum:K,scope:q,update:se,subTree:he,um:pe}=A;K&&ms(K),q.stop(),se&&(se.active=!1,me(he,A,y,O)),pe&&sn(pe,y),sn(()=>{A.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},ue=(A,y,O,K=!1,q=!1,se=0)=>{for(let he=se;he<A.length;he++)me(A[he],y,O,K,q)},Ee=A=>A.shapeFlag&6?Ee(A.component.subTree):A.shapeFlag&128?A.suspense.next():T(A.anchor||A.el),Ve=(A,y,O)=>{A==null?y._vnode&&me(y._vnode,null,null,!0):j(y._vnode||null,A,y,null,null,null,O),I1(),y._vnode=A},$e={p:j,um:me,m:ae,r:Le,mt:U,mc:$,pc:Q,pbc:Ae,n:Ee,o:e};let Pe,He;return r&&([Pe,He]=r($e)),{render:Ve,hydrate:Pe,createApp:Dg(Ve,Pe)}}function ni({effect:e,update:r},s){e.allowRecurse=r.allowRecurse=s}function ql(e,r,s=!1){const u=e.children,f=r.children;if(ze(u)&&ze(f))for(let c=0;c<u.length;c++){const g=u[c];let E=f[c];E.shapeFlag&1&&!E.dynamicChildren&&((E.patchFlag<=0||E.patchFlag===32)&&(E=f[c]=kr(f[c]),E.el=g.el),s||ql(g,E))}}function Pg(e){const r=e.slice(),s=[0];let u,f,c,g,E;const x=e.length;for(u=0;u<x;u++){const m=e[u];if(m!==0){if(f=s[s.length-1],e[f]<m){r[u]=f,s.push(u);continue}for(c=0,g=s.length-1;c<g;)E=c+g>>1,e[s[E]]<m?c=E+1:g=E;m<e[s[c]]&&(c>0&&(r[u]=s[c-1]),s[c]=u)}}for(c=s.length,g=s[c-1];c-- >0;)s[c]=g,g=r[g];return s}const Bg=e=>e.__isTeleport,Es=e=>e&&(e.disabled||e.disabled===""),iu=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,il=(e,r)=>{const s=e&&e.to;return on(s)?r?r(s):null:s},kg={__isTeleport:!0,process(e,r,s,u,f,c,g,E,x,m){const{mc:p,pc:b,pbc:T,o:{insert:S,querySelector:F,createText:k,createComment:j}}=m,M=Es(r.props);let{shapeFlag:B,children:L,dynamicChildren:D}=r;if(e==null){const G=r.el=k(""),W=r.anchor=k("");S(G,s,u),S(W,s,u);const P=r.target=il(r.props,F),ce=r.targetAnchor=k("");P&&(S(ce,P),g=g||iu(P));const $=(ge,Ae)=>{B&16&&p(L,ge,Ae,f,c,g,E,x)};M?$(s,W):P&&$(P,ce)}else{r.el=e.el;const G=r.anchor=e.anchor,W=r.target=e.target,P=r.targetAnchor=e.targetAnchor,ce=Es(e.props),$=ce?s:W,ge=ce?G:P;if(g=g||iu(W),D?(T(e.dynamicChildren,D,$,f,c,g,E),ql(e,r,!0)):x||b(e,r,$,ge,f,c,g,E,!1),M)ce||ro(r,s,G,m,1);else if((r.props&&r.props.to)!==(e.props&&e.props.to)){const Ae=r.target=il(r.props,F);Ae&&ro(r,Ae,null,m,0)}else ce&&ro(r,W,P,m,1)}},remove(e,r,s,u,{um:f,o:{remove:c}},g){const{shapeFlag:E,children:x,anchor:m,targetAnchor:p,target:b,props:T}=e;if(b&&c(p),(g||!Es(T))&&(c(m),E&16))for(let S=0;S<x.length;S++){const F=x[S];f(F,r,s,!0,!!F.dynamicChildren)}},move:ro,hydrate:Fg};function ro(e,r,s,{o:{insert:u},m:f},c=2){c===0&&u(e.targetAnchor,r,s);const{el:g,anchor:E,shapeFlag:x,children:m,props:p}=e,b=c===2;if(b&&u(g,r,s),(!b||Es(p))&&x&16)for(let T=0;T<m.length;T++)f(m[T],r,s,2);b&&u(E,r,s)}function Fg(e,r,s,u,f,c,{o:{nextSibling:g,parentNode:E,querySelector:x}},m){const p=r.target=il(r.props,x);if(p){const b=p._lpa||p.firstChild;r.shapeFlag&16&&(Es(r.props)?(r.anchor=m(g(e),r,E(e),s,u,f,c),r.targetAnchor=b):(r.anchor=g(e),r.targetAnchor=m(b,r,p,s,u,f,c)),p._lpa=r.targetAnchor&&g(r.targetAnchor))}return r.anchor&&g(r.anchor)}const Ug=kg,Ql="components";function bC(e,r){return z1(Ql,e,!0,r)||e}const j1=Symbol();function AC(e){return on(e)?z1(Ql,e,!1)||e:e||j1}function z1(e,r,s=!0,u=!1){const f=Un||Qt;if(f){const c=f.type;if(e===Ql){const E=ol(c);if(E&&(E===r||E===lr(r)||E===Fl(lr(r))))return c}const g=su(f[e]||c[e],r)||su(f.appContext[e],r);return!g&&u?c:g}}function su(e,r){return e&&(e[r]||e[lr(r)]||e[Fl(lr(r))])}const Fn=Symbol(void 0),Yo=Symbol(void 0),$n=Symbol(void 0),ho=Symbol(void 0),ps=[];let ci=null;function Vg(e=!1){ps.push(ci=e?null:[])}function Hg(){ps.pop(),ci=ps[ps.length-1]||null}let bo=1;function ou(e){bo+=e}function $1(e){return e.dynamicChildren=bo>0?ci||Li:null,Hg(),bo>0&&ci&&ci.push(e),e}function yC(e,r,s,u,f,c){return $1(Z1(e,r,s,u,f,c,!0))}function Wg(e,r,s,u,f){return $1(ne(e,r,s,u,f,!0))}function Os(e){return e?e.__v_isVNode===!0:!1}function si(e,r){return e.type===r.type&&e.key===r.key}const jo="__vInternal",K1=({key:e})=>e!=null?e:null,go=({ref:e,ref_key:r,ref_for:s})=>e!=null?on(e)||Ot(e)||tt(e)?{i:Un,r:e,k:r,f:!!s}:e:null;function Z1(e,r=null,s=null,u=0,f=null,c=e===Fn?0:1,g=!1,E=!1){const x={__v_isVNode:!0,__v_skip:!0,type:e,props:r,key:r&&K1(r),ref:r&&go(r),scopeId:S1,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:u,dynamicProps:f,dynamicChildren:null,appContext:null};return E?(Jl(x,s),c&128&&e.normalize(x)):s&&(x.shapeFlag|=on(s)?8:16),bo>0&&!g&&ci&&(x.patchFlag>0||c&6)&&x.patchFlag!==32&&ci.push(x),x}const ne=Gg;function Gg(e,r=null,s=null,u=0,f=null,c=!1){if((!e||e===j1)&&(e=$n),Os(e)){const E=Xr(e,r,!0);return s&&Jl(E,s),E}if(Jg(e)&&(e=e.__vccOpts),r){r=Xg(r);let{class:E,style:x}=r;E&&!on(E)&&(r.class=Ml(E)),$t(x)&&(m1(x)&&!ze(x)&&(x=yn({},x)),r.style=Dl(x))}const g=on(e)?1:ug(e)?128:Bg(e)?64:$t(e)?4:tt(e)?2:0;return Z1(e,r,s,u,f,g,c,!0)}function Xg(e){return e?m1(e)||jo in e?yn({},e):e:null}function Xr(e,r,s=!1){const{props:u,ref:f,patchFlag:c,children:g}=e,E=r?cr(u||{},r):u;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:E,key:E&&K1(E),ref:r&&r.ref?s&&f?ze(f)?f.concat(go(r)):[f,go(r)]:go(r):f,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:g,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:r&&e.type!==Fn?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xr(e.ssContent),ssFallback:e.ssFallback&&Xr(e.ssFallback),el:e.el,anchor:e.anchor}}function q1(e=" ",r=0){return ne(Yo,null,e,r)}function _C(e,r){const s=ne(ho,null,e);return s.staticCount=r,s}function IC(e="",r=!1){return r?(Vg(),Wg($n,null,e)):ne($n,null,e)}function sr(e){return e==null||typeof e=="boolean"?ne($n):ze(e)?ne(Fn,null,e.slice()):typeof e=="object"?kr(e):ne(Yo,null,String(e))}function kr(e){return e.el===null||e.memo?e:Xr(e)}function Jl(e,r){let s=0;const{shapeFlag:u}=e;if(r==null)r=null;else if(ze(r))s=16;else if(typeof r=="object")if(u&65){const f=r.default;f&&(f._c&&(f._d=!1),Jl(e,f()),f._c&&(f._d=!0));return}else{s=32;const f=r._;!f&&!(jo in r)?r._ctx=Un:f===3&&Un&&(Un.slots._===1?r._=1:(r._=2,e.patchFlag|=1024))}else tt(r)?(r={default:r,_ctx:Un},s=32):(r=String(r),u&64?(s=16,r=[q1(r)]):s=8);e.children=r,e.shapeFlag|=s}function cr(...e){const r={};for(let s=0;s<e.length;s++){const u=e[s];for(const f in u)if(f==="class")r.class!==u.class&&(r.class=Ml([r.class,u.class]));else if(f==="style")r.style=Dl([r.style,u.style]);else if(Ll(f)){const c=r[f],g=u[f];g&&c!==g&&!(ze(c)&&c.includes(g))&&(r[f]=c?[].concat(c,g):g)}else f!==""&&(r[f]=u[f])}return r}function kn(e,r,s,u=null){Hn(e,r,7,[s,u])}function TC(e,r,s,u){let f;const c=s&&s[u];if(ze(e)||on(e)){f=new Array(e.length);for(let g=0,E=e.length;g<E;g++)f[g]=r(e[g],g,void 0,c&&c[g])}else if(typeof e=="number"){f=new Array(e);for(let g=0;g<e;g++)f[g]=r(g+1,g,void 0,c&&c[g])}else if($t(e))if(e[Symbol.iterator])f=Array.from(e,(g,E)=>r(g,E,void 0,c&&c[E]));else{const g=Object.keys(e);f=new Array(g.length);for(let E=0,x=g.length;E<x;E++){const m=g[E];f[E]=r(e[m],m,E,c&&c[E])}}else f=[];return s&&(s[u]=f),f}const sl=e=>e?Q1(e)?zo(e)||e.proxy:sl(e.parent):null,Ao=yn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sl(e.parent),$root:e=>sl(e.root),$emit:e=>e.emit,$options:e=>U1(e),$forceUpdate:e=>()=>A1(e.update),$nextTick:e=>Jt.bind(e.proxy),$watch:e=>dg.bind(e)}),Yg={get({_:e},r){const{ctx:s,setupState:u,data:f,props:c,accessCache:g,type:E,appContext:x}=e;let m;if(r[0]!=="$"){const S=g[r];if(S!==void 0)switch(S){case 1:return u[r];case 2:return f[r];case 4:return s[r];case 3:return c[r]}else{if(u!==At&&ot(u,r))return g[r]=1,u[r];if(f!==At&&ot(f,r))return g[r]=2,f[r];if((m=e.propsOptions[0])&&ot(m,r))return g[r]=3,c[r];if(s!==At&&ot(s,r))return g[r]=4,s[r];el&&(g[r]=0)}}const p=Ao[r];let b,T;if(p)return r==="$attrs"&&Nn(e,"get",r),p(e);if((b=E.__cssModules)&&(b=b[r]))return b;if(s!==At&&ot(s,r))return g[r]=4,s[r];if(T=x.config.globalProperties,ot(T,r))return T[r]},set({_:e},r,s){const{data:u,setupState:f,ctx:c}=e;return f!==At&&ot(f,r)?(f[r]=s,!0):u!==At&&ot(u,r)?(u[r]=s,!0):ot(e.props,r)||r[0]==="$"&&r.slice(1)in e?!1:(c[r]=s,!0)},has({_:{data:e,setupState:r,accessCache:s,ctx:u,appContext:f,propsOptions:c}},g){let E;return!!s[g]||e!==At&&ot(e,g)||r!==At&&ot(r,g)||(E=c[0])&&ot(E,g)||ot(u,g)||ot(Ao,g)||ot(f.config.globalProperties,g)},defineProperty(e,r,s){return s.get!=null?e._.accessCache[r]=0:ot(s,"value")&&this.set(e,r,s.value,null),Reflect.defineProperty(e,r,s)}},jg=Y1();let zg=0;function $g(e,r,s){const u=e.type,f=(r?r.appContext:e.appContext)||jg,c={uid:zg++,vnode:e,type:u,parent:r,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new n1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:H1(u,f),emitsOptions:v1(u,f),emit:null,emitted:null,propsDefaults:At,inheritAttrs:u.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=r?r.root:c,c.emit=ig.bind(null,c),e.ce&&e.ce(c),c}let Qt=null;const fn=()=>Qt||Un,Fi=e=>{Qt=e,e.scope.on()},ui=()=>{Qt&&Qt.scope.off(),Qt=null};function Q1(e){return e.vnode.shapeFlag&4}let Rs=!1;function Kg(e,r=!1){Rs=r;const{props:s,children:u}=e.vnode,f=Q1(e);Tg(e,s,f,r),Ng(e,u);const c=f?Zg(e,r):void 0;return Rs=!1,c}function Zg(e,r){const s=e.type;e.accessCache=Object.create(null),e.proxy=ki(new Proxy(e.ctx,Yg));const{setup:u}=s;if(u){const f=e.setupContext=u.length>1?Qg(e):null;Fi(e),Wi();const c=Hr(u,e,0,[e.props,f]);if(Gi(),ui(),Jf(c)){if(c.then(ui,ui),r)return c.then(g=>{au(e,g,r)}).catch(g=>{Ho(g,e,0)});e.asyncDep=c}else au(e,c,r)}else J1(e,r)}function au(e,r,s){tt(r)?e.type.__ssrInlineRender?e.ssrRender=r:e.render=r:$t(r)&&(e.setupState=C1(r)),J1(e,s)}let lu;function J1(e,r,s){const u=e.type;if(!e.render){if(!r&&lu&&!u.render){const f=u.template;if(f){const{isCustomElement:c,compilerOptions:g}=e.appContext.config,{delimiters:E,compilerOptions:x}=u,m=yn(yn({isCustomElement:c,delimiters:E},g),x);u.render=lu(f,m)}}e.render=u.render||zn}Fi(e),Wi(),bg(e),Gi(),ui()}function qg(e){return new Proxy(e.attrs,{get(r,s){return Nn(e,"get","$attrs"),r[s]}})}function Qg(e){const r=u=>{e.exposed=u||{}};let s;return{get attrs(){return s||(s=qg(e))},slots:e.slots,emit:e.emit,expose:r}}function zo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(C1(ki(e.exposed)),{get(r,s){if(s in r)return r[s];if(s in Ao)return Ao[s](e)}}))}function ol(e){return tt(e)&&e.displayName||e.name}function Jg(e){return tt(e)&&"__vccOpts"in e}const Re=(e,r)=>Jh(e,r,Rs);function Bs(e,r,s){const u=arguments.length;return u===2?$t(r)&&!ze(r)?Os(r)?ne(e,null,[r]):ne(e,r):ne(e,null,r):(u>3?s=Array.prototype.slice.call(arguments,2):u===3&&Os(s)&&(s=[s]),ne(e,r,s))}const e2="3.2.33";function t2(e,r){const s=Object.create(null),u=e.split(",");for(let f=0;f<u.length;f++)s[u[f]]=!0;return r?f=>!!s[f.toLowerCase()]:f=>!!s[f]}const n2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",r2=t2(n2);function e0(e){return!!e||e===""}const i2=/^on[^a-z]/,s2=e=>i2.test(e),o2=e=>e.startsWith("onUpdate:"),ec=Object.assign,ks=Array.isArray,t0=e=>typeof e=="function",yo=e=>typeof e=="string",a2=e=>e!==null&&typeof e=="object",n0=e=>{const r=Object.create(null);return s=>r[s]||(r[s]=e(s))},l2=/\B([A-Z])/g,r0=n0(e=>e.replace(l2,"-$1").toLowerCase()),c2=n0(e=>e.charAt(0).toUpperCase()+e.slice(1)),u2=(e,r)=>{for(let s=0;s<e.length;s++)e[s](r)},al=e=>{const r=parseFloat(e);return isNaN(r)?e:r},f2="http://www.w3.org/2000/svg",oi=typeof document!="undefined"?document:null,cu=oi&&oi.createElement("template"),d2={insert:(e,r,s)=>{r.insertBefore(e,s||null)},remove:e=>{const r=e.parentNode;r&&r.removeChild(e)},createElement:(e,r,s,u)=>{const f=r?oi.createElementNS(f2,e):oi.createElement(e,s?{is:s}:void 0);return e==="select"&&u&&u.multiple!=null&&f.setAttribute("multiple",u.multiple),f},createText:e=>oi.createTextNode(e),createComment:e=>oi.createComment(e),setText:(e,r)=>{e.nodeValue=r},setElementText:(e,r)=>{e.textContent=r},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>oi.querySelector(e),setScopeId(e,r){e.setAttribute(r,"")},cloneNode(e){const r=e.cloneNode(!0);return"_value"in e&&(r._value=e._value),r},insertStaticContent(e,r,s,u,f,c){const g=s?s.previousSibling:r.lastChild;if(f&&(f===c||f.nextSibling))for(;r.insertBefore(f.cloneNode(!0),s),!(f===c||!(f=f.nextSibling)););else{cu.innerHTML=u?`<svg>${e}</svg>`:e;const E=cu.content;if(u){const x=E.firstChild;for(;x.firstChild;)E.appendChild(x.firstChild);E.removeChild(x)}r.insertBefore(E,s)}return[g?g.nextSibling:r.firstChild,s?s.previousSibling:r.lastChild]}};function h2(e,r,s){const u=e._vtc;u&&(r=(r?[r,...u]:[...u]).join(" ")),r==null?e.removeAttribute("class"):s?e.setAttribute("class",r):e.className=r}function g2(e,r,s){const u=e.style,f=yo(s);if(s&&!f){for(const c in s)ll(u,c,s[c]);if(r&&!yo(r))for(const c in r)s[c]==null&&ll(u,c,"")}else{const c=u.display;f?r!==s&&(u.cssText=s):r&&e.removeAttribute("style"),"_vod"in e&&(u.display=c)}}const uu=/\s*!important$/;function ll(e,r,s){if(ks(s))s.forEach(u=>ll(e,r,u));else if(s==null&&(s=""),r.startsWith("--"))e.setProperty(r,s);else{const u=m2(e,r);uu.test(s)?e.setProperty(r0(u),s.replace(uu,""),"important"):e[u]=s}}const fu=["Webkit","Moz","ms"],Ma={};function m2(e,r){const s=Ma[r];if(s)return s;let u=lr(r);if(u!=="filter"&&u in e)return Ma[r]=u;u=c2(u);for(let f=0;f<fu.length;f++){const c=fu[f]+u;if(c in e)return Ma[r]=c}return r}const du="http://www.w3.org/1999/xlink";function x2(e,r,s,u,f){if(u&&r.startsWith("xlink:"))s==null?e.removeAttributeNS(du,r.slice(6,r.length)):e.setAttributeNS(du,r,s);else{const c=r2(r);s==null||c&&!e0(s)?e.removeAttribute(r):e.setAttribute(r,c?"":s)}}function w2(e,r,s,u,f,c,g){if(r==="innerHTML"||r==="textContent"){u&&g(u,f,c),e[r]=s==null?"":s;return}if(r==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const x=s==null?"":s;(e.value!==x||e.tagName==="OPTION")&&(e.value=x),s==null&&e.removeAttribute(r);return}let E=!1;if(s===""||s==null){const x=typeof e[r];x==="boolean"?s=e0(s):s==null&&x==="string"?(s="",E=!0):x==="number"&&(s=0,E=!0)}try{e[r]=s}catch(x){}E&&e.removeAttribute(r)}const[i0,E2]=(()=>{let e=Date.now,r=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const s=navigator.userAgent.match(/firefox\/(\d+)/i);r=!!(s&&Number(s[1])<=53)}return[e,r]})();let cl=0;const p2=Promise.resolve(),C2=()=>{cl=0},b2=()=>cl||(p2.then(C2),cl=i0());function Ni(e,r,s,u){e.addEventListener(r,s,u)}function A2(e,r,s,u){e.removeEventListener(r,s,u)}function y2(e,r,s,u,f=null){const c=e._vei||(e._vei={}),g=c[r];if(u&&g)g.value=u;else{const[E,x]=_2(r);if(u){const m=c[r]=I2(u,f);Ni(e,E,m,x)}else g&&(A2(e,E,g,x),c[r]=void 0)}}const hu=/(?:Once|Passive|Capture)$/;function _2(e){let r;if(hu.test(e)){r={};let s;for(;s=e.match(hu);)e=e.slice(0,e.length-s[0].length),r[s[0].toLowerCase()]=!0}return[r0(e.slice(2)),r]}function I2(e,r){const s=u=>{const f=u.timeStamp||i0();(E2||f>=s.attached-1)&&Hn(T2(u,s.value),r,5,[u])};return s.value=e,s.attached=b2(),s}function T2(e,r){if(ks(r)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},r.map(u=>f=>!f._stopped&&u&&u(f))}else return r}const gu=/^on[a-z]/,v2=(e,r,s,u,f=!1,c,g,E,x)=>{r==="class"?h2(e,u,f):r==="style"?g2(e,s,u):s2(r)?o2(r)||y2(e,r,s,u,g):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):S2(e,r,u,f))?w2(e,r,u,c,g,E,x):(r==="true-value"?e._trueValue=u:r==="false-value"&&(e._falseValue=u),x2(e,r,u,f))};function S2(e,r,s,u){return u?!!(r==="innerHTML"||r==="textContent"||r in e&&gu.test(r)&&t0(s)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&e.tagName==="INPUT"||r==="type"&&e.tagName==="TEXTAREA"||gu.test(r)&&yo(s)?!1:r in e}const Rr="transition",ns="animation",$o=(e,{slots:r})=>Bs(R1,N2(e),r);$o.displayName="Transition";const s0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};$o.props=ec({},R1.props,s0);const ri=(e,r=[])=>{ks(e)?e.forEach(s=>s(...r)):e&&e(...r)},mu=e=>e?ks(e)?e.some(r=>r.length>1):e.length>1:!1;function N2(e){const r={};for(const z in e)z in s0||(r[z]=e[z]);if(e.css===!1)return r;const{name:s="v",type:u,duration:f,enterFromClass:c=`${s}-enter-from`,enterActiveClass:g=`${s}-enter-active`,enterToClass:E=`${s}-enter-to`,appearFromClass:x=c,appearActiveClass:m=g,appearToClass:p=E,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:T=`${s}-leave-active`,leaveToClass:S=`${s}-leave-to`}=e,F=O2(f),k=F&&F[0],j=F&&F[1],{onBeforeEnter:M,onEnter:B,onEnterCancelled:L,onLeave:D,onLeaveCancelled:G,onBeforeAppear:W=M,onAppear:P=B,onAppearCancelled:ce=L}=r,$=(z,le,be)=>{Ai(z,le?p:E),Ai(z,le?m:g),be&&be()},ge=(z,le)=>{Ai(z,S),Ai(z,T),le&&le()},Ae=z=>(le,be)=>{const U=z?P:B,de=()=>$(le,z,be);ri(U,[le,de]),xu(()=>{Ai(le,z?x:c),Dr(le,z?p:E),mu(U)||wu(le,u,k,de)})};return ec(r,{onBeforeEnter(z){ri(M,[z]),Dr(z,c),Dr(z,g)},onBeforeAppear(z){ri(W,[z]),Dr(z,x),Dr(z,m)},onEnter:Ae(!1),onAppear:Ae(!0),onLeave(z,le){const be=()=>ge(z,le);Dr(z,b),M2(),Dr(z,T),xu(()=>{Ai(z,b),Dr(z,S),mu(D)||wu(z,u,j,be)}),ri(D,[z,be])},onEnterCancelled(z){$(z,!1),ri(L,[z])},onAppearCancelled(z){$(z,!0),ri(ce,[z])},onLeaveCancelled(z){ge(z),ri(G,[z])}})}function O2(e){if(e==null)return null;if(a2(e))return[La(e.enter),La(e.leave)];{const r=La(e);return[r,r]}}function La(e){return al(e)}function Dr(e,r){r.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(r)}function Ai(e,r){r.split(/\s+/).forEach(u=>u&&e.classList.remove(u));const{_vtc:s}=e;s&&(s.delete(r),s.size||(e._vtc=void 0))}function xu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let R2=0;function wu(e,r,s,u){const f=e._endId=++R2,c=()=>{f===e._endId&&u()};if(s)return setTimeout(c,s);const{type:g,timeout:E,propCount:x}=D2(e,r);if(!g)return u();const m=g+"end";let p=0;const b=()=>{e.removeEventListener(m,T),c()},T=S=>{S.target===e&&++p>=x&&b()};setTimeout(()=>{p<x&&b()},E+1),e.addEventListener(m,T)}function D2(e,r){const s=window.getComputedStyle(e),u=F=>(s[F]||"").split(", "),f=u(Rr+"Delay"),c=u(Rr+"Duration"),g=Eu(f,c),E=u(ns+"Delay"),x=u(ns+"Duration"),m=Eu(E,x);let p=null,b=0,T=0;r===Rr?g>0&&(p=Rr,b=g,T=c.length):r===ns?m>0&&(p=ns,b=m,T=x.length):(b=Math.max(g,m),p=b>0?g>m?Rr:ns:null,T=p?p===Rr?c.length:x.length:0);const S=p===Rr&&/\b(transform|all)(,|$)/.test(s[Rr+"Property"]);return{type:p,timeout:b,propCount:T,hasTransform:S}}function Eu(e,r){for(;e.length<r.length;)e=e.concat(e);return Math.max(...r.map((s,u)=>pu(s)+pu(e[u])))}function pu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function M2(){return document.body.offsetHeight}const Cu=e=>{const r=e.props["onUpdate:modelValue"];return ks(r)?s=>u2(r,s):r};function L2(e){e.target.composing=!0}function bu(e){const r=e.target;r.composing&&(r.composing=!1,P2(r,"input"))}function P2(e,r){const s=document.createEvent("HTMLEvents");s.initEvent(r,!0,!0),e.dispatchEvent(s)}const vC={created(e,{modifiers:{lazy:r,trim:s,number:u}},f){e._assign=Cu(f);const c=u||f.props&&f.props.type==="number";Ni(e,r?"change":"input",g=>{if(g.target.composing)return;let E=e.value;s?E=E.trim():c&&(E=al(E)),e._assign(E)}),s&&Ni(e,"change",()=>{e.value=e.value.trim()}),r||(Ni(e,"compositionstart",L2),Ni(e,"compositionend",bu),Ni(e,"change",bu))},mounted(e,{value:r}){e.value=r==null?"":r},beforeUpdate(e,{value:r,modifiers:{lazy:s,trim:u,number:f}},c){if(e._assign=Cu(c),e.composing||document.activeElement===e&&(s||u&&e.value.trim()===r||(f||e.type==="number")&&al(e.value)===r))return;const g=r==null?"":r;e.value!==g&&(e.value=g)}},tc={beforeMount(e,{value:r},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&r?s.beforeEnter(e):rs(e,r)},mounted(e,{value:r},{transition:s}){s&&r&&s.enter(e)},updated(e,{value:r,oldValue:s},{transition:u}){!r!=!s&&(u?r?(u.beforeEnter(e),rs(e,!0),u.enter(e)):u.leave(e,()=>{rs(e,!1)}):rs(e,r))},beforeUnmount(e,{value:r}){rs(e,r)}};function rs(e,r){e.style.display=r?e._vod:"none"}const B2=ec({patchProp:v2},d2);let Au;function k2(){return Au||(Au=Mg(B2))}const F2=(...e)=>{const r=k2().createApp(...e),{mount:s}=r;return r.mount=u=>{const f=U2(u);if(!f)return;const c=r._component;!t0(c)&&!c.render&&!c.template&&(c.template=f.innerHTML),f.innerHTML="";const g=s(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),g},r};function U2(e){return yo(e)?document.querySelector(e):e}(function(r,s){var u=s.documentElement,f=r.devicePixelRatio||1;function c(){s.body?s.body.style.fontSize=12*f+"px":s.addEventListener("DOMContentLoaded",c)}c();function g(){var m=u.clientWidth/10;u.style.fontSize=m+"px"}if(g(),r.addEventListener("resize",g),r.addEventListener("pageshow",function(m){m.persisted&&g()}),f>=2){var E=s.createElement("body"),x=s.createElement("div");x.style.border=".5px solid transparent",E.appendChild(x),u.appendChild(E),x.offsetHeight===1&&u.classList.add("hairlines"),u.removeChild(E)}})(window,document);/*!
  * shared v9.2.0
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ul=typeof window!="undefined",V2=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",jr=e=>V2?Symbol(e):e,H2=(e,r,s)=>W2({l:e,k:r,s}),W2=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Gt=e=>typeof e=="number"&&isFinite(e),G2=e=>rc(e)==="[object Date]",Yr=e=>rc(e)==="[object RegExp]",Ko=e=>Ye(e)&&Object.keys(e).length===0;function X2(e,r){}const en=Object.assign;let yu;const Cs=()=>yu||(yu=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function _u(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Y2=Object.prototype.hasOwnProperty;function nc(e,r){return Y2.call(e,r)}const It=Array.isArray,Ut=e=>typeof e=="function",Oe=e=>typeof e=="string",st=e=>typeof e=="boolean",Tt=e=>e!==null&&typeof e=="object",o0=Object.prototype.toString,rc=e=>o0.call(e),Ye=e=>rc(e)==="[object Object]",j2=e=>e==null?"":It(e)||Ye(e)&&e.toString===o0?JSON.stringify(e,null,2):String(e);/*!
  * message-compiler v9.2.0
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ct={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function Zo(e,r,s={}){const{domain:u,messages:f,args:c}=s,g=e,E=new SyntaxError(String(g));return E.code=e,r&&(E.location=r),E.domain=u,E}function z2(e){throw e}function $2(e,r,s){return{line:e,column:r,offset:s}}function fl(e,r,s){const u={start:e,end:r};return s!=null&&(u.source=s),u}const ur=" ",K2="\r",gn=`
`,Z2=String.fromCharCode(8232),q2=String.fromCharCode(8233);function Q2(e){const r=e;let s=0,u=1,f=1,c=0;const g=P=>r[P]===K2&&r[P+1]===gn,E=P=>r[P]===gn,x=P=>r[P]===q2,m=P=>r[P]===Z2,p=P=>g(P)||E(P)||x(P)||m(P),b=()=>s,T=()=>u,S=()=>f,F=()=>c,k=P=>g(P)||x(P)||m(P)?gn:r[P],j=()=>k(s),M=()=>k(s+c);function B(){return c=0,p(s)&&(u++,f=0),g(s)&&s++,s++,f++,r[s]}function L(){return g(s+c)&&c++,c++,r[s+c]}function D(){s=0,u=1,f=1,c=0}function G(P=0){c=P}function W(){const P=s+c;for(;P!==s;)B();c=0}return{index:b,line:T,column:S,peekOffset:F,charAt:k,currentChar:j,currentPeek:M,next:B,peek:L,reset:D,resetPeek:G,skipToPeek:W}}const Mr=void 0,Iu="'",J2="tokenizer";function em(e,r={}){const s=r.location!==!1,u=Q2(e),f=()=>u.index(),c=()=>$2(u.line(),u.column(),u.index()),g=c(),E=f(),x={currentType:14,offset:E,startLoc:g,endLoc:g,lastType:14,lastOffset:E,lastStartLoc:g,lastEndLoc:g,braceNest:0,inLinked:!1,text:""},m=()=>x,{onError:p}=r;function b(A,y,O,...K){const q=m();if(y.column+=O,y.offset+=O,p){const se=fl(q.startLoc,y),he=Zo(A,se,{domain:J2,args:K});p(he)}}function T(A,y,O){A.endLoc=c(),A.currentType=y;const K={type:y};return s&&(K.loc=fl(A.startLoc,A.endLoc)),O!=null&&(K.value=O),K}const S=A=>T(A,14);function F(A,y){return A.currentChar()===y?(A.next(),y):(b(ct.EXPECTED_TOKEN,c(),0,y),"")}function k(A){let y="";for(;A.currentPeek()===ur||A.currentPeek()===gn;)y+=A.currentPeek(),A.peek();return y}function j(A){const y=k(A);return A.skipToPeek(),y}function M(A){if(A===Mr)return!1;const y=A.charCodeAt(0);return y>=97&&y<=122||y>=65&&y<=90||y===95}function B(A){if(A===Mr)return!1;const y=A.charCodeAt(0);return y>=48&&y<=57}function L(A,y){const{currentType:O}=y;if(O!==2)return!1;k(A);const K=M(A.currentPeek());return A.resetPeek(),K}function D(A,y){const{currentType:O}=y;if(O!==2)return!1;k(A);const K=A.currentPeek()==="-"?A.peek():A.currentPeek(),q=B(K);return A.resetPeek(),q}function G(A,y){const{currentType:O}=y;if(O!==2)return!1;k(A);const K=A.currentPeek()===Iu;return A.resetPeek(),K}function W(A,y){const{currentType:O}=y;if(O!==8)return!1;k(A);const K=A.currentPeek()===".";return A.resetPeek(),K}function P(A,y){const{currentType:O}=y;if(O!==9)return!1;k(A);const K=M(A.currentPeek());return A.resetPeek(),K}function ce(A,y){const{currentType:O}=y;if(!(O===8||O===12))return!1;k(A);const K=A.currentPeek()===":";return A.resetPeek(),K}function $(A,y){const{currentType:O}=y;if(O!==10)return!1;const K=()=>{const se=A.currentPeek();return se==="{"?M(A.peek()):se==="@"||se==="%"||se==="|"||se===":"||se==="."||se===ur||!se?!1:se===gn?(A.peek(),K()):M(se)},q=K();return A.resetPeek(),q}function ge(A){k(A);const y=A.currentPeek()==="|";return A.resetPeek(),y}function Ae(A){const y=k(A),O=A.currentPeek()==="%"&&A.peek()==="{";return A.resetPeek(),{isModulo:O,hasSpace:y.length>0}}function z(A,y=!0){const O=(q=!1,se="",he=!1)=>{const pe=A.currentPeek();return pe==="{"?se==="%"?!1:q:pe==="@"||!pe?se==="%"?!0:q:pe==="%"?(A.peek(),O(q,"%",!0)):pe==="|"?se==="%"||he?!0:!(se===ur||se===gn):pe===ur?(A.peek(),O(!0,ur,he)):pe===gn?(A.peek(),O(!0,gn,he)):!0},K=O();return y&&A.resetPeek(),K}function le(A,y){const O=A.currentChar();return O===Mr?Mr:y(O)?(A.next(),O):null}function be(A){return le(A,O=>{const K=O.charCodeAt(0);return K>=97&&K<=122||K>=65&&K<=90||K>=48&&K<=57||K===95||K===36})}function U(A){return le(A,O=>{const K=O.charCodeAt(0);return K>=48&&K<=57})}function de(A){return le(A,O=>{const K=O.charCodeAt(0);return K>=48&&K<=57||K>=65&&K<=70||K>=97&&K<=102})}function fe(A){let y="",O="";for(;y=U(A);)O+=y;return O}function Se(A){j(A);const y=A.currentChar();return y!=="%"&&b(ct.EXPECTED_TOKEN,c(),0,y),A.next(),"%"}function Q(A){let y="";for(;;){const O=A.currentChar();if(O==="{"||O==="}"||O==="@"||O==="|"||!O)break;if(O==="%")if(z(A))y+=O,A.next();else break;else if(O===ur||O===gn)if(z(A))y+=O,A.next();else{if(ge(A))break;y+=O,A.next()}else y+=O,A.next()}return y}function we(A){j(A);let y="",O="";for(;y=be(A);)O+=y;return A.currentChar()===Mr&&b(ct.UNTERMINATED_CLOSING_BRACE,c(),0),O}function Te(A){j(A);let y="";return A.currentChar()==="-"?(A.next(),y+=`-${fe(A)}`):y+=fe(A),A.currentChar()===Mr&&b(ct.UNTERMINATED_CLOSING_BRACE,c(),0),y}function ae(A){j(A),F(A,"'");let y="",O="";const K=se=>se!==Iu&&se!==gn;for(;y=le(A,K);)y==="\\"?O+=me(A):O+=y;const q=A.currentChar();return q===gn||q===Mr?(b(ct.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,c(),0),q===gn&&(A.next(),F(A,"'")),O):(F(A,"'"),O)}function me(A){const y=A.currentChar();switch(y){case"\\":case"'":return A.next(),`\\${y}`;case"u":return Le(A,y,4);case"U":return Le(A,y,6);default:return b(ct.UNKNOWN_ESCAPE_SEQUENCE,c(),0,y),""}}function Le(A,y,O){F(A,y);let K="";for(let q=0;q<O;q++){const se=de(A);if(!se){b(ct.INVALID_UNICODE_ESCAPE_SEQUENCE,c(),0,`\\${y}${K}${A.currentChar()}`);break}K+=se}return`\\${y}${K}`}function V(A){j(A);let y="",O="";const K=q=>q!=="{"&&q!=="}"&&q!==ur&&q!==gn;for(;y=le(A,K);)O+=y;return O}function te(A){let y="",O="";for(;y=be(A);)O+=y;return O}function ue(A){const y=(O=!1,K)=>{const q=A.currentChar();return q==="{"||q==="%"||q==="@"||q==="|"||!q||q===ur?K:q===gn?(K+=q,A.next(),y(O,K)):(K+=q,A.next(),y(!0,K))};return y(!1,"")}function Ee(A){j(A);const y=F(A,"|");return j(A),y}function Ve(A,y){let O=null;switch(A.currentChar()){case"{":return y.braceNest>=1&&b(ct.NOT_ALLOW_NEST_PLACEHOLDER,c(),0),A.next(),O=T(y,2,"{"),j(A),y.braceNest++,O;case"}":return y.braceNest>0&&y.currentType===2&&b(ct.EMPTY_PLACEHOLDER,c(),0),A.next(),O=T(y,3,"}"),y.braceNest--,y.braceNest>0&&j(A),y.inLinked&&y.braceNest===0&&(y.inLinked=!1),O;case"@":return y.braceNest>0&&b(ct.UNTERMINATED_CLOSING_BRACE,c(),0),O=$e(A,y)||S(y),y.braceNest=0,O;default:let q=!0,se=!0,he=!0;if(ge(A))return y.braceNest>0&&b(ct.UNTERMINATED_CLOSING_BRACE,c(),0),O=T(y,1,Ee(A)),y.braceNest=0,y.inLinked=!1,O;if(y.braceNest>0&&(y.currentType===5||y.currentType===6||y.currentType===7))return b(ct.UNTERMINATED_CLOSING_BRACE,c(),0),y.braceNest=0,Pe(A,y);if(q=L(A,y))return O=T(y,5,we(A)),j(A),O;if(se=D(A,y))return O=T(y,6,Te(A)),j(A),O;if(he=G(A,y))return O=T(y,7,ae(A)),j(A),O;if(!q&&!se&&!he)return O=T(y,13,V(A)),b(ct.INVALID_TOKEN_IN_PLACEHOLDER,c(),0,O.value),j(A),O;break}return O}function $e(A,y){const{currentType:O}=y;let K=null;const q=A.currentChar();switch((O===8||O===9||O===12||O===10)&&(q===gn||q===ur)&&b(ct.INVALID_LINKED_FORMAT,c(),0),q){case"@":return A.next(),K=T(y,8,"@"),y.inLinked=!0,K;case".":return j(A),A.next(),T(y,9,".");case":":return j(A),A.next(),T(y,10,":");default:return ge(A)?(K=T(y,1,Ee(A)),y.braceNest=0,y.inLinked=!1,K):W(A,y)||ce(A,y)?(j(A),$e(A,y)):P(A,y)?(j(A),T(y,12,te(A))):$(A,y)?(j(A),q==="{"?Ve(A,y)||K:T(y,11,ue(A))):(O===8&&b(ct.INVALID_LINKED_FORMAT,c(),0),y.braceNest=0,y.inLinked=!1,Pe(A,y))}}function Pe(A,y){let O={type:14};if(y.braceNest>0)return Ve(A,y)||S(y);if(y.inLinked)return $e(A,y)||S(y);switch(A.currentChar()){case"{":return Ve(A,y)||S(y);case"}":return b(ct.UNBALANCED_CLOSING_BRACE,c(),0),A.next(),T(y,3,"}");case"@":return $e(A,y)||S(y);default:if(ge(A))return O=T(y,1,Ee(A)),y.braceNest=0,y.inLinked=!1,O;const{isModulo:q,hasSpace:se}=Ae(A);if(q)return se?T(y,0,Q(A)):T(y,4,Se(A));if(z(A))return T(y,0,Q(A));break}return O}function He(){const{currentType:A,offset:y,startLoc:O,endLoc:K}=x;return x.lastType=A,x.lastOffset=y,x.lastStartLoc=O,x.lastEndLoc=K,x.offset=f(),x.startLoc=c(),u.currentChar()===Mr?T(x,14):Pe(u,x)}return{nextToken:He,currentOffset:f,currentPosition:c,context:m}}const tm="parser",nm=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function rm(e,r,s){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const u=parseInt(r||s,16);return u<=55295||u>=57344?String.fromCodePoint(u):"�"}}}function im(e={}){const r=e.location!==!1,{onError:s}=e;function u(M,B,L,D,...G){const W=M.currentPosition();if(W.offset+=D,W.column+=D,s){const P=fl(L,W),ce=Zo(B,P,{domain:tm,args:G});s(ce)}}function f(M,B,L){const D={type:M,start:B,end:B};return r&&(D.loc={start:L,end:L}),D}function c(M,B,L,D){M.end=B,D&&(M.type=D),r&&M.loc&&(M.loc.end=L)}function g(M,B){const L=M.context(),D=f(3,L.offset,L.startLoc);return D.value=B,c(D,M.currentOffset(),M.currentPosition()),D}function E(M,B){const L=M.context(),{lastOffset:D,lastStartLoc:G}=L,W=f(5,D,G);return W.index=parseInt(B,10),M.nextToken(),c(W,M.currentOffset(),M.currentPosition()),W}function x(M,B){const L=M.context(),{lastOffset:D,lastStartLoc:G}=L,W=f(4,D,G);return W.key=B,M.nextToken(),c(W,M.currentOffset(),M.currentPosition()),W}function m(M,B){const L=M.context(),{lastOffset:D,lastStartLoc:G}=L,W=f(9,D,G);return W.value=B.replace(nm,rm),M.nextToken(),c(W,M.currentOffset(),M.currentPosition()),W}function p(M){const B=M.nextToken(),L=M.context(),{lastOffset:D,lastStartLoc:G}=L,W=f(8,D,G);return B.type!==12?(u(M,ct.UNEXPECTED_EMPTY_LINKED_MODIFIER,L.lastStartLoc,0),W.value="",c(W,D,G),{nextConsumeToken:B,node:W}):(B.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,rr(B)),W.value=B.value||"",c(W,M.currentOffset(),M.currentPosition()),{node:W})}function b(M,B){const L=M.context(),D=f(7,L.offset,L.startLoc);return D.value=B,c(D,M.currentOffset(),M.currentPosition()),D}function T(M){const B=M.context(),L=f(6,B.offset,B.startLoc);let D=M.nextToken();if(D.type===9){const G=p(M);L.modifier=G.node,D=G.nextConsumeToken||M.nextToken()}switch(D.type!==10&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr(D)),D=M.nextToken(),D.type===2&&(D=M.nextToken()),D.type){case 11:D.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr(D)),L.key=b(M,D.value||"");break;case 5:D.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr(D)),L.key=x(M,D.value||"");break;case 6:D.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr(D)),L.key=E(M,D.value||"");break;case 7:D.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr(D)),L.key=m(M,D.value||"");break;default:u(M,ct.UNEXPECTED_EMPTY_LINKED_KEY,B.lastStartLoc,0);const G=M.context(),W=f(7,G.offset,G.startLoc);return W.value="",c(W,G.offset,G.startLoc),L.key=W,c(L,G.offset,G.startLoc),{nextConsumeToken:D,node:L}}return c(L,M.currentOffset(),M.currentPosition()),{node:L}}function S(M){const B=M.context(),L=B.currentType===1?M.currentOffset():B.offset,D=B.currentType===1?B.endLoc:B.startLoc,G=f(2,L,D);G.items=[];let W=null;do{const $=W||M.nextToken();switch(W=null,$.type){case 0:$.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr($)),G.items.push(g(M,$.value||""));break;case 6:$.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr($)),G.items.push(E(M,$.value||""));break;case 5:$.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr($)),G.items.push(x(M,$.value||""));break;case 7:$.value==null&&u(M,ct.UNEXPECTED_LEXICAL_ANALYSIS,B.lastStartLoc,0,rr($)),G.items.push(m(M,$.value||""));break;case 8:const ge=T(M);G.items.push(ge.node),W=ge.nextConsumeToken||null;break}}while(B.currentType!==14&&B.currentType!==1);const P=B.currentType===1?B.lastOffset:M.currentOffset(),ce=B.currentType===1?B.lastEndLoc:M.currentPosition();return c(G,P,ce),G}function F(M,B,L,D){const G=M.context();let W=D.items.length===0;const P=f(1,B,L);P.cases=[],P.cases.push(D);do{const ce=S(M);W||(W=ce.items.length===0),P.cases.push(ce)}while(G.currentType!==14);return W&&u(M,ct.MUST_HAVE_MESSAGES_IN_PLURAL,L,0),c(P,M.currentOffset(),M.currentPosition()),P}function k(M){const B=M.context(),{offset:L,startLoc:D}=B,G=S(M);return B.currentType===14?G:F(M,L,D,G)}function j(M){const B=em(M,en({},e)),L=B.context(),D=f(0,L.offset,L.startLoc);return r&&D.loc&&(D.loc.source=M),D.body=k(B),L.currentType!==14&&u(B,ct.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,M[L.offset]||""),c(D,B.currentOffset(),B.currentPosition()),D}return{parse:j}}function rr(e){if(e.type===14)return"EOF";const r=(e.value||"").replace(/\r?\n/gu,"\\n");return r.length>10?r.slice(0,9)+"…":r}function sm(e,r={}){const s={ast:e,helpers:new Set};return{context:()=>s,helper:c=>(s.helpers.add(c),c)}}function Tu(e,r){for(let s=0;s<e.length;s++)ic(e[s],r)}function ic(e,r){switch(e.type){case 1:Tu(e.cases,r),r.helper("plural");break;case 2:Tu(e.items,r);break;case 6:ic(e.key,r),r.helper("linked"),r.helper("type");break;case 5:r.helper("interpolate"),r.helper("list");break;case 4:r.helper("interpolate"),r.helper("named");break}}function om(e,r={}){const s=sm(e);s.helper("normalize"),e.body&&ic(e.body,s);const u=s.context();e.helpers=Array.from(u.helpers)}function am(e,r){const{sourceMap:s,filename:u,breakLineCode:f,needIndent:c}=r,g={source:e.loc.source,filename:u,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:f,needIndent:c,indentLevel:0},E=()=>g;function x(k,j){g.code+=k}function m(k,j=!0){const M=j?f:"";x(c?M+"  ".repeat(k):M)}function p(k=!0){const j=++g.indentLevel;k&&m(j)}function b(k=!0){const j=--g.indentLevel;k&&m(j)}function T(){m(g.indentLevel)}return{context:E,push:x,indent:p,deindent:b,newline:T,helper:k=>`_${k}`,needIndent:()=>g.needIndent}}function lm(e,r){const{helper:s}=e;e.push(`${s("linked")}(`),Ui(e,r.key),r.modifier?(e.push(", "),Ui(e,r.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function cm(e,r){const{helper:s,needIndent:u}=e;e.push(`${s("normalize")}([`),e.indent(u());const f=r.items.length;for(let c=0;c<f&&(Ui(e,r.items[c]),c!==f-1);c++)e.push(", ");e.deindent(u()),e.push("])")}function um(e,r){const{helper:s,needIndent:u}=e;if(r.cases.length>1){e.push(`${s("plural")}([`),e.indent(u());const f=r.cases.length;for(let c=0;c<f&&(Ui(e,r.cases[c]),c!==f-1);c++)e.push(", ");e.deindent(u()),e.push("])")}}function fm(e,r){r.body?Ui(e,r.body):e.push("null")}function Ui(e,r){const{helper:s}=e;switch(r.type){case 0:fm(e,r);break;case 1:um(e,r);break;case 2:cm(e,r);break;case 6:lm(e,r);break;case 8:e.push(JSON.stringify(r.value),r);break;case 7:e.push(JSON.stringify(r.value),r);break;case 5:e.push(`${s("interpolate")}(${s("list")}(${r.index}))`,r);break;case 4:e.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(r.key)}))`,r);break;case 9:e.push(JSON.stringify(r.value),r);break;case 3:e.push(JSON.stringify(r.value),r);break}}const dm=(e,r={})=>{const s=Oe(r.mode)?r.mode:"normal",u=Oe(r.filename)?r.filename:"message.intl",f=!!r.sourceMap,c=r.breakLineCode!=null?r.breakLineCode:s==="arrow"?";":`
`,g=r.needIndent?r.needIndent:s!=="arrow",E=e.helpers||[],x=am(e,{mode:s,filename:u,sourceMap:f,breakLineCode:c,needIndent:g});x.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),x.indent(g),E.length>0&&(x.push(`const { ${E.map(b=>`${b}: _${b}`).join(", ")} } = ctx`),x.newline()),x.push("return "),Ui(x,e),x.deindent(g),x.push("}");const{code:m,map:p}=x.context();return{ast:e,code:m,map:p?p.toJSON():void 0}};function hm(e,r={}){const s=en({},r),f=im(s).parse(e);return om(f,s),dm(f,s)}/*!
  * devtools-if v9.2.0
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const a0={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.0
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const zr=[];zr[0]={w:[0],i:[3,0],["["]:[4],o:[7]};zr[1]={w:[1],["."]:[2],["["]:[4],o:[7]};zr[2]={w:[2],i:[3,0],[0]:[3,0]};zr[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};zr[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};zr[5]={["'"]:[4,0],o:8,l:[5,0]};zr[6]={['"']:[4,0],o:8,l:[6,0]};const gm=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function mm(e){return gm.test(e)}function xm(e){const r=e.charCodeAt(0),s=e.charCodeAt(e.length-1);return r===s&&(r===34||r===39)?e.slice(1,-1):e}function wm(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Em(e){const r=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:mm(r)?xm(r):"*"+r}function pm(e){const r=[];let s=-1,u=0,f=0,c,g,E,x,m,p,b;const T=[];T[0]=()=>{g===void 0?g=E:g+=E},T[1]=()=>{g!==void 0&&(r.push(g),g=void 0)},T[2]=()=>{T[0](),f++},T[3]=()=>{if(f>0)f--,u=4,T[0]();else{if(f=0,g===void 0||(g=Em(g),g===!1))return!1;T[1]()}};function S(){const F=e[s+1];if(u===5&&F==="'"||u===6&&F==='"')return s++,E="\\"+F,T[0](),!0}for(;u!==null;)if(s++,c=e[s],!(c==="\\"&&S())){if(x=wm(c),b=zr[u],m=b[x]||b.l||8,m===8||(u=m[0],m[1]!==void 0&&(p=T[m[1]],p&&(E=c,p()===!1))))return;if(u===7)return r}}const vu=new Map;function Cm(e,r){return Tt(e)?e[r]:null}function bm(e,r){if(!Tt(e))return null;let s=vu.get(r);if(s||(s=pm(r),s&&vu.set(r,s)),!s)return null;const u=s.length;let f=e,c=0;for(;c<u;){const g=f[s[c]];if(g===void 0)return null;f=g,c++}return f}const Am=e=>e,ym=e=>"",_m="text",Im=e=>e.length===0?"":e.join(""),Tm=j2;function Su(e,r){return e=Math.abs(e),r===2?e?e>1?1:0:1:e?Math.min(e,2):0}function vm(e){const r=Gt(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Gt(e.named.count)||Gt(e.named.n))?Gt(e.named.count)?e.named.count:Gt(e.named.n)?e.named.n:r:r}function Sm(e,r){r.count||(r.count=e),r.n||(r.n=e)}function Nm(e={}){const r=e.locale,s=vm(e),u=Tt(e.pluralRules)&&Oe(r)&&Ut(e.pluralRules[r])?e.pluralRules[r]:Su,f=Tt(e.pluralRules)&&Oe(r)&&Ut(e.pluralRules[r])?Su:void 0,c=M=>M[u(s,M.length,f)],g=e.list||[],E=M=>g[M],x=e.named||{};Gt(e.pluralIndex)&&Sm(s,x);const m=M=>x[M];function p(M){const B=Ut(e.messages)?e.messages(M):Tt(e.messages)?e.messages[M]:!1;return B||(e.parent?e.parent.message(M):ym)}const b=M=>e.modifiers?e.modifiers[M]:Am,T=Ye(e.processor)&&Ut(e.processor.normalize)?e.processor.normalize:Im,S=Ye(e.processor)&&Ut(e.processor.interpolate)?e.processor.interpolate:Tm,F=Ye(e.processor)&&Oe(e.processor.type)?e.processor.type:_m,j={list:E,named:m,plural:c,linked:(M,...B)=>{const[L,D]=B;let G="text",W="";B.length===1?Tt(L)?(W=L.modifier||W,G=L.type||G):Oe(L)&&(W=L||W):B.length===2&&(Oe(L)&&(W=L||W),Oe(D)&&(G=D||G));let P=p(M)(j);return G==="vnode"&&It(P)&&W&&(P=P[0]),W?b(W)(P,G):P},message:p,type:F,interpolate:S,normalize:T};return j}let Ds=null;function Om(e){Ds=e}function Rm(e,r,s){Ds&&Ds.emit(a0.I18nInit,{timestamp:Date.now(),i18n:e,version:r,meta:s})}const Dm=Mm(a0.FunctionTranslate);function Mm(e){return r=>Ds&&Ds.emit(e,r)}function Lm(e,r,s){return[...new Set([s,...It(r)?r:Tt(r)?Object.keys(r):Oe(r)?[r]:[s]])]}function l0(e,r,s){const u=Oe(s)?s:Fs,f=e;f.__localeChainCache||(f.__localeChainCache=new Map);let c=f.__localeChainCache.get(u);if(!c){c=[];let g=[s];for(;It(g);)g=Nu(c,g,r);const E=It(r)||!Ye(r)?r:r.default?r.default:null;g=Oe(E)?[E]:E,It(g)&&Nu(c,g,!1),f.__localeChainCache.set(u,c)}return c}function Nu(e,r,s){let u=!0;for(let f=0;f<r.length&&st(u);f++){const c=r[f];Oe(c)&&(u=Pm(e,r[f],s))}return u}function Pm(e,r,s){let u;const f=r.split("-");do{const c=f.join("-");u=Bm(e,c,s),f.splice(-1,1)}while(f.length&&u===!0);return u}function Bm(e,r,s){let u=!1;if(!e.includes(r)&&(u=!0,r)){u=r[r.length-1]!=="!";const f=r.replace(/!/g,"");e.push(f),(It(s)||Ye(s))&&s[f]&&(u=s[f])}return u}const km="9.2.0",qo=-1,Fs="en-US",Ou="",Ru=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Fm(){return{upper:(e,r)=>r==="text"&&Oe(e)?e.toUpperCase():r==="vnode"&&Tt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,r)=>r==="text"&&Oe(e)?e.toLowerCase():r==="vnode"&&Tt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,r)=>r==="text"&&Oe(e)?Ru(e):r==="vnode"&&Tt(e)&&"__v_isVNode"in e?Ru(e.children):e}}let c0;function Um(e){c0=e}let u0;function Vm(e){u0=e}let f0;function Hm(e){f0=e}let d0=null;const Du=e=>{d0=e},Wm=()=>d0;let h0=null;const Mu=e=>{h0=e},Gm=()=>h0;let Lu=0;function Xm(e={}){const r=Oe(e.version)?e.version:km,s=Oe(e.locale)?e.locale:Fs,u=It(e.fallbackLocale)||Ye(e.fallbackLocale)||Oe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,f=Ye(e.messages)?e.messages:{[s]:{}},c=Ye(e.datetimeFormats)?e.datetimeFormats:{[s]:{}},g=Ye(e.numberFormats)?e.numberFormats:{[s]:{}},E=en({},e.modifiers||{},Fm()),x=e.pluralRules||{},m=Ut(e.missing)?e.missing:null,p=st(e.missingWarn)||Yr(e.missingWarn)?e.missingWarn:!0,b=st(e.fallbackWarn)||Yr(e.fallbackWarn)?e.fallbackWarn:!0,T=!!e.fallbackFormat,S=!!e.unresolving,F=Ut(e.postTranslation)?e.postTranslation:null,k=Ye(e.processor)?e.processor:null,j=st(e.warnHtmlMessage)?e.warnHtmlMessage:!0,M=!!e.escapeParameter,B=Ut(e.messageCompiler)?e.messageCompiler:c0,L=Ut(e.messageResolver)?e.messageResolver:u0||Cm,D=Ut(e.localeFallbacker)?e.localeFallbacker:f0||Lm,G=Tt(e.fallbackContext)?e.fallbackContext:void 0,W=Ut(e.onWarn)?e.onWarn:X2,P=e,ce=Tt(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,$=Tt(P.__numberFormatters)?P.__numberFormatters:new Map,ge=Tt(P.__meta)?P.__meta:{};Lu++;const Ae={version:r,cid:Lu,locale:s,fallbackLocale:u,messages:f,modifiers:E,pluralRules:x,missing:m,missingWarn:p,fallbackWarn:b,fallbackFormat:T,unresolving:S,postTranslation:F,processor:k,warnHtmlMessage:j,escapeParameter:M,messageCompiler:B,messageResolver:L,localeFallbacker:D,fallbackContext:G,onWarn:W,__meta:ge};return Ae.datetimeFormats=c,Ae.numberFormats=g,Ae.__datetimeFormatters=ce,Ae.__numberFormatters=$,__INTLIFY_PROD_DEVTOOLS__&&Rm(Ae,r,ge),Ae}function sc(e,r,s,u,f){const{missing:c,onWarn:g}=e;if(c!==null){const E=c(e,s,r,f);return Oe(E)?E:r}else return r}function is(e,r,s){const u=e;u.__localeChainCache=new Map,e.localeFallbacker(e,s,r)}const Ym=e=>e;let Pu=Object.create(null);function jm(e,r={}){{const u=(r.onCacheKey||Ym)(e),f=Pu[u];if(f)return f;let c=!1;const g=r.onError||z2;r.onError=m=>{c=!0,g(m)};const{code:E}=hm(e,r),x=new Function(`return ${E}`)();return c?x:Pu[u]=x}}let g0=ct.__EXTEND_POINT__;const Pa=()=>++g0,Ri={INVALID_ARGUMENT:g0,INVALID_DATE_ARGUMENT:Pa(),INVALID_ISO_DATE_ARGUMENT:Pa(),__EXTEND_POINT__:Pa()};function Di(e){return Zo(e,null,void 0)}const Bu=()=>"",or=e=>Ut(e);function ku(e,...r){const{fallbackFormat:s,postTranslation:u,unresolving:f,messageCompiler:c,fallbackLocale:g,messages:E}=e,[x,m]=dl(...r),p=st(m.missingWarn)?m.missingWarn:e.missingWarn,b=st(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn,T=st(m.escapeParameter)?m.escapeParameter:e.escapeParameter,S=!!m.resolvedMessage,F=Oe(m.default)||st(m.default)?st(m.default)?c?x:()=>x:m.default:s?c?x:()=>x:"",k=s||F!=="",j=Oe(m.locale)?m.locale:e.locale;T&&zm(m);let[M,B,L]=S?[x,j,E[j]||{}]:m0(e,x,j,g,b,p),D=M,G=x;if(!S&&!(Oe(D)||or(D))&&k&&(D=F,G=D),!S&&(!(Oe(D)||or(D))||!Oe(B)))return f?qo:x;let W=!1;const P=()=>{W=!0},ce=or(D)?D:x0(e,x,B,D,G,P);if(W)return D;const $=Zm(e,B,L,m),ge=Nm($),Ae=$m(e,ce,ge),z=u?u(Ae,x):Ae;if(__INTLIFY_PROD_DEVTOOLS__){const le={timestamp:Date.now(),key:Oe(x)?x:or(D)?D.key:"",locale:B||(or(D)?D.locale:""),format:Oe(D)?D:or(D)?D.source:"",message:z};le.meta=en({},e.__meta,Wm()||{}),Dm(le)}return z}function zm(e){It(e.list)?e.list=e.list.map(r=>Oe(r)?_u(r):r):Tt(e.named)&&Object.keys(e.named).forEach(r=>{Oe(e.named[r])&&(e.named[r]=_u(e.named[r]))})}function m0(e,r,s,u,f,c){const{messages:g,onWarn:E,messageResolver:x,localeFallbacker:m}=e,p=m(e,u,s);let b={},T,S=null;const F="translate";for(let k=0;k<p.length&&(T=p[k],b=g[T]||{},(S=x(b,r))===null&&(S=b[r]),!(Oe(S)||Ut(S)));k++){const j=sc(e,r,T,c,F);j!==r&&(S=j)}return[S,T,b]}function x0(e,r,s,u,f,c){const{messageCompiler:g,warnHtmlMessage:E}=e;if(or(u)){const m=u;return m.locale=m.locale||s,m.key=m.key||r,m}if(g==null){const m=()=>u;return m.locale=s,m.key=r,m}const x=g(u,Km(e,s,f,u,E,c));return x.locale=s,x.key=r,x.source=u,x}function $m(e,r,s){return r(s)}function dl(...e){const[r,s,u]=e,f={};if(!Oe(r)&&!Gt(r)&&!or(r))throw Di(Ri.INVALID_ARGUMENT);const c=Gt(r)?String(r):(or(r),r);return Gt(s)?f.plural=s:Oe(s)?f.default=s:Ye(s)&&!Ko(s)?f.named=s:It(s)&&(f.list=s),Gt(u)?f.plural=u:Oe(u)?f.default=u:Ye(u)&&en(f,u),[c,f]}function Km(e,r,s,u,f,c){return{warnHtmlMessage:f,onError:g=>{throw c&&c(g),g},onCacheKey:g=>H2(r,s,g)}}function Zm(e,r,s,u){const{modifiers:f,pluralRules:c,messageResolver:g,fallbackLocale:E,fallbackWarn:x,missingWarn:m,fallbackContext:p}=e,T={locale:r,modifiers:f,pluralRules:c,messages:S=>{let F=g(s,S);if(F==null&&p){const[,,k]=m0(p,S,r,E,x,m);F=g(k,S)}if(Oe(F)){let k=!1;const M=x0(e,S,r,F,S,()=>{k=!0});return k?Bu:M}else return or(F)?F:Bu}};return e.processor&&(T.processor=e.processor),u.list&&(T.list=u.list),u.named&&(T.named=u.named),Gt(u.plural)&&(T.pluralIndex=u.plural),T}function Fu(e,...r){const{datetimeFormats:s,unresolving:u,fallbackLocale:f,onWarn:c,localeFallbacker:g}=e,{__datetimeFormatters:E}=e,[x,m,p,b]=hl(...r),T=st(p.missingWarn)?p.missingWarn:e.missingWarn;st(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;const S=!!p.part,F=Oe(p.locale)?p.locale:e.locale,k=g(e,f,F);if(!Oe(x)||x==="")return new Intl.DateTimeFormat(F,b).format(m);let j={},M,B=null;const L="datetime format";for(let W=0;W<k.length&&(M=k[W],j=s[M]||{},B=j[x],!Ye(B));W++)sc(e,x,M,T,L);if(!Ye(B)||!Oe(M))return u?qo:x;let D=`${M}__${x}`;Ko(b)||(D=`${D}__${JSON.stringify(b)}`);let G=E.get(D);return G||(G=new Intl.DateTimeFormat(M,en({},B,b)),E.set(D,G)),S?G.formatToParts(m):G.format(m)}const w0=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function hl(...e){const[r,s,u,f]=e,c={};let g={},E;if(Oe(r)){const x=r.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!x)throw Di(Ri.INVALID_ISO_DATE_ARGUMENT);const m=x[3]?x[3].trim().startsWith("T")?`${x[1].trim()}${x[3].trim()}`:`${x[1].trim()}T${x[3].trim()}`:x[1].trim();E=new Date(m);try{E.toISOString()}catch(p){throw Di(Ri.INVALID_ISO_DATE_ARGUMENT)}}else if(G2(r)){if(isNaN(r.getTime()))throw Di(Ri.INVALID_DATE_ARGUMENT);E=r}else if(Gt(r))E=r;else throw Di(Ri.INVALID_ARGUMENT);return Oe(s)?c.key=s:Ye(s)&&Object.keys(s).forEach(x=>{w0.includes(x)?g[x]=s[x]:c[x]=s[x]}),Oe(u)?c.locale=u:Ye(u)&&(g=u),Ye(f)&&(g=f),[c.key||"",E,c,g]}function Uu(e,r,s){const u=e;for(const f in s){const c=`${r}__${f}`;u.__datetimeFormatters.has(c)&&u.__datetimeFormatters.delete(c)}}function Vu(e,...r){const{numberFormats:s,unresolving:u,fallbackLocale:f,onWarn:c,localeFallbacker:g}=e,{__numberFormatters:E}=e,[x,m,p,b]=gl(...r),T=st(p.missingWarn)?p.missingWarn:e.missingWarn;st(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;const S=!!p.part,F=Oe(p.locale)?p.locale:e.locale,k=g(e,f,F);if(!Oe(x)||x==="")return new Intl.NumberFormat(F,b).format(m);let j={},M,B=null;const L="number format";for(let W=0;W<k.length&&(M=k[W],j=s[M]||{},B=j[x],!Ye(B));W++)sc(e,x,M,T,L);if(!Ye(B)||!Oe(M))return u?qo:x;let D=`${M}__${x}`;Ko(b)||(D=`${D}__${JSON.stringify(b)}`);let G=E.get(D);return G||(G=new Intl.NumberFormat(M,en({},B,b)),E.set(D,G)),S?G.formatToParts(m):G.format(m)}const E0=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function gl(...e){const[r,s,u,f]=e,c={};let g={};if(!Gt(r))throw Di(Ri.INVALID_ARGUMENT);const E=r;return Oe(s)?c.key=s:Ye(s)&&Object.keys(s).forEach(x=>{E0.includes(x)?g[x]=s[x]:c[x]=s[x]}),Oe(u)?c.locale=u:Ye(u)&&(g=u),Ye(f)&&(g=f),[c.key||"",E,c,g]}function Hu(e,r,s){const u=e;for(const f in s){const c=`${r}__${f}`;u.__numberFormatters.has(c)&&u.__numberFormatters.delete(c)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Cs().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.0
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const qm="9.2.0";function Qm(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Cs().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Cs().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Cs().__INTLIFY_PROD_DEVTOOLS__=!1)}let p0=ct.__EXTEND_POINT__;const bn=()=>++p0,Vt={UNEXPECTED_RETURN_TYPE:p0,INVALID_ARGUMENT:bn(),MUST_BE_CALL_SETUP_TOP:bn(),NOT_INSLALLED:bn(),NOT_AVAILABLE_IN_LEGACY_MODE:bn(),REQUIRED_VALUE:bn(),INVALID_VALUE:bn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:bn(),NOT_INSLALLED_WITH_PROVIDE:bn(),UNEXPECTED_ERROR:bn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:bn(),BRIDGE_SUPPORT_VUE_2_ONLY:bn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:bn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:bn(),__EXTEND_POINT__:bn()};function zt(e,...r){return Zo(e,null,void 0)}const ml=jr("__transrateVNode"),xl=jr("__datetimeParts"),wl=jr("__numberParts"),C0=jr("__setPluralRules");jr("__intlifyMeta");const b0=jr("__injectWithOption");function El(e){if(!Tt(e))return e;for(const r in e)if(nc(e,r))if(!r.includes("."))Tt(e[r])&&El(e[r]);else{const s=r.split("."),u=s.length-1;let f=e;for(let c=0;c<u;c++)s[c]in f||(f[s[c]]={}),f=f[s[c]];f[s[u]]=e[r],delete e[r],Tt(f[s[u]])&&El(f[s[u]])}return e}function Qo(e,r){const{messages:s,__i18n:u,messageResolver:f,flatJson:c}=r,g=Ye(s)?s:It(u)?{}:{[e]:{}};if(It(u)&&u.forEach(E=>{if("locale"in E&&"resource"in E){const{locale:x,resource:m}=E;x?(g[x]=g[x]||{},bs(m,g[x])):bs(m,g)}else Oe(E)&&bs(JSON.parse(E),g)}),f==null&&c)for(const E in g)nc(g,E)&&El(g[E]);return g}const io=e=>!Tt(e)||It(e);function bs(e,r){if(io(e)||io(r))throw zt(Vt.INVALID_VALUE);for(const s in e)nc(e,s)&&(io(e[s])||io(r[s])?r[s]=e[s]:bs(e[s],r[s]))}function A0(e){return e.type}function y0(e,r,s){let u=Tt(r.messages)?r.messages:{};"__i18nGlobal"in s&&(u=Qo(e.locale.value,{messages:u,__i18n:s.__i18nGlobal}));const f=Object.keys(u);f.length&&f.forEach(c=>{e.mergeLocaleMessage(c,u[c])});{if(Tt(r.datetimeFormats)){const c=Object.keys(r.datetimeFormats);c.length&&c.forEach(g=>{e.mergeDateTimeFormat(g,r.datetimeFormats[g])})}if(Tt(r.numberFormats)){const c=Object.keys(r.numberFormats);c.length&&c.forEach(g=>{e.mergeNumberFormat(g,r.numberFormats[g])})}}}function Wu(e){return ne(Yo,null,e,0)}const Gu="__INTLIFY_META__";let Xu=0;function Yu(e){return(r,s,u,f)=>e(s,u,fn()||void 0,f)}const Jm=()=>{const e=fn();let r=null;return e&&(r=A0(e)[Gu])?{[Gu]:r}:null};function oc(e={},r){const{__root:s}=e,u=s===void 0;let f=st(e.inheritLocale)?e.inheritLocale:!0;const c=Fe(s&&f?s.locale.value:Oe(e.locale)?e.locale:Fs),g=Fe(s&&f?s.fallbackLocale.value:Oe(e.fallbackLocale)||It(e.fallbackLocale)||Ye(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),E=Fe(Qo(c.value,e)),x=Fe(Ye(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),m=Fe(Ye(e.numberFormats)?e.numberFormats:{[c.value]:{}});let p=s?s.missingWarn:st(e.missingWarn)||Yr(e.missingWarn)?e.missingWarn:!0,b=s?s.fallbackWarn:st(e.fallbackWarn)||Yr(e.fallbackWarn)?e.fallbackWarn:!0,T=s?s.fallbackRoot:st(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,F=Ut(e.missing)?e.missing:null,k=Ut(e.missing)?Yu(e.missing):null,j=Ut(e.postTranslation)?e.postTranslation:null,M=s?s.warnHtmlMessage:st(e.warnHtmlMessage)?e.warnHtmlMessage:!0,B=!!e.escapeParameter;const L=s?s.modifiers:Ye(e.modifiers)?e.modifiers:{};let D=e.pluralRules||s&&s.pluralRules,G;function W(){u&&Mu(null);const X={version:qm,locale:c.value,fallbackLocale:g.value,messages:E.value,modifiers:L,pluralRules:D,missing:k===null?void 0:k,missingWarn:p,fallbackWarn:b,fallbackFormat:S,unresolving:!0,postTranslation:j===null?void 0:j,warnHtmlMessage:M,escapeParameter:B,messageResolver:e.messageResolver,__meta:{framework:"vue"}};X.datetimeFormats=x.value,X.numberFormats=m.value,X.__datetimeFormatters=Ye(G)?G.__datetimeFormatters:void 0,X.__numberFormatters=Ye(G)?G.__numberFormatters:void 0;const oe=Xm(X);return u&&Mu(oe),oe}G=W(),is(G,c.value,g.value);function P(){return[c.value,g.value,E.value,x.value,m.value]}const ce=Re({get:()=>c.value,set:X=>{c.value=X,G.locale=c.value}}),$=Re({get:()=>g.value,set:X=>{g.value=X,G.fallbackLocale=g.value,is(G,c.value,X)}}),ge=Re(()=>E.value),Ae=Re(()=>x.value),z=Re(()=>m.value);function le(){return Ut(j)?j:null}function be(X){j=X,G.postTranslation=X}function U(){return F}function de(X){X!==null&&(k=Yu(X)),F=X,G.missing=k}function fe(X,oe,ve,Ne,Be,Ke){P();let Qe;if(__INTLIFY_PROD_DEVTOOLS__)try{Du(Jm()),u||(G.fallbackContext=s?Gm():void 0),Qe=X(G)}finally{Du(null),u||(G.fallbackContext=void 0)}else Qe=X(G);if(Gt(Qe)&&Qe===qo){const[Xe,xt]=oe();return s&&T?Ne(s):Be(Xe)}else{if(Ke(Qe))return Qe;throw zt(Vt.UNEXPECTED_RETURN_TYPE)}}function Se(...X){return fe(oe=>Reflect.apply(ku,null,[oe,...X]),()=>dl(...X),"translate",oe=>Reflect.apply(oe.t,oe,[...X]),oe=>oe,oe=>Oe(oe))}function Q(...X){const[oe,ve,Ne]=X;if(Ne&&!Tt(Ne))throw zt(Vt.INVALID_ARGUMENT);return Se(oe,ve,en({resolvedMessage:!0},Ne||{}))}function we(...X){return fe(oe=>Reflect.apply(Fu,null,[oe,...X]),()=>hl(...X),"datetime format",oe=>Reflect.apply(oe.d,oe,[...X]),()=>Ou,oe=>Oe(oe))}function Te(...X){return fe(oe=>Reflect.apply(Vu,null,[oe,...X]),()=>gl(...X),"number format",oe=>Reflect.apply(oe.n,oe,[...X]),()=>Ou,oe=>Oe(oe))}function ae(X){return X.map(oe=>Oe(oe)||Gt(oe)||st(oe)?Wu(String(oe)):oe)}const Le={normalize:ae,interpolate:X=>X,type:"vnode"};function V(...X){return fe(oe=>{let ve;const Ne=oe;try{Ne.processor=Le,ve=Reflect.apply(ku,null,[Ne,...X])}finally{Ne.processor=null}return ve},()=>dl(...X),"translate",oe=>oe[ml](...X),oe=>[Wu(oe)],oe=>It(oe))}function te(...X){return fe(oe=>Reflect.apply(Vu,null,[oe,...X]),()=>gl(...X),"number format",oe=>oe[wl](...X),()=>[],oe=>Oe(oe)||It(oe))}function ue(...X){return fe(oe=>Reflect.apply(Fu,null,[oe,...X]),()=>hl(...X),"datetime format",oe=>oe[xl](...X),()=>[],oe=>Oe(oe)||It(oe))}function Ee(X){D=X,G.pluralRules=D}function Ve(X,oe){const ve=Oe(oe)?oe:c.value,Ne=He(ve);return G.messageResolver(Ne,X)!==null}function $e(X){let oe=null;const ve=l0(G,g.value,c.value);for(let Ne=0;Ne<ve.length;Ne++){const Be=E.value[ve[Ne]]||{},Ke=G.messageResolver(Be,X);if(Ke!=null){oe=Ke;break}}return oe}function Pe(X){const oe=$e(X);return oe!=null?oe:s?s.tm(X)||{}:{}}function He(X){return E.value[X]||{}}function A(X,oe){E.value[X]=oe,G.messages=E.value}function y(X,oe){E.value[X]=E.value[X]||{},bs(oe,E.value[X]),G.messages=E.value}function O(X){return x.value[X]||{}}function K(X,oe){x.value[X]=oe,G.datetimeFormats=x.value,Uu(G,X,oe)}function q(X,oe){x.value[X]=en(x.value[X]||{},oe),G.datetimeFormats=x.value,Uu(G,X,oe)}function se(X){return m.value[X]||{}}function he(X,oe){m.value[X]=oe,G.numberFormats=m.value,Hu(G,X,oe)}function pe(X,oe){m.value[X]=en(m.value[X]||{},oe),G.numberFormats=m.value,Hu(G,X,oe)}Xu++,s&&ul&&(nt(s.locale,X=>{f&&(c.value=X,G.locale=X,is(G,c.value,g.value))}),nt(s.fallbackLocale,X=>{f&&(g.value=X,G.fallbackLocale=X,is(G,c.value,g.value))}));const J={id:Xu,locale:ce,fallbackLocale:$,get inheritLocale(){return f},set inheritLocale(X){f=X,X&&s&&(c.value=s.locale.value,g.value=s.fallbackLocale.value,is(G,c.value,g.value))},get availableLocales(){return Object.keys(E.value).sort()},messages:ge,get modifiers(){return L},get pluralRules(){return D||{}},get isGlobal(){return u},get missingWarn(){return p},set missingWarn(X){p=X,G.missingWarn=p},get fallbackWarn(){return b},set fallbackWarn(X){b=X,G.fallbackWarn=b},get fallbackRoot(){return T},set fallbackRoot(X){T=X},get fallbackFormat(){return S},set fallbackFormat(X){S=X,G.fallbackFormat=S},get warnHtmlMessage(){return M},set warnHtmlMessage(X){M=X,G.warnHtmlMessage=X},get escapeParameter(){return B},set escapeParameter(X){B=X,G.escapeParameter=X},t:Se,getLocaleMessage:He,setLocaleMessage:A,mergeLocaleMessage:y,getPostTranslationHandler:le,setPostTranslationHandler:be,getMissingHandler:U,setMissingHandler:de,[C0]:Ee};return J.datetimeFormats=Ae,J.numberFormats=z,J.rt=Q,J.te=Ve,J.tm=Pe,J.d=we,J.n=Te,J.getDateTimeFormat=O,J.setDateTimeFormat=K,J.mergeDateTimeFormat=q,J.getNumberFormat=se,J.setNumberFormat=he,J.mergeNumberFormat=pe,J[b0]=e.__injectWithOption,J[ml]=V,J[xl]=ue,J[wl]=te,J}function ex(e){const r=Oe(e.locale)?e.locale:Fs,s=Oe(e.fallbackLocale)||It(e.fallbackLocale)||Ye(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,u=Ut(e.missing)?e.missing:void 0,f=st(e.silentTranslationWarn)||Yr(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,c=st(e.silentFallbackWarn)||Yr(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,g=st(e.fallbackRoot)?e.fallbackRoot:!0,E=!!e.formatFallbackMessages,x=Ye(e.modifiers)?e.modifiers:{},m=e.pluralizationRules,p=Ut(e.postTranslation)?e.postTranslation:void 0,b=Oe(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,T=!!e.escapeParameterHtml,S=st(e.sync)?e.sync:!0;let F=e.messages;if(Ye(e.sharedMessages)){const G=e.sharedMessages;F=Object.keys(G).reduce((P,ce)=>{const $=P[ce]||(P[ce]={});return en($,G[ce]),P},F||{})}const{__i18n:k,__root:j,__injectWithOption:M}=e,B=e.datetimeFormats,L=e.numberFormats,D=e.flatJson;return{locale:r,fallbackLocale:s,messages:F,flatJson:D,datetimeFormats:B,numberFormats:L,missing:u,missingWarn:f,fallbackWarn:c,fallbackRoot:g,fallbackFormat:E,modifiers:x,pluralRules:m,postTranslation:p,warnHtmlMessage:b,escapeParameter:T,messageResolver:e.messageResolver,inheritLocale:S,__i18n:k,__root:j,__injectWithOption:M}}function pl(e={},r){{const s=oc(ex(e)),u={id:s.id,get locale(){return s.locale.value},set locale(f){s.locale.value=f},get fallbackLocale(){return s.fallbackLocale.value},set fallbackLocale(f){s.fallbackLocale.value=f},get messages(){return s.messages.value},get datetimeFormats(){return s.datetimeFormats.value},get numberFormats(){return s.numberFormats.value},get availableLocales(){return s.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(f){},get missing(){return s.getMissingHandler()},set missing(f){s.setMissingHandler(f)},get silentTranslationWarn(){return st(s.missingWarn)?!s.missingWarn:s.missingWarn},set silentTranslationWarn(f){s.missingWarn=st(f)?!f:f},get silentFallbackWarn(){return st(s.fallbackWarn)?!s.fallbackWarn:s.fallbackWarn},set silentFallbackWarn(f){s.fallbackWarn=st(f)?!f:f},get modifiers(){return s.modifiers},get formatFallbackMessages(){return s.fallbackFormat},set formatFallbackMessages(f){s.fallbackFormat=f},get postTranslation(){return s.getPostTranslationHandler()},set postTranslation(f){s.setPostTranslationHandler(f)},get sync(){return s.inheritLocale},set sync(f){s.inheritLocale=f},get warnHtmlInMessage(){return s.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(f){s.warnHtmlMessage=f!=="off"},get escapeParameterHtml(){return s.escapeParameter},set escapeParameterHtml(f){s.escapeParameter=f},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(f){},get pluralizationRules(){return s.pluralRules||{}},__composer:s,t(...f){const[c,g,E]=f,x={};let m=null,p=null;if(!Oe(c))throw zt(Vt.INVALID_ARGUMENT);const b=c;return Oe(g)?x.locale=g:It(g)?m=g:Ye(g)&&(p=g),It(E)?m=E:Ye(E)&&(p=E),Reflect.apply(s.t,s,[b,m||p||{},x])},rt(...f){return Reflect.apply(s.rt,s,[...f])},tc(...f){const[c,g,E]=f,x={plural:1};let m=null,p=null;if(!Oe(c))throw zt(Vt.INVALID_ARGUMENT);const b=c;return Oe(g)?x.locale=g:Gt(g)?x.plural=g:It(g)?m=g:Ye(g)&&(p=g),Oe(E)?x.locale=E:It(E)?m=E:Ye(E)&&(p=E),Reflect.apply(s.t,s,[b,m||p||{},x])},te(f,c){return s.te(f,c)},tm(f){return s.tm(f)},getLocaleMessage(f){return s.getLocaleMessage(f)},setLocaleMessage(f,c){s.setLocaleMessage(f,c)},mergeLocaleMessage(f,c){s.mergeLocaleMessage(f,c)},d(...f){return Reflect.apply(s.d,s,[...f])},getDateTimeFormat(f){return s.getDateTimeFormat(f)},setDateTimeFormat(f,c){s.setDateTimeFormat(f,c)},mergeDateTimeFormat(f,c){s.mergeDateTimeFormat(f,c)},n(...f){return Reflect.apply(s.n,s,[...f])},getNumberFormat(f){return s.getNumberFormat(f)},setNumberFormat(f,c){s.setNumberFormat(f,c)},mergeNumberFormat(f,c){s.mergeNumberFormat(f,c)},getChoiceIndex(f,c){return-1},__onComponentInstanceCreated(f){const{componentInstanceCreatedListener:c}=e;c&&c(f,u)}};return u}}const ac={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function tx({slots:e},r){return r.length===1&&r[0]==="default"?(e.default?e.default():[]).reduce((u,f)=>u=[...u,...It(f.children)?f.children:[f]],[]):r.reduce((s,u)=>{const f=e[u];return f&&(s[u]=f()),s},{})}function _0(e){return Fn}const ju={name:"i18n-t",props:en({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Gt(e)||!isNaN(e)}},ac),setup(e,r){const{slots:s,attrs:u}=r,f=e.i18n||lc({useScope:e.scope,__useComponent:!0});return()=>{const c=Object.keys(s).filter(b=>b!=="_"),g={};e.locale&&(g.locale=e.locale),e.plural!==void 0&&(g.plural=Oe(e.plural)?+e.plural:e.plural);const E=tx(r,c),x=f[ml](e.keypath,E,g),m=en({},u),p=Oe(e.tag)||Tt(e.tag)?e.tag:_0();return Bs(p,m,x)}}};function nx(e){return It(e)&&!Oe(e[0])}function I0(e,r,s,u){const{slots:f,attrs:c}=r;return()=>{const g={part:!0};let E={};e.locale&&(g.locale=e.locale),Oe(e.format)?g.key=e.format:Tt(e.format)&&(Oe(e.format.key)&&(g.key=e.format.key),E=Object.keys(e.format).reduce((T,S)=>s.includes(S)?en({},T,{[S]:e.format[S]}):T,{}));const x=u(e.value,g,E);let m=[g.key];It(x)?m=x.map((T,S)=>{const F=f[T.type],k=F?F({[T.type]:T.value,index:S,parts:x}):[T.value];return nx(k)&&(k[0].key=`${T.type}-${S}`),k}):Oe(x)&&(m=[x]);const p=en({},c),b=Oe(e.tag)||Tt(e.tag)?e.tag:_0();return Bs(b,p,m)}}const zu={name:"i18n-n",props:en({value:{type:Number,required:!0},format:{type:[String,Object]}},ac),setup(e,r){const s=e.i18n||lc({useScope:"parent",__useComponent:!0});return I0(e,r,E0,(...u)=>s[wl](...u))}},$u={name:"i18n-d",props:en({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ac),setup(e,r){const s=e.i18n||lc({useScope:"parent",__useComponent:!0});return I0(e,r,w0,(...u)=>s[xl](...u))}};function rx(e,r){const s=e;if(e.mode==="composition")return s.__getInstance(r)||e.global;{const u=s.__getInstance(r);return u!=null?u.__composer:e.global.__composer}}function ix(e){function r(c){const{instance:g,modifiers:E,value:x}=c;if(!g||!g.$)throw zt(Vt.UNEXPECTED_ERROR);const m=rx(e,g.$),p=Ku(x);return[Reflect.apply(m.t,m,[...Zu(p)]),m]}return{created:(c,g)=>{const[E,x]=r(g);ul&&e.global===x&&(c.__i18nWatcher=nt(x.locale,()=>{g.instance&&g.instance.$forceUpdate()})),c.__composer=x,c.textContent=E},unmounted:c=>{ul&&c.__i18nWatcher&&(c.__i18nWatcher(),c.__i18nWatcher=void 0,delete c.__i18nWatcher),c.__composer&&(c.__composer=void 0,delete c.__composer)},beforeUpdate:(c,{value:g})=>{if(c.__composer){const E=c.__composer,x=Ku(g);c.textContent=Reflect.apply(E.t,E,[...Zu(x)])}},getSSRProps:c=>{const[g]=r(c);return{textContent:g}}}}function Ku(e){if(Oe(e))return{path:e};if(Ye(e)){if(!("path"in e))throw zt(Vt.REQUIRED_VALUE,"path");return e}else throw zt(Vt.INVALID_VALUE)}function Zu(e){const{path:r,locale:s,args:u,choice:f,plural:c}=e,g={},E=u||{};return Oe(s)&&(g.locale=s),Gt(f)&&(g.plural=f),Gt(c)&&(g.plural=c),[r,E,g]}function sx(e,r,...s){const u=Ye(s[0])?s[0]:{},f=!!u.useI18nComponentName;(st(u.globalInstall)?u.globalInstall:!0)&&(e.component(f?"i18n":ju.name,ju),e.component(zu.name,zu),e.component($u.name,$u)),e.directive("t",ix(r))}function ox(e,r,s){return{beforeCreate(){const u=fn();if(!u)throw zt(Vt.UNEXPECTED_ERROR);const f=this.$options;if(f.i18n){const c=f.i18n;f.__i18n&&(c.__i18n=f.__i18n),c.__root=r,this===this.$root?this.$i18n=qu(e,c):(c.__injectWithOption=!0,this.$i18n=pl(c))}else f.__i18n?this===this.$root?this.$i18n=qu(e,f):this.$i18n=pl({__i18n:f.__i18n,__injectWithOption:!0,__root:r}):this.$i18n=e;f.__i18nGlobal&&y0(r,f,f),e.__onComponentInstanceCreated(this.$i18n),s.__setInstance(u,this.$i18n),this.$t=(...c)=>this.$i18n.t(...c),this.$rt=(...c)=>this.$i18n.rt(...c),this.$tc=(...c)=>this.$i18n.tc(...c),this.$te=(c,g)=>this.$i18n.te(c,g),this.$d=(...c)=>this.$i18n.d(...c),this.$n=(...c)=>this.$i18n.n(...c),this.$tm=c=>this.$i18n.tm(c)},mounted(){},unmounted(){const u=fn();if(!u)throw zt(Vt.UNEXPECTED_ERROR);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__deleteInstance(u),delete this.$i18n}}}function qu(e,r){e.locale=r.locale||e.locale,e.fallbackLocale=r.fallbackLocale||e.fallbackLocale,e.missing=r.missing||e.missing,e.silentTranslationWarn=r.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=r.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=r.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=r.postTranslation||e.postTranslation,e.warnHtmlInMessage=r.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=r.escapeParameterHtml||e.escapeParameterHtml,e.sync=r.sync||e.sync,e.__composer[C0](r.pluralizationRules||e.pluralizationRules);const s=Qo(e.locale,{messages:r.messages,__i18n:r.__i18n});return Object.keys(s).forEach(u=>e.mergeLocaleMessage(u,s[u])),r.datetimeFormats&&Object.keys(r.datetimeFormats).forEach(u=>e.mergeDateTimeFormat(u,r.datetimeFormats[u])),r.numberFormats&&Object.keys(r.numberFormats).forEach(u=>e.mergeNumberFormat(u,r.numberFormats[u])),e}const ax=jr("global-vue-i18n");function SC(e={},r){const s=__VUE_I18N_LEGACY_API__&&st(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,u=st(e.globalInjection)?e.globalInjection:!0,f=__VUE_I18N_LEGACY_API__&&s?!!e.allowComposition:!0,c=new Map,[g,E]=lx(e,s),x=jr("");function m(T){return c.get(T)||null}function p(T,S){c.set(T,S)}function b(T){c.delete(T)}{let S;const T={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},get allowComposition(){return f},install(F,...k){return Hc(this,null,function*(){F.__VUE_I18N_SYMBOL__=x,F.provide(F.__VUE_I18N_SYMBOL__,T),!s&&u&&wx(F,T.global),__VUE_I18N_FULL_INSTALL__&&sx(F,T,...k),__VUE_I18N_LEGACY_API__&&s&&F.mixin(ox(E,E.__composer,T));const j=F.unmount;F.unmount=()=>{T.dispose(),j()}})},get global(){return E},dispose(){g.stop()},__instances:c,__getInstance:m,__setInstance:p,__deleteInstance:b};return T}}function lc(e={}){const r=fn();if(r==null)throw zt(Vt.MUST_BE_CALL_SETUP_TOP);if(!r.isCE&&r.appContext.app!=null&&!r.appContext.app.__VUE_I18N_SYMBOL__)throw zt(Vt.NOT_INSLALLED);const s=cx(r),u=fx(s),f=A0(r),c=ux(e,f);if(__VUE_I18N_LEGACY_API__&&s.mode==="legacy"&&!e.__useComponent){if(!s.allowComposition)throw zt(Vt.NOT_AVAILABLE_IN_LEGACY_MODE);return gx(r,c,u,e)}if(c==="global")return y0(u,e,f),u;if(c==="parent"){let x=dx(s,r,e.__useComponent);return x==null&&(x=u),x}const g=s;let E=g.__getInstance(r);if(E==null){const x=en({},e);"__i18n"in f&&(x.__i18n=f.__i18n),u&&(x.__root=u),E=oc(x),hx(g,r),g.__setInstance(r,E)}return E}function lx(e,r,s){const u=Ul();{const f=__VUE_I18N_LEGACY_API__&&r?u.run(()=>pl(e)):u.run(()=>oc(e));if(f==null)throw zt(Vt.UNEXPECTED_ERROR);return[u,f]}}function cx(e){{const r=mn(e.isCE?ax:e.appContext.app.__VUE_I18N_SYMBOL__);if(!r)throw zt(e.isCE?Vt.NOT_INSLALLED_WITH_PROVIDE:Vt.UNEXPECTED_ERROR);return r}}function ux(e,r){return Ko(e)?"__i18n"in r?"local":"global":e.useScope?e.useScope:"local"}function fx(e){return e.mode==="composition"?e.global:e.global.__composer}function dx(e,r,s=!1){let u=null;const f=r.root;let c=r.parent;for(;c!=null;){const g=e;if(e.mode==="composition")u=g.__getInstance(c);else if(__VUE_I18N_LEGACY_API__){const E=g.__getInstance(c);E!=null&&(u=E.__composer,s&&u&&!u[b0]&&(u=null))}if(u!=null||f===c)break;c=c.parent}return u}function hx(e,r,s){On(()=>{},r),di(()=>{e.__deleteInstance(r)},r)}function gx(e,r,s,u={}){const f=r==="local",c=E1(null);if(f&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw zt(Vt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const g=st(u.inheritLocale)?u.inheritLocale:!0,E=Fe(f&&g?s.locale.value:Oe(u.locale)?u.locale:Fs),x=Fe(f&&g?s.fallbackLocale.value:Oe(u.fallbackLocale)||It(u.fallbackLocale)||Ye(u.fallbackLocale)||u.fallbackLocale===!1?u.fallbackLocale:E.value),m=Fe(Qo(E.value,u)),p=Fe(Ye(u.datetimeFormats)?u.datetimeFormats:{[E.value]:{}}),b=Fe(Ye(u.numberFormats)?u.numberFormats:{[E.value]:{}}),T=f?s.missingWarn:st(u.missingWarn)||Yr(u.missingWarn)?u.missingWarn:!0,S=f?s.fallbackWarn:st(u.fallbackWarn)||Yr(u.fallbackWarn)?u.fallbackWarn:!0,F=f?s.fallbackRoot:st(u.fallbackRoot)?u.fallbackRoot:!0,k=!!u.fallbackFormat,j=Ut(u.missing)?u.missing:null,M=Ut(u.postTranslation)?u.postTranslation:null,B=f?s.warnHtmlMessage:st(u.warnHtmlMessage)?u.warnHtmlMessage:!0,L=!!u.escapeParameter,D=f?s.modifiers:Ye(u.modifiers)?u.modifiers:{},G=u.pluralRules||f&&s.pluralRules;function W(){return[E.value,x.value,m.value,p.value,b.value]}const P=Re({get:()=>c.value?c.value.locale.value:E.value,set:y=>{c.value&&(c.value.locale.value=y),E.value=y}}),ce=Re({get:()=>c.value?c.value.fallbackLocale.value:x.value,set:y=>{c.value&&(c.value.fallbackLocale.value=y),x.value=y}}),$=Re(()=>c.value?c.value.messages.value:m.value),ge=Re(()=>p.value),Ae=Re(()=>b.value);function z(){return c.value?c.value.getPostTranslationHandler():M}function le(y){c.value&&c.value.setPostTranslationHandler(y)}function be(){return c.value?c.value.getMissingHandler():j}function U(y){c.value&&c.value.setMissingHandler(y)}function de(y){return W(),y()}function fe(...y){return c.value?de(()=>Reflect.apply(c.value.t,null,[...y])):de(()=>"")}function Se(...y){return c.value?Reflect.apply(c.value.rt,null,[...y]):""}function Q(...y){return c.value?de(()=>Reflect.apply(c.value.d,null,[...y])):de(()=>"")}function we(...y){return c.value?de(()=>Reflect.apply(c.value.n,null,[...y])):de(()=>"")}function Te(y){return c.value?c.value.tm(y):{}}function ae(y,O){return c.value?c.value.te(y,O):!1}function me(y){return c.value?c.value.getLocaleMessage(y):{}}function Le(y,O){c.value&&(c.value.setLocaleMessage(y,O),m.value[y]=O)}function V(y,O){c.value&&c.value.mergeLocaleMessage(y,O)}function te(y){return c.value?c.value.getDateTimeFormat(y):{}}function ue(y,O){c.value&&(c.value.setDateTimeFormat(y,O),p.value[y]=O)}function Ee(y,O){c.value&&c.value.mergeDateTimeFormat(y,O)}function Ve(y){return c.value?c.value.getNumberFormat(y):{}}function $e(y,O){c.value&&(c.value.setNumberFormat(y,O),b.value[y]=O)}function Pe(y,O){c.value&&c.value.mergeNumberFormat(y,O)}const He={get id(){return c.value?c.value.id:-1},locale:P,fallbackLocale:ce,messages:$,datetimeFormats:ge,numberFormats:Ae,get inheritLocale(){return c.value?c.value.inheritLocale:g},set inheritLocale(y){c.value&&(c.value.inheritLocale=y)},get availableLocales(){return c.value?c.value.availableLocales:Object.keys(m.value)},get modifiers(){return c.value?c.value.modifiers:D},get pluralRules(){return c.value?c.value.pluralRules:G},get isGlobal(){return c.value?c.value.isGlobal:!1},get missingWarn(){return c.value?c.value.missingWarn:T},set missingWarn(y){c.value&&(c.value.missingWarn=y)},get fallbackWarn(){return c.value?c.value.fallbackWarn:S},set fallbackWarn(y){c.value&&(c.value.missingWarn=y)},get fallbackRoot(){return c.value?c.value.fallbackRoot:F},set fallbackRoot(y){c.value&&(c.value.fallbackRoot=y)},get fallbackFormat(){return c.value?c.value.fallbackFormat:k},set fallbackFormat(y){c.value&&(c.value.fallbackFormat=y)},get warnHtmlMessage(){return c.value?c.value.warnHtmlMessage:B},set warnHtmlMessage(y){c.value&&(c.value.warnHtmlMessage=y)},get escapeParameter(){return c.value?c.value.escapeParameter:L},set escapeParameter(y){c.value&&(c.value.escapeParameter=y)},t:fe,getPostTranslationHandler:z,setPostTranslationHandler:le,getMissingHandler:be,setMissingHandler:U,rt:Se,d:Q,n:we,tm:Te,te:ae,getLocaleMessage:me,setLocaleMessage:Le,mergeLocaleMessage:V,getDateTimeFormat:te,setDateTimeFormat:ue,mergeDateTimeFormat:Ee,getNumberFormat:Ve,setNumberFormat:$e,mergeNumberFormat:Pe};function A(y){y.locale.value=E.value,y.fallbackLocale.value=x.value,Object.keys(m.value).forEach(O=>{y.mergeLocaleMessage(O,m.value[O])}),Object.keys(p.value).forEach(O=>{y.mergeDateTimeFormat(O,p.value[O])}),Object.keys(b.value).forEach(O=>{y.mergeNumberFormat(O,b.value[O])}),y.escapeParameter=L,y.fallbackFormat=k,y.fallbackRoot=F,y.fallbackWarn=S,y.missingWarn=T,y.warnHtmlMessage=B}return P1(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw zt(Vt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const y=c.value=e.proxy.$i18n.__composer;r==="global"?(E.value=y.locale.value,x.value=y.fallbackLocale.value,m.value=y.messages.value,p.value=y.datetimeFormats.value,b.value=y.numberFormats.value):f&&A(y)}),He}const mx=["locale","fallbackLocale","availableLocales"],xx=["t","rt","d","n","tm"];function wx(e,r){const s=Object.create(null);mx.forEach(u=>{const f=Object.getOwnPropertyDescriptor(r,u);if(!f)throw zt(Vt.UNEXPECTED_ERROR);const c=Ot(f.value)?{get(){return f.value.value},set(g){f.value.value=g}}:{get(){return f.get&&f.get()}};Object.defineProperty(s,u,c)}),e.config.globalProperties.$i18n=s,xx.forEach(u=>{const f=Object.getOwnPropertyDescriptor(r,u);if(!f||!f.value)throw zt(Vt.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${u}`,f)})}Um(jm);Vm(bm);Hm(l0);Qm();if(__INTLIFY_PROD_DEVTOOLS__){const e=Cs();e.__INTLIFY__=!0,Om(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}function T0(){}const Kt=Object.assign,Jo=typeof window!="undefined";function Qu(e,r){const s=r.split(".");let u=e;return s.forEach(f=>{var c;u=(c=u[f])!=null?c:""}),u}function fi(e,r,s){return r.reduce((u,f)=>((!s||e[f]!==void 0)&&(u[f]=e[f]),u),{})}const Ju=e=>Array.isArray(e)?e:[e],Sn=null,qe=[Number,String],ut={type:Boolean,default:!0},Vn=e=>({type:e,required:!0}),v0=()=>({type:Array,default:()=>[]}),cc=e=>({type:Number,default:e}),Yt=e=>({type:qe,default:e}),_t=e=>({type:String,default:e});var Us=typeof window!="undefined";function Wr(e){return Us?requestAnimationFrame(e):-1}function so(e){Wr(()=>Wr(e))}var Ex=e=>e===window,ef=(e,r)=>({top:0,left:0,right:e,bottom:r,width:e,height:r}),ar=e=>{const r=xr(e);if(Ex(r)){const s=r.innerWidth,u=r.innerHeight;return ef(s,u)}return r!=null&&r.getBoundingClientRect?r.getBoundingClientRect():ef(0,0)};function px(e=!1){const r=Fe(e);return[r,(u=!r.value)=>{r.value=u}]}function ji(e){const r=mn(e,null);if(r){const s=fn(),{link:u,unlink:f,internalChildren:c}=r;u(s),di(()=>f(s));const g=Re(()=>c.indexOf(s));return{parent:r,index:g}}return{parent:null,index:Fe(-1)}}function Cx(e){const r=[],s=u=>{Array.isArray(u)&&u.forEach(f=>{var c;Os(f)&&(r.push(f),(c=f.component)!=null&&c.subTree&&(r.push(f.component.subTree),s(f.component.subTree.children)),f.children&&s(f.children))})};return s(e),r}function bx(e,r,s){const u=Cx(e.subTree.children);s.sort((c,g)=>u.indexOf(c.vnode)-u.indexOf(g.vnode));const f=s.map(c=>c.proxy);r.sort((c,g)=>{const E=f.indexOf(c),x=f.indexOf(g);return E-x})}function Vs(e){const r=an([]),s=an([]),u=fn();return{children:r,linkChildren:c=>{wr(e,Object.assign({link:x=>{x.proxy&&(s.push(x),r.push(x.proxy),bx(u,r,s))},unlink:x=>{const m=s.indexOf(x);r.splice(m,1),s.splice(m,1)},children:r,internalChildren:s},c))}}}function Hs(e){let r;On(()=>{e(),Jt(()=>{r=!0})}),Ps(()=>{r&&e()})}function uc(e,r,s={}){if(!Us)return;const{target:u=window,passive:f=!1,capture:c=!1}=s;let g;const E=m=>{const p=xr(m);p&&!g&&(p.addEventListener(e,r,{capture:c,passive:f}),g=!0)},x=m=>{const p=xr(m);p&&g&&(p.removeEventListener(e,r,c),g=!1)};di(()=>x(u)),Xi(()=>x(u)),Hs(()=>E(u)),Ot(u)&&nt(u,(m,p)=>{x(p),E(m)})}var oo,Ba;function Ax(){if(!oo&&(oo=Fe(0),Ba=Fe(0),Us)){const e=()=>{oo.value=window.innerWidth,Ba.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:oo,height:Ba}}var yx=/scroll|auto/i,S0=Us?window:void 0;function _x(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function N0(e,r=S0){let s=e;for(;s&&s!==r&&_x(s);){const{overflowY:u}=window.getComputedStyle(s);if(yx.test(u))return s;s=s.parentNode}return r}function fc(e,r=S0){const s=Fe();return On(()=>{e.value&&(s.value=N0(e.value,r))}),s}var ao;function Ix(){if(!ao&&(ao=Fe("visible"),Us)){const e=()=>{ao.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return ao}var O0=Symbol("van-field");function Tx(e){const r=mn(O0,null);r&&!r.customValue.value&&(r.customValue.value=e,nt(e,()=>{r.resetValidation(),r.validateWithTrigger("onChange")}))}const jt=e=>e!=null,_o=e=>typeof e=="function",$r=e=>e!==null&&typeof e=="object",R0=e=>$r(e)&&_o(e.then)&&_o(e.catch),tf=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime()),D0=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),vx=()=>Jo?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Ws(e){const r="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(r,0)}function Io(e,r){"scrollTop"in e?e.scrollTop=r:e.scrollTo(e.scrollX,r)}function dc(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function hc(e){Io(window,e),Io(document.body,e)}function nf(e,r){if(e===window)return 0;const s=r?Ws(r):dc();return ar(e).top+s}const Sx=vx();function Nx(){Sx&&hc(dc())}const Ox=e=>e.stopPropagation();function Cr(e,r){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),r&&Ox(e)}function To(e){const r=xr(e);if(!r)return!1;const s=window.getComputedStyle(r),u=s.display==="none",f=r.offsetParent===null&&s.position!=="fixed";return u||f}const{width:gc,height:M0}=Ax();function An(e){if(jt(e))return D0(e)?`${e}px`:String(e)}function Rx(e){if(jt(e)){if(Array.isArray(e))return{width:An(e[0]),height:An(e[1])};const r=An(e);return{width:r,height:r}}}function ea(e){const r={};return e!==void 0&&(r.zIndex=+e),r}let ka;function Dx(){if(!ka){const e=document.documentElement,r=e.style.fontSize||window.getComputedStyle(e).fontSize;ka=parseFloat(r)}return ka}function Mx(e){return e=e.replace(/rem/g,""),+e*Dx()}function Lx(e){return e=e.replace(/vw/g,""),+e*gc.value/100}function Px(e){return e=e.replace(/vh/g,""),+e*M0.value/100}function mc(e){if(typeof e=="number")return e;if(Jo){if(e.includes("rem"))return Mx(e);if(e.includes("vw"))return Lx(e);if(e.includes("vh"))return Px(e)}return parseFloat(e)}const Bx=/-(\w)/g,L0=e=>e.replace(Bx,(r,s)=>s.toUpperCase()),kx=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),Bi=(e,r,s)=>Math.min(Math.max(e,r),s);function rf(e,r,s){const u=e.indexOf(r);return u===-1?e:r==="-"&&u!==0?e.slice(0,u):e.slice(0,u+1)+e.slice(u).replace(s,"")}function Fx(e,r=!0,s=!0){r?e=rf(e,".",/\./g):e=e.split(".")[0],s?e=rf(e,"-",/-/g):e=e.replace(/-/,"");const u=r?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(u,"")}const{hasOwnProperty:Ux}=Object.prototype;function Vx(e,r,s){const u=r[s];jt(u)&&(!Ux.call(e,s)||!$r(u)?e[s]=u:e[s]=P0(Object(e[s]),u))}function P0(e,r){return Object.keys(r).forEach(s=>{Vx(e,r,s)}),e}var Hx={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,r)=>`${e}年${r}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const sf=Fe("zh-CN"),of=an({"zh-CN":Hx}),Wx={messages(){return of[sf.value]},use(e,r){sf.value=e,this.add({[e]:r})},add(e={}){P0(of,e)}};var Gx=Wx;function Xx(e){const r=L0(e)+".";return(s,...u)=>{const f=Gx.messages(),c=Qu(f,r+s)||Qu(f,s);return _o(c)?c(...u):c}}function Cl(e,r){return r?typeof r=="string"?` ${e}--${r}`:Array.isArray(r)?r.reduce((s,u)=>s+Cl(e,u),""):Object.keys(r).reduce((s,u)=>s+(r[u]?Cl(e,u):""),""):""}function Yx(e){return(r,s)=>(r&&typeof r!="string"&&(s=r,r=""),r=r?`${e}__${r}`:e,`${r}${Cl(r,s)}`)}function wt(e){const r=`van-${e}`;return[r,Yx(r),Xx(r)]}const ta="van-hairline",jx=`${ta}--bottom`,zx=`${ta}--surround`,B0=`${ta}--top-bottom`,$x=`${ta}-unset--top-bottom`,Ms="van-haptics-feedback",Kx=Symbol("van-form");function xc(e,{args:r=[],done:s,canceled:u}){if(e){const f=e.apply(null,r);R0(f)?f.then(c=>{c?s():u&&u()}).catch(T0):f?s():u&&u()}else s()}function kt(e){return e.install=r=>{const{name:s}=e;r.component(s,e),r.component(L0(`-${s}`),e)},e}const k0=(e,r)=>{const s=Fe(),u=()=>{s.value=ar(e).height};return On(()=>{if(Jt(u),r)for(let f=1;f<=3;f++)setTimeout(u,100*f)}),s};function F0(e,r){const s=k0(e,!0);return u=>ne("div",{class:r("placeholder"),style:{height:s.value?`${s.value}px`:void 0}},[u()])}function Zn(e){const r=fn();r&&Kt(r.proxy,e)}const na={to:[String,Object],url:String,replace:Boolean};function U0({to:e,url:r,replace:s,$router:u}){e&&u?u[s?"replace":"push"](e):r&&(s?location.replace(r):location.href=r)}function wc(){const e=fn().proxy;return()=>U0(e)}const[Zx,af]=wt("badge"),qx={dot:Boolean,max:qe,tag:_t("div"),color:String,offset:Array,content:qe,showZero:ut,position:_t("top-right")};var Qx=dt({name:Zx,props:qx,setup(e,{slots:r}){const s=()=>{if(r.content)return!0;const{content:g,showZero:E}=e;return jt(g)&&g!==""&&(E||g!==0)},u=()=>{const{dot:g,max:E,content:x}=e;if(!g&&s())return r.content?r.content():jt(E)&&D0(x)&&+x>E?`${E}+`:x},f=Re(()=>{const g={background:e.color};if(e.offset){const[E,x]=e.offset;r.default?(g.top=An(x),typeof E=="number"?g.right=An(-E):g.right=E.startsWith("-")?E.replace("-",""):`-${E}`):(g.marginTop=An(x),g.marginLeft=An(E))}return g}),c=()=>{if(s()||e.dot)return ne("div",{class:af([e.position,{dot:e.dot,fixed:!!r.default}]),style:f.value},[u()])};return()=>{if(r.default){const{tag:g}=e;return ne(g,{class:af("wrapper")},{default:()=>[r.default(),c()]})}return c()}}});const Ec=kt(Qx),[V0,Jx]=wt("config-provider"),H0=Symbol(V0),ew={tag:_t("div"),themeVars:Object,iconPrefix:String};function tw(e){const r={};return Object.keys(e).forEach(s=>{r[`--van-${kx(s)}`]=e[s]}),r}var nw=dt({name:V0,props:ew,setup(e,{slots:r}){const s=Re(()=>{if(e.themeVars)return tw(e.themeVars)});return wr(H0,e),()=>ne(e.tag,{class:Jx(),style:s.value},{default:()=>{var u;return[(u=r.default)==null?void 0:u.call(r)]}})}});const[rw,lf]=wt("icon"),iw=e=>e==null?void 0:e.includes("/"),sw={dot:Boolean,tag:_t("i"),name:String,size:qe,badge:qe,color:String,badgeProps:Object,classPrefix:String};var ow=dt({name:rw,props:sw,setup(e,{slots:r}){const s=mn(H0,null),u=Re(()=>e.classPrefix||(s==null?void 0:s.iconPrefix)||lf());return()=>{const{tag:f,dot:c,name:g,size:E,badge:x,color:m}=e,p=iw(g);return ne(Ec,cr({dot:c,tag:f,class:[u.value,p?"":`${u.value}-${g}`],style:{color:m,fontSize:An(E)},content:x},e.badgeProps),{default:()=>{var b;return[(b=r.default)==null?void 0:b.call(r),p&&ne("img",{class:lf("image"),src:g},null)]}})}}});const Kn=kt(ow),[aw,As]=wt("loading"),lw=Array(12).fill(null).map((e,r)=>ne("i",{class:As("line",String(r+1))},null)),cw=ne("svg",{class:As("circular"),viewBox:"25 25 50 50"},[ne("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),uw={size:qe,type:_t("circular"),color:String,vertical:Boolean,textSize:qe,textColor:String};var fw=dt({name:aw,props:uw,setup(e,{slots:r}){const s=Re(()=>Kt({color:e.color},Rx(e.size))),u=()=>{var f;if(r.default)return ne("span",{class:As("text"),style:{fontSize:An(e.textSize),color:(f=e.textColor)!=null?f:e.color}},[r.default()])};return()=>{const{type:f,vertical:c}=e;return ne("div",{class:As([f,{vertical:c}]),"aria-live":"polite","aria-busy":!0},[ne("span",{class:As("spinner",f),style:s.value},[f==="spinner"?lw:cw]),u()])}}});const ra=kt(fw),[dw,yi]=wt("button"),hw=Kt({},na,{tag:_t("button"),text:String,icon:String,type:_t("default"),size:_t("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:_t("button"),loadingSize:qe,loadingText:String,loadingType:String,iconPosition:_t("left")});var gw=dt({name:dw,props:hw,emits:["click"],setup(e,{emit:r,slots:s}){const u=wc(),f=()=>s.loading?s.loading():ne(ra,{size:e.loadingSize,type:e.loadingType,class:yi("loading")},null),c=()=>{if(e.loading)return f();if(s.icon)return ne("div",{class:yi("icon")},[s.icon()]);if(e.icon)return ne(Kn,{name:e.icon,class:yi("icon"),classPrefix:e.iconPrefix},null)},g=()=>{let m;if(e.loading?m=e.loadingText:m=s.default?s.default():e.text,m)return ne("span",{class:yi("text")},[m])},E=()=>{const{color:m,plain:p}=e;if(m){const b={color:p?m:"white"};return p||(b.background=m),m.includes("gradient")?b.border=0:b.borderColor=m,b}},x=m=>{e.loading?Cr(m):e.disabled||(r("click",m),u())};return()=>{const{tag:m,type:p,size:b,block:T,round:S,plain:F,square:k,loading:j,disabled:M,hairline:B,nativeType:L,iconPosition:D}=e,G=[yi([p,b,{plain:F,block:T,round:S,square:k,loading:j,disabled:M,hairline:B}]),{[zx]:B}];return ne(m,{type:L,class:G,style:E(),disabled:M,onClick:x},{default:()=>[ne("div",{class:yi("content")},[D==="left"&&c(),g(),D==="right"&&c()])]})}}});const mw=kt(gw),xw={show:Boolean,zIndex:qe,overlay:ut,duration:qe,teleport:[String,Object],lockScroll:ut,lazyRender:ut,beforeClose:Function,overlayStyle:Object,overlayClass:Sn,transitionAppear:Boolean,closeOnClickOverlay:ut};function ww(e,r){return e>r?"horizontal":r>e?"vertical":""}function ia(){const e=Fe(0),r=Fe(0),s=Fe(0),u=Fe(0),f=Fe(0),c=Fe(0),g=Fe(""),E=()=>g.value==="vertical",x=()=>g.value==="horizontal",m=()=>{s.value=0,u.value=0,f.value=0,c.value=0,g.value=""};return{move:T=>{const S=T.touches[0];s.value=(S.clientX<0?0:S.clientX)-e.value,u.value=S.clientY-r.value,f.value=Math.abs(s.value),c.value=Math.abs(u.value);const F=10;(!g.value||f.value<F&&c.value<F)&&(g.value=ww(f.value,c.value))},start:T=>{m(),e.value=T.touches[0].clientX,r.value=T.touches[0].clientY},reset:m,startX:e,startY:r,deltaX:s,deltaY:u,offsetX:f,offsetY:c,direction:g,isVertical:E,isHorizontal:x}}let ss=0;const cf="van-overflow-hidden";function Ew(e,r){const s=ia(),u=x=>{s.move(x);const m=s.deltaY.value>0?"10":"01",p=N0(x.target,e.value),{scrollHeight:b,offsetHeight:T,scrollTop:S}=p;let F="11";S===0?F=T>=b?"00":"01":S+T>=b&&(F="10"),F!=="11"&&s.isVertical()&&!(parseInt(F,2)&parseInt(m,2))&&Cr(x,!0)},f=()=>{document.addEventListener("touchstart",s.start),document.addEventListener("touchmove",u,{passive:!1}),ss||document.body.classList.add(cf),ss++},c=()=>{ss&&(document.removeEventListener("touchstart",s.start),document.removeEventListener("touchmove",u),ss--,ss||document.body.classList.remove(cf))},g=()=>r()&&f(),E=()=>r()&&c();Hs(g),Xi(E),Yi(E),nt(r,x=>{x?f():c()})}function W0(e){const r=Fe(!1);return nt(e,s=>{s&&(r.value=s)},{immediate:!0}),s=>()=>r.value?s():null}const G0=Symbol();function X0(e){const r=mn(G0,null);r&&nt(r,s=>{s&&e()})}const[pw,Cw]=wt("overlay"),bw={show:Boolean,zIndex:qe,duration:qe,className:Sn,lockScroll:ut,lazyRender:ut,customStyle:Object};var Aw=dt({name:pw,props:bw,setup(e,{slots:r}){const s=W0(()=>e.show||!e.lazyRender),u=c=>{Cr(c,!0)},f=s(()=>{var c;const g=Kt(ea(e.zIndex),e.customStyle);return jt(e.duration)&&(g.animationDuration=`${e.duration}s`),Zl(ne("div",{style:g,class:[Cw(),e.className],onTouchmove:e.lockScroll?u:T0},[(c=r.default)==null?void 0:c.call(r)]),[[tc,e.show]])});return()=>ne($o,{name:"van-fade",appear:!0},{default:f})}});const yw=kt(Aw),_w=Kt({},xw,{round:Boolean,position:_t("center"),closeIcon:_t("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:_t("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Iw,uf]=wt("popup");let ff=2e3;var Tw=dt({name:Iw,inheritAttrs:!1,props:_w,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:r,attrs:s,slots:u}){let f,c;const g=Fe(),E=Fe(),x=W0(()=>e.show||!e.lazyRender),m=Re(()=>{const G={zIndex:g.value};if(jt(e.duration)){const W=e.position==="center"?"animationDuration":"transitionDuration";G[W]=`${e.duration}s`}return G}),p=()=>{f||(e.zIndex!==void 0&&(ff=+e.zIndex),f=!0,g.value=++ff,r("open"))},b=()=>{f&&xc(e.beforeClose,{done(){f=!1,r("close"),r("update:show",!1)}})},T=G=>{r("click-overlay",G),e.closeOnClickOverlay&&b()},S=()=>{if(e.overlay)return ne(yw,{show:e.show,class:e.overlayClass,zIndex:g.value,duration:e.duration,customStyle:e.overlayStyle,onClick:T},{default:u["overlay-content"]})},F=G=>{r("click-close-icon",G),b()},k=()=>{if(e.closeable)return ne(Kn,{role:"button",tabindex:0,name:e.closeIcon,class:[uf("close-icon",e.closeIconPosition),Ms],classPrefix:e.iconPrefix,onClick:F},null)},j=()=>r("opened"),M=()=>r("closed"),B=G=>r("keydown",G),L=x(()=>{var G;const{round:W,position:P,safeAreaInsetTop:ce,safeAreaInsetBottom:$}=e;return Zl(ne("div",cr({ref:E,style:m.value,class:[uf({round:W,[P]:P}),{"van-safe-area-top":ce,"van-safe-area-bottom":$}],onKeydown:B},s),[(G=u.default)==null?void 0:G.call(u),k()]),[[tc,e.show]])}),D=()=>{const{position:G,transition:W,transitionAppear:P}=e,ce=G==="center"?"van-fade":`van-popup-slide-${G}`;return ne($o,{name:W||ce,appear:P,onAfterEnter:j,onAfterLeave:M},{default:L})};return nt(()=>e.show,G=>{G&&!f&&(p(),s.tabindex===0&&Jt(()=>{var W;(W=E.value)==null||W.focus()})),!G&&f&&(f=!1,r("close"))}),Zn({popupRef:E}),Ew(E,()=>e.show&&e.lockScroll),uc("popstate",()=>{e.closeOnPopstate&&(b(),c=!1)}),On(()=>{e.show&&p()}),Ps(()=>{c&&(r("update:show",!0),c=!1)}),Xi(()=>{e.show&&e.teleport&&(b(),c=!0)}),wr(G0,()=>e.show),()=>e.teleport?ne(Ug,{to:e.teleport},{default:()=>[S(),D()]}):ne(Fn,null,[S(),D()])}});const Y0=kt(Tw);function vo(e){if(!jt(e))return e;if(Array.isArray(e))return e.map(r=>vo(r));if($r(e)){const r={};return Object.keys(e).forEach(s=>{r[s]=vo(e[s])}),r}return e}const df=200,hf=300,vw=15,[j0,Fa]=wt("picker-column");function Sw(e){const{transform:r}=window.getComputedStyle(e),s=r.slice(7,r.length-1).split(", ")[5];return Number(s)}const z0=Symbol(j0),Ua=e=>$r(e)&&e.disabled;var Nw=dt({name:j0,props:{textKey:Vn(String),readonly:Boolean,allowHtml:Boolean,className:Sn,itemHeight:Vn(Number),defaultIndex:cc(0),swipeDuration:Vn(qe),initialOptions:v0(),visibleItemCount:Vn(qe)},emits:["change"],setup(e,{emit:r,slots:s}){let u,f,c,g,E;const x=Fe(),m=an({index:e.defaultIndex,offset:0,duration:0,options:vo(e.initialOptions)}),p=ia(),b=()=>m.options.length,T=()=>e.itemHeight*(+e.visibleItemCount-1)/2,S=z=>{z=Bi(z,0,b());for(let le=z;le<b();le++)if(!Ua(m.options[le]))return le;for(let le=z-1;le>=0;le--)if(!Ua(m.options[le]))return le},F=(z,le)=>{z=S(z)||0;const be=-z*e.itemHeight,U=()=>{z!==m.index&&(m.index=z,le&&r("change",z))};u&&be!==m.offset?E=U:U(),m.offset=be},k=z=>{JSON.stringify(z)!==JSON.stringify(m.options)&&(m.options=vo(z),F(e.defaultIndex))},j=z=>{u||e.readonly||(E=null,m.duration=df,F(z,!0))},M=z=>$r(z)&&e.textKey in z?z[e.textKey]:z,B=z=>Bi(Math.round(-z/e.itemHeight),0,b()-1),L=(z,le)=>{const be=Math.abs(z/le);z=m.offset+be/.003*(z<0?-1:1);const U=B(z);m.duration=+e.swipeDuration,F(U,!0)},D=()=>{u=!1,m.duration=0,E&&(E(),E=null)},G=z=>{if(!e.readonly){if(p.start(z),u){const le=Sw(x.value);m.offset=Math.min(0,le-T()),f=m.offset}else f=m.offset;m.duration=0,c=Date.now(),g=f,E=null}},W=z=>{if(e.readonly)return;p.move(z),p.isVertical()&&(u=!0,Cr(z,!0)),m.offset=Bi(f+p.deltaY.value,-(b()*e.itemHeight),e.itemHeight);const le=Date.now();le-c>hf&&(c=le,g=m.offset)},P=()=>{if(e.readonly)return;const z=m.offset-g,le=Date.now()-c;if(le<hf&&Math.abs(z)>vw){L(z,le);return}const U=B(m.offset);m.duration=df,F(U,!0),setTimeout(()=>{u=!1},0)},ce=()=>{const z={height:`${e.itemHeight}px`};return m.options.map((le,be)=>{const U=M(le),de=Ua(le),fe={role:"button",style:z,tabindex:de?-1:0,class:Fa("item",{disabled:de,selected:be===m.index}),onClick:()=>j(be)},Se={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:U};return ne("li",fe,[s.option?s.option(le):ne("div",Se,null)])})},$=z=>{const{options:le}=m;for(let be=0;be<le.length;be++)if(M(le[be])===z)return F(be)},ge=()=>m.options[m.index],Ae=()=>m.options.length;return F(m.index),ji(z0),Zn({state:m,setIndex:F,getValue:ge,setValue:$,setOptions:k,hasOptions:Ae,stopMomentum:D}),nt(()=>e.initialOptions,k),nt(()=>e.defaultIndex,z=>F(z)),()=>ne("div",{class:[Fa(),e.className],onTouchstart:G,onTouchmove:W,onTouchend:P,onTouchcancel:P},[ne("ul",{ref:x,style:{transform:`translate3d(0, ${m.offset+T()}px, 0)`,transitionDuration:`${m.duration}ms`,transitionProperty:m.duration?"all":"none"},class:Fa("wrapper"),onTransitionend:D},[ce()])])}});const[Ow,fr,gf]=wt("picker"),$0={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:Yt(44),showToolbar:ut,swipeDuration:Yt(1e3),visibleItemCount:Yt(6),cancelButtonText:String,confirmButtonText:String},Rw=Kt({},$0,{columns:v0(),valueKey:String,defaultIndex:Yt(0),toolbarPosition:_t("top"),columnsFieldNames:Object});dt({name:Ow,props:Rw,emits:["confirm","cancel","change"],setup(e,{emit:r,slots:s}){const u=Fe(!1),f=Fe([]),c=Re(()=>{const{columnsFieldNames:Q}=e;return{text:(Q==null?void 0:Q.text)||e.valueKey||"text",values:(Q==null?void 0:Q.values)||"values",children:(Q==null?void 0:Q.children)||"children"}}),{children:g,linkChildren:E}=Vs(z0);E();const x=Re(()=>mc(e.itemHeight)),m=Re(()=>{const Q=e.columns[0];if(typeof Q=="object"){if(c.value.children in Q)return"cascade";if(c.value.values in Q)return"object"}return"plain"}),p=()=>{var Q;const we=[];let Te={[c.value.children]:e.columns};for(;Te&&Te[c.value.children];){const ae=Te[c.value.children];let me=(Q=Te.defaultIndex)!=null?Q:+e.defaultIndex;for(;ae[me]&&ae[me].disabled;)if(me<ae.length-1)me++;else{me=0;break}we.push({[c.value.values]:Te[c.value.children],className:Te.className,defaultIndex:me}),Te=ae[me]}f.value=we},b=()=>{const{columns:Q}=e;m.value==="plain"?f.value=[{[c.value.values]:Q}]:m.value==="cascade"?p():f.value=Q,u.value=f.value.some(we=>we[c.value.values]&&we[c.value.values].length!==0)||g.some(we=>we.hasOptions)},T=()=>g.map(Q=>Q.state.index),S=(Q,we)=>{const Te=g[Q];Te&&(Te.setOptions(we),u.value=!0)},F=Q=>{let we={[c.value.children]:e.columns};const Te=T();for(let ae=0;ae<=Q;ae++)we=we[c.value.children][Te[ae]];for(;we&&we[c.value.children];)Q++,S(Q,we[c.value.children]),we=we[c.value.children][we.defaultIndex||0]},k=Q=>g[Q],j=Q=>{const we=k(Q);if(we)return we.getValue()},M=(Q,we)=>{const Te=k(Q);Te&&(Te.setValue(we),m.value==="cascade"&&F(Q))},B=Q=>{const we=k(Q);if(we)return we.state.index},L=(Q,we)=>{const Te=k(Q);Te&&(Te.setIndex(we),m.value==="cascade"&&F(Q))},D=Q=>{const we=k(Q);if(we)return we.state.options},G=()=>g.map(Q=>Q.getValue()),W=Q=>{Q.forEach((we,Te)=>{M(Te,we)})},P=Q=>{Q.forEach((we,Te)=>{L(Te,we)})},ce=Q=>{m.value==="plain"?r(Q,j(0),B(0)):r(Q,G(),T())},$=Q=>{m.value==="cascade"&&F(Q),m.value==="plain"?r("change",j(0),B(0)):r("change",G(),Q)},ge=()=>{g.forEach(Q=>Q.stopMomentum()),ce("confirm")},Ae=()=>ce("cancel"),z=()=>{if(s.title)return s.title();if(e.title)return ne("div",{class:[fr("title"),"van-ellipsis"]},[e.title])},le=()=>{const Q=e.cancelButtonText||gf("cancel");return ne("button",{type:"button",class:[fr("cancel"),Ms],onClick:Ae},[s.cancel?s.cancel():Q])},be=()=>{const Q=e.confirmButtonText||gf("confirm");return ne("button",{type:"button",class:[fr("confirm"),Ms],onClick:ge},[s.confirm?s.confirm():Q])},U=()=>{if(e.showToolbar){const Q=s.toolbar||s.default;return ne("div",{class:fr("toolbar")},[Q?Q():[le(),z(),be()]])}},de=()=>f.value.map((Q,we)=>{var Te;return ne(Nw,{textKey:c.value.text,readonly:e.readonly,allowHtml:e.allowHtml,className:Q.className,itemHeight:x.value,defaultIndex:(Te=Q.defaultIndex)!=null?Te:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:Q[c.value.values],visibleItemCount:e.visibleItemCount,onChange:()=>$(we)},{option:s.option})}),fe=Q=>{if(u.value){const we={height:`${x.value}px`},Te={backgroundSize:`100% ${(Q-x.value)/2}px`};return[ne("div",{class:fr("mask"),style:Te},null),ne("div",{class:[$x,fr("frame")],style:we},null)]}},Se=()=>{const Q=x.value*+e.visibleItemCount,we={height:`${Q}px`};return ne("div",{class:fr("columns"),style:we,onTouchmove:Cr},[de(),fe(Q)])};return nt(()=>e.columns,b,{immediate:!0}),Zn({confirm:ge,getValues:G,setValues:W,getIndexes:T,setIndexes:P,getColumnIndex:B,setColumnIndex:L,getColumnValue:j,setColumnValue:M,getColumnValues:D,setColumnValues:S}),()=>{var Q,we;return ne("div",{class:fr()},[e.toolbarPosition==="top"?U():null,e.loading?ne(ra,{class:fr("loading")},null):null,(Q=s["columns-top"])==null?void 0:Q.call(s),Se(),(we=s["columns-bottom"])==null?void 0:we.call(s),e.toolbarPosition==="bottom"?U():null])}}});const[Dw,_i]=wt("cell"),K0={icon:String,size:String,title:qe,value:qe,label:qe,center:Boolean,isLink:Boolean,border:ut,required:Boolean,iconPrefix:String,valueClass:Sn,labelClass:Sn,titleClass:Sn,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},Mw=Kt({},K0,na);var Lw=dt({name:Dw,props:Mw,setup(e,{slots:r}){const s=wc(),u=()=>{if(r.label||jt(e.label))return ne("div",{class:[_i("label"),e.labelClass]},[r.label?r.label():e.label])},f=()=>{if(r.title||jt(e.title))return ne("div",{class:[_i("title"),e.titleClass],style:e.titleStyle},[r.title?r.title():ne("span",null,[e.title]),u()])},c=()=>{const x=r.value||r.default;if(x||jt(e.value)){const p=r.title||jt(e.title);return ne("div",{class:[_i("value",{alone:!p}),e.valueClass]},[x?x():ne("span",null,[e.value])])}},g=()=>{if(r.icon)return r.icon();if(e.icon)return ne(Kn,{name:e.icon,class:_i("left-icon"),classPrefix:e.iconPrefix},null)},E=()=>{if(r["right-icon"])return r["right-icon"]();if(e.isLink){const x=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return ne(Kn,{name:x,class:_i("right-icon")},null)}};return()=>{var x,m;const{size:p,center:b,border:T,isLink:S,required:F}=e,k=(x=e.clickable)!=null?x:S,j={center:b,required:F,clickable:k,borderless:!T};return p&&(j[p]=!!p),ne("div",{class:_i(j),role:k?"button":void 0,tabindex:k?0:void 0,onClick:s},[g(),f(),c(),E(),(m=r.extra)==null?void 0:m.call(r)])}}});const Pw=kt(Lw);function Bw(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function kw(e,r){return!(r.required&&Bw(e)||r.pattern&&!r.pattern.test(String(e)))}function Fw(e,r){return new Promise(s=>{const u=r.validator(e,r);if(R0(u)){u.then(s);return}s(u)})}function mf(e,r){const{message:s}=r;return _o(s)?s(e,r):s||""}function Uw({target:e}){e.composing=!0}function xf({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Vw(e,r){const s=dc();e.style.height="auto";let u=e.scrollHeight;if($r(r)){const{maxHeight:f,minHeight:c}=r;f!==void 0&&(u=Math.min(u,f)),c!==void 0&&(u=Math.max(u,c))}u&&(e.style.height=`${u}px`,hc(s))}function Hw(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function Va(e){return[...e].length}function Ww(e,r){return[...e].slice(0,r).join("")}let Gw=0;function pc(){const e=fn(),{name:r="unknown"}=(e==null?void 0:e.type)||{};return`${r}-${++Gw}`}const[Xw,Bn]=wt("field"),Yw={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:qe,formatter:Function,clearIcon:_t("clear"),modelValue:Yt(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:_t("focus"),formatTrigger:_t("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},jw=Kt({},K0,Yw,{rows:qe,type:_t("text"),rules:Array,autosize:[Boolean,Object],labelWidth:qe,labelClass:Sn,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var zw=dt({name:Xw,props:jw,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:r,slots:s}){const u=pc(),f=an({status:"unvalidated",focused:!1,validateMessage:""}),c=Fe(),g=Fe(),{parent:E}=ji(Kx),x=()=>{var V;return String((V=e.modelValue)!=null?V:"")},m=V=>{if(jt(e[V]))return e[V];if(E&&jt(E.props[V]))return E.props[V]},p=Re(()=>{const V=m("readonly");if(e.clearable&&!V){const te=x()!=="",ue=e.clearTrigger==="always"||e.clearTrigger==="focus"&&f.focused;return te&&ue}return!1}),b=Re(()=>g.value&&s.input?g.value():e.modelValue),T=V=>V.reduce((te,ue)=>te.then(()=>{if(f.status==="failed")return;let{value:Ee}=b;if(ue.formatter&&(Ee=ue.formatter(Ee,ue)),!kw(Ee,ue)){f.status="failed",f.validateMessage=mf(Ee,ue);return}if(ue.validator)return Fw(Ee,ue).then(Ve=>{Ve&&typeof Ve=="string"?(f.status="failed",f.validateMessage=Ve):Ve===!1&&(f.status="failed",f.validateMessage=mf(Ee,ue))})}),Promise.resolve()),S=()=>{f.status="unvalidated",f.validateMessage=""},F=()=>r("end-validate",{status:f.status}),k=(V=e.rules)=>new Promise(te=>{S(),V?(r("start-validate"),T(V).then(()=>{f.status==="failed"?(te({name:e.name,message:f.validateMessage}),F()):(f.status="passed",te(),F())})):te()}),j=V=>{if(E&&e.rules){const{validateTrigger:te}=E.props,ue=Ju(te).includes(V),Ee=e.rules.filter(Ve=>Ve.trigger?Ju(Ve.trigger).includes(V):ue);Ee.length&&k(Ee)}},M=V=>{const{maxlength:te}=e;if(jt(te)&&Va(V)>te){const ue=x();return ue&&Va(ue)===+te?ue:Ww(V,+te)}return V},B=(V,te="onChange")=>{if(V=M(V),e.type==="number"||e.type==="digit"){const ue=e.type==="number";V=Fx(V,ue,ue)}e.formatter&&te===e.formatTrigger&&(V=e.formatter(V)),c.value&&c.value.value!==V&&(c.value.value=V),V!==e.modelValue&&r("update:modelValue",V)},L=V=>{V.target.composing||B(V.target.value)},D=()=>{var V;return(V=c.value)==null?void 0:V.blur()},G=()=>{var V;return(V=c.value)==null?void 0:V.focus()},W=()=>{const V=c.value;e.type==="textarea"&&e.autosize&&V&&Vw(V,e.autosize)},P=V=>{f.focused=!0,r("focus",V),Jt(W),m("readonly")&&D()},ce=V=>{m("readonly")||(f.focused=!1,B(x(),"onBlur"),r("blur",V),j("onBlur"),Jt(W),Nx())},$=V=>r("click-input",V),ge=V=>r("click-left-icon",V),Ae=V=>r("click-right-icon",V),z=V=>{Cr(V),r("update:modelValue",""),r("clear",V)},le=Re(()=>{if(typeof e.error=="boolean")return e.error;if(E&&E.props.showError&&f.status==="failed")return!0}),be=Re(()=>{const V=m("labelWidth");if(V)return{width:An(V)}}),U=V=>{V.keyCode===13&&(!(E&&E.props.submitOnEnter)&&e.type!=="textarea"&&Cr(V),e.type==="search"&&D()),r("keypress",V)},de=()=>e.id||`${u}-input`,fe=()=>f.status,Se=()=>{const V=Bn("control",[m("inputAlign"),{error:le.value,custom:!!s.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(s.input)return ne("div",{class:V,onClick:$},[s.input()]);const te={id:de(),ref:c,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:V,disabled:m("disabled"),readonly:m("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${u}-label`:void 0,onBlur:ce,onFocus:P,onInput:L,onClick:$,onChange:xf,onKeypress:U,onCompositionend:xf,onCompositionstart:Uw};return e.type==="textarea"?ne("textarea",te,null):ne("input",cr(Hw(e.type),te),null)},Q=()=>{const V=s["left-icon"];if(e.leftIcon||V)return ne("div",{class:Bn("left-icon"),onClick:ge},[V?V():ne(Kn,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},we=()=>{const V=s["right-icon"];if(e.rightIcon||V)return ne("div",{class:Bn("right-icon"),onClick:Ae},[V?V():ne(Kn,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Te=()=>{if(e.showWordLimit&&e.maxlength){const V=Va(x());return ne("div",{class:Bn("word-limit")},[ne("span",{class:Bn("word-num")},[V]),q1("/"),e.maxlength])}},ae=()=>{if(E&&E.props.showErrorMessage===!1)return;const V=e.errorMessage||f.validateMessage;if(V){const te=s["error-message"],ue=m("errorMessageAlign");return ne("div",{class:Bn("error-message",ue)},[te?te({message:V}):V])}},me=()=>{const V=m("colon")?":":"";if(s.label)return[s.label(),V];if(e.label)return ne("label",{id:`${u}-label`,for:de()},[e.label+V])},Le=()=>[ne("div",{class:Bn("body")},[Se(),p.value&&ne(Kn,{name:e.clearIcon,class:Bn("clear"),onTouchstart:z},null),we(),s.button&&ne("div",{class:Bn("button")},[s.button()])]),Te(),ae()];return Zn({blur:D,focus:G,validate:k,formValue:b,resetValidation:S,getValidationStatus:fe}),wr(O0,{customValue:g,resetValidation:S,validateWithTrigger:j}),nt(()=>e.modelValue,()=>{B(x()),S(),j("onChange"),Jt(W)}),On(()=>{B(x(),e.formatTrigger),Jt(W)}),()=>{const V=m("disabled"),te=m("labelAlign"),ue=me(),Ee=Q();return ne(Pw,{size:e.size,icon:e.leftIcon,class:Bn({error:le.value,disabled:V,[`label-${te}`]:te}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:be.value,valueClass:Bn("value"),titleClass:[Bn("label",[te,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:Ee?()=>Ee:null,title:ue?()=>ue:null,value:Le,extra:s.extra})}}});const NC=kt(zw);function $w(){const e=an({show:!1}),r=f=>{e.show=f},s=f=>{Kt(e,f,{transitionAppear:!0}),r(!0)},u=()=>r(!1);return Zn({open:s,close:u,toggle:r}),{open:s,close:u,state:e,toggle:r}}function Kw(e){const r=F2(e),s=document.createElement("div");return document.body.appendChild(s),{instance:r.mount(s),unmount(){r.unmount(),document.body.removeChild(s)}}}let os=0;function Zw(e){e?(os||document.body.classList.add("van-toast--unclickable"),os++):os&&(os--,os||document.body.classList.remove("van-toast--unclickable"))}const[qw,as]=wt("toast"),Qw=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],Jw={icon:String,show:Boolean,type:_t("text"),overlay:Boolean,message:qe,iconSize:qe,duration:cc(2e3),position:_t("middle"),teleport:[String,Object],className:Sn,iconPrefix:String,transition:_t("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Sn,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var Z0=dt({name:qw,props:Jw,emits:["update:show"],setup(e,{emit:r}){let s,u=!1;const f=()=>{const p=e.show&&e.forbidClick;u!==p&&(u=p,Zw(u))},c=p=>r("update:show",p),g=()=>{e.closeOnClick&&c(!1)},E=()=>clearTimeout(s),x=()=>{const{icon:p,type:b,iconSize:T,iconPrefix:S,loadingType:F}=e;if(p||b==="success"||b==="fail")return ne(Kn,{name:p||b,size:T,class:as("icon"),classPrefix:S},null);if(b==="loading")return ne(ra,{class:as("loading"),size:T,type:F},null)},m=()=>{const{type:p,message:b}=e;if(jt(b)&&b!=="")return p==="html"?ne("div",{key:0,class:as("text"),innerHTML:String(b)},null):ne("div",{class:as("text")},[b])};return nt(()=>[e.show,e.forbidClick],f),nt(()=>[e.show,e.type,e.message,e.duration],()=>{E(),e.show&&e.duration>0&&(s=setTimeout(()=>{c(!1)},e.duration))}),On(f),di(f),()=>ne(Y0,cr({class:[as([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:g,onClosed:E,"onUpdate:show":c},fi(e,Qw)),{default:()=>[x(),m()]})}});const q0={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let jn=[],sa=!1,So=Kt({},q0);const No=new Map;function Q0(e){return $r(e)?e:{message:e}}function eE(){const{instance:e,unmount:r}=Kw({setup(){const s=Fe(""),{open:u,state:f,close:c,toggle:g}=$w(),E=()=>{sa&&(jn=jn.filter(m=>m!==e),r())},x=()=>ne(Z0,cr(f,{onClosed:E,"onUpdate:show":g}),null);return nt(s,m=>{f.message=m}),fn().render=x,{open:u,clear:c,message:s}}});return e}function tE(){if(!jn.length||sa){const e=eE();jn.push(e)}return jn[jn.length-1]}function Wn(e={}){if(!Jo)return{};const r=tE(),s=Q0(e);return r.open(Kt({},So,No.get(s.type||So.type),s)),r}const Cc=e=>r=>Wn(Kt({type:e},Q0(r)));Wn.loading=Cc("loading");Wn.success=Cc("success");Wn.fail=Cc("fail");Wn.clear=e=>{var r;jn.length&&(e?(jn.forEach(s=>{s.clear()}),jn=[]):sa?(r=jn.shift())==null||r.clear():jn[0].clear())};function nE(e,r){typeof e=="string"?No.set(e,r):Kt(So,e)}Wn.setDefaultOptions=nE;Wn.resetDefaultOptions=e=>{typeof e=="string"?No.delete(e):(So=Kt({},q0),No.clear())};Wn.allowMultiple=(e=!0)=>{sa=e};Wn.install=e=>{e.use(kt(Z0)),e.config.globalProperties.$toast=Wn};const[J0,rE]=wt("radio-group"),iE={disabled:Boolean,iconSize:qe,direction:String,modelValue:Sn,checkedColor:String},ed=Symbol(J0);var sE=dt({name:J0,props:iE,emits:["change","update:modelValue"],setup(e,{emit:r,slots:s}){const{linkChildren:u}=Vs(ed),f=c=>r("update:modelValue",c);return nt(()=>e.modelValue,c=>r("change",c)),u({props:e,updateValue:f}),Tx(()=>e.modelValue),()=>{var c;return ne("div",{class:rE([e.direction]),role:"radiogroup"},[(c=s.default)==null?void 0:c.call(s)])}}});const OC=kt(sE),td={name:Sn,shape:_t("round"),disabled:Boolean,iconSize:qe,modelValue:Sn,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var oE=dt({props:Kt({},td,{bem:Vn(Function),role:String,parent:Object,checked:Boolean,bindGroup:ut}),emits:["click","toggle"],setup(e,{emit:r,slots:s}){const u=Fe(),f=b=>{if(e.parent&&e.bindGroup)return e.parent.props[b]},c=Re(()=>f("disabled")||e.disabled),g=Re(()=>f("direction")),E=Re(()=>{const b=e.checkedColor||f("checkedColor");if(b&&e.checked&&!c.value)return{borderColor:b,backgroundColor:b}}),x=b=>{const{target:T}=b,S=u.value,F=S===T||(S==null?void 0:S.contains(T));!c.value&&(F||!e.labelDisabled)&&r("toggle"),r("click",b)},m=()=>{const{bem:b,shape:T,checked:S}=e,F=e.iconSize||f("iconSize");return ne("div",{ref:u,class:b("icon",[T,{disabled:c.value,checked:S}]),style:{fontSize:An(F)}},[s.icon?s.icon({checked:S,disabled:c.value}):ne(Kn,{name:"success",style:E.value},null)])},p=()=>{if(s.default)return ne("span",{class:e.bem("label",[e.labelPosition,{disabled:c.value}])},[s.default()])};return()=>{const b=e.labelPosition==="left"?[p(),m()]:[m(),p()];return ne("div",{role:e.role,class:e.bem([{disabled:c.value,"label-disabled":e.labelDisabled},g.value]),tabindex:c.value?void 0:0,"aria-checked":e.checked,onClick:x},[b])}}});const[aE,lE]=wt("radio");var cE=dt({name:aE,props:td,emits:["update:modelValue"],setup(e,{emit:r,slots:s}){const{parent:u}=ji(ed),f=()=>(u?u.props.modelValue:e.modelValue)===e.name,c=()=>{u?u.updateValue(e.name):r("update:modelValue",e.name)};return()=>ne(oE,cr({bem:lE,role:"radio",parent:u,checked:f(),onToggle:c},e),fi(s,["default","icon"]))}});const RC=kt(cE),[uE,Xt,Er]=wt("calendar"),fE=e=>Er("monthTitle",e.getFullYear(),e.getMonth()+1);function bl(e,r){const s=e.getFullYear(),u=r.getFullYear();if(s===u){const f=e.getMonth(),c=r.getMonth();return f===c?0:f>c?1:-1}return s>u?1:-1}function Tn(e,r){const s=bl(e,r);if(s===0){const u=e.getDate(),f=r.getDate();return u===f?0:u>f?1:-1}return s}const Oo=e=>new Date(e),wf=e=>Array.isArray(e)?e.map(Oo):Oo(e);function bc(e,r){const s=Oo(e);return s.setDate(s.getDate()+r),s}const Al=e=>bc(e,-1),nd=e=>bc(e,1),yl=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function dE(e){const r=e[0].getTime();return(e[1].getTime()-r)/(1e3*60*60*24)+1}function rd(){const e=Fe([]),r=[];return B1(()=>{e.value=[]}),[e,u=>(r[u]||(r[u]=f=>{e.value[u]=f}),r[u])]}Kt({},$0,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,r)=>r}});const hE=(e,r)=>32-new Date(e,r-1,32).getDate(),[gE]=wt("calendar-day");var mE=dt({name:gE,props:{item:Vn(Object),color:String,index:Number,offset:cc(0),rowHeight:String},emits:["click"],setup(e,{emit:r,slots:s}){const u=Re(()=>{var x;const{item:m,index:p,color:b,offset:T,rowHeight:S}=e,F={height:S};if(m.type==="placeholder")return F.width="100%",F;if(p===0&&(F.marginLeft=`${100*T/7}%`),b)switch(m.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":F.background=b;break;case"middle":F.color=b;break}return T+(((x=m.date)==null?void 0:x.getDate())||1)>28&&(F.marginBottom=0),F}),f=()=>{e.item.type!=="disabled"&&r("click",e.item)},c=()=>{const{topInfo:x}=e.item;if(x||s["top-info"])return ne("div",{class:Xt("top-info")},[s["top-info"]?s["top-info"](e.item):x])},g=()=>{const{bottomInfo:x}=e.item;if(x||s["bottom-info"])return ne("div",{class:Xt("bottom-info")},[s["bottom-info"]?s["bottom-info"](e.item):x])},E=()=>{const{item:x,color:m,rowHeight:p}=e,{type:b,text:T}=x,S=[c(),T,g()];return b==="selected"?ne("div",{class:Xt("selected-day"),style:{width:p,height:p,background:m}},[S]):S};return()=>{const{type:x,className:m}=e.item;return x==="placeholder"?ne("div",{class:Xt("day"),style:u.value},null):ne("div",{role:"gridcell",style:u.value,class:[Xt("day",x),m],tabindex:x==="disabled"?void 0:-1,onClick:f},[E()])}}});const[xE]=wt("calendar-month"),wE={date:Vn(Date),type:String,color:String,minDate:Vn(Date),maxDate:Vn(Date),showMark:Boolean,rowHeight:qe,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var EE=dt({name:xE,props:wE,emits:["click","update-height"],setup(e,{emit:r,slots:s}){const[u,f]=px(),c=Fe(),g=Fe(),E=k0(g),x=Re(()=>fE(e.date)),m=Re(()=>An(e.rowHeight)),p=Re(()=>{const ge=e.date.getDay();return e.firstDayOfWeek?(ge+7-e.firstDayOfWeek)%7:ge}),b=Re(()=>hE(e.date.getFullYear(),e.date.getMonth()+1)),T=Re(()=>u.value||!e.lazyRender),S=()=>x.value,F=ge=>{const Ae=z=>e.currentDate.some(le=>Tn(le,z)===0);if(Ae(ge)){const z=Al(ge),le=nd(ge),be=Ae(z),U=Ae(le);return be&&U?"multiple-middle":be?"end":U?"start":"multiple-selected"}return""},k=ge=>{const[Ae,z]=e.currentDate;if(!Ae)return"";const le=Tn(ge,Ae);if(!z)return le===0?"start":"";const be=Tn(ge,z);return e.allowSameDay&&le===0&&be===0?"start-end":le===0?"start":be===0?"end":le>0&&be<0?"middle":""},j=ge=>{const{type:Ae,minDate:z,maxDate:le,currentDate:be}=e;if(Tn(ge,z)<0||Tn(ge,le)>0)return"disabled";if(be===null)return"";if(Array.isArray(be)){if(Ae==="multiple")return F(ge);if(Ae==="range")return k(ge)}else if(Ae==="single")return Tn(ge,be)===0?"selected":"";return""},M=ge=>{if(e.type==="range"){if(ge==="start"||ge==="end")return Er(ge);if(ge==="start-end")return`${Er("start")}/${Er("end")}`}},B=()=>{if(e.showMonthTitle)return ne("div",{class:Xt("month-title")},[x.value])},L=()=>{if(e.showMark&&T.value)return ne("div",{class:Xt("month-mark")},[e.date.getMonth()+1])},D=Re(()=>{const ge=Math.ceil((b.value+p.value)/7);return Array(ge).fill({type:"placeholder"})}),G=Re(()=>{const ge=[],Ae=e.date.getFullYear(),z=e.date.getMonth();for(let le=1;le<=b.value;le++){const be=new Date(Ae,z,le),U=j(be);let de={date:be,type:U,text:le,bottomInfo:M(U)};e.formatter&&(de=e.formatter(de)),ge.push(de)}return ge}),W=Re(()=>G.value.filter(ge=>ge.type==="disabled")),P=(ge,Ae)=>{if(c.value){const z=ar(c.value),le=D.value.length,U=(Math.ceil((Ae.getDate()+p.value)/7)-1)*z.height/le;Io(ge,z.top+U+ge.scrollTop-ar(ge).top)}},ce=(ge,Ae)=>ne(mE,{item:ge,index:Ae,color:e.color,offset:p.value,rowHeight:m.value,onClick:z=>r("click",z)},fi(s,["top-info","bottom-info"])),$=()=>ne("div",{ref:c,role:"grid",class:Xt("days")},[L(),(T.value?G:D).value.map(ce)]);return Zn({getTitle:S,getHeight:()=>E.value,setVisible:f,scrollToDate:P,disabledDays:W}),()=>ne("div",{class:Xt("month"),ref:g},[B(),$()])}});const[pE]=wt("calendar-header");var CE=dt({name:pE,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},emits:["click-subtitle"],setup(e,{slots:r,emit:s}){const u=()=>{if(e.showTitle){const E=e.title||Er("title"),x=r.title?r.title():E;return ne("div",{class:Xt("header-title")},[x])}},f=E=>s("click-subtitle",E),c=()=>{if(e.showSubtitle){const E=r.subtitle?r.subtitle():e.subtitle;return ne("div",{class:Xt("header-subtitle"),onClick:f},[E])}},g=()=>{const{firstDayOfWeek:E}=e,x=Er("weekdays"),m=[...x.slice(E,7),...x.slice(0,E)];return ne("div",{class:Xt("weekdays")},[m.map(p=>ne("span",{class:Xt("weekday")},[p]))])};return()=>ne("div",{class:Xt("header")},[u(),c(),g()])}});const bE={show:Boolean,type:_t("single"),title:String,color:String,round:ut,readonly:Boolean,poppable:ut,maxRange:Yt(null),position:_t("bottom"),teleport:[String,Object],showMark:ut,showTitle:ut,formatter:Function,rowHeight:qe,confirmText:String,rangePrompt:String,lazyRender:ut,showConfirm:ut,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:ut,closeOnPopstate:ut,showRangePrompt:ut,confirmDisabledText:String,closeOnClickOverlay:ut,safeAreaInsetTop:Boolean,safeAreaInsetBottom:ut,minDate:{type:Date,validator:tf,default:yl},maxDate:{type:Date,validator:tf,default:()=>{const e=yl();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:qe,default:0,validator:e=>e>=0&&e<=6}};var AE=dt({name:uE,props:bE,emits:["select","confirm","unselect","month-show","over-range","update:show","click-subtitle"],setup(e,{emit:r,slots:s}){const u=(U,de=e.minDate,fe=e.maxDate)=>Tn(U,de)===-1?de:Tn(U,fe)===1?fe:U,f=(U=e.defaultDate)=>{const{type:de,minDate:fe,maxDate:Se}=e;if(U===null)return U;const Q=yl();if(de==="range"){Array.isArray(U)||(U=[]);const we=u(U[0]||Q,fe,Al(Se)),Te=u(U[1]||Q,nd(fe));return[we,Te]}return de==="multiple"?Array.isArray(U)?U.map(we=>u(we)):[u(Q)]:((!U||Array.isArray(U))&&(U=Q),u(U))};let c;const g=Fe(),E=Fe(""),x=Fe(f()),[m,p]=rd(),b=Re(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),T=Re(()=>{const U=[],de=new Date(e.minDate);if(e.lazyRender&&!e.show&&e.poppable)return U;de.setDate(1);do U.push(new Date(de)),de.setMonth(de.getMonth()+1);while(bl(de,e.maxDate)!==1);return U}),S=Re(()=>{if(x.value){if(e.type==="range")return!x.value[0]||!x.value[1];if(e.type==="multiple")return!x.value.length}return!x.value}),F=()=>x.value,k=()=>{const U=Ws(g.value),de=U+c,fe=T.value.map((ae,me)=>m.value[me].getHeight()),Se=fe.reduce((ae,me)=>ae+me,0);if(de>Se&&U>0)return;let Q=0,we;const Te=[-1,-1];for(let ae=0;ae<T.value.length;ae++){const me=m.value[ae];Q<=de&&Q+fe[ae]>=U&&(Te[1]=ae,we||(we=me,Te[0]=ae),m.value[ae].showed||(m.value[ae].showed=!0,r("month-show",{date:me.date,title:me.getTitle()}))),Q+=fe[ae]}T.value.forEach((ae,me)=>{const Le=me>=Te[0]-1&&me<=Te[1]+1;m.value[me].setVisible(Le)}),we&&(E.value=we.getTitle())},j=U=>{Wr(()=>{T.value.some((de,fe)=>bl(de,U)===0?(g.value&&m.value[fe].scrollToDate(g.value,U),!0):!1),k()})},M=()=>{if(!(e.poppable&&!e.show))if(x.value){const U=e.type==="single"?x.value:x.value[0];j(U)}else Wr(k)},B=()=>{e.poppable&&!e.show||(Wr(()=>{c=Math.floor(ar(g).height)}),M())},L=(U=f())=>{x.value=U,M()},D=U=>{const{maxRange:de,rangePrompt:fe,showRangePrompt:Se}=e;return de&&dE(U)>de?(Se&&Wn(fe||Er("rangePrompt",de)),r("over-range"),!1):!0},G=()=>{var U;return r("confirm",(U=x.value)!=null?U:wf(x.value))},W=(U,de)=>{const fe=Se=>{x.value=Se,r("select",wf(Se))};if(de&&e.type==="range"&&!D(U)){fe([U[0],bc(U[0],+e.maxRange-1)]);return}fe(U),de&&!e.showConfirm&&G()},P=(U,de,fe)=>{var Se;return(Se=U.find(Q=>Tn(de,Q.date)===-1&&Tn(Q.date,fe)===-1))==null?void 0:Se.date},ce=Re(()=>m.value.reduce((U,de)=>{var fe,Se;return U.push(...(Se=(fe=de.disabledDays)==null?void 0:fe.value)!=null?Se:[]),U},[])),$=U=>{if(e.readonly||!U.date)return;const{date:de}=U,{type:fe}=e;if(fe==="range"){if(!x.value){W([de]);return}const[Se,Q]=x.value;if(Se&&!Q){const we=Tn(de,Se);if(we===1){const Te=P(ce.value,Se,de);if(Te){const ae=Al(Te);Tn(Se,ae)===-1?W([Se,ae]):W([de])}else W([Se,de],!0)}else we===-1?W([de]):e.allowSameDay&&W([de,de],!0)}else W([de])}else if(fe==="multiple"){if(!x.value){W([de]);return}const Se=x.value,Q=Se.findIndex(we=>Tn(we,de)===0);if(Q!==-1){const[we]=Se.splice(Q,1);r("unselect",Oo(we))}else e.maxRange&&Se.length>=e.maxRange?Wn(e.rangePrompt||Er("rangePrompt",e.maxRange)):W([...Se,de])}else W(de,!0)},ge=U=>r("update:show",U),Ae=(U,de)=>{const fe=de!==0||!e.showSubtitle;return ne(EE,cr({ref:p(de),date:U,currentDate:x.value,showMonthTitle:fe,firstDayOfWeek:b.value},fi(e,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:$}),fi(s,["top-info","bottom-info"]))},z=()=>{if(s.footer)return s.footer();if(e.showConfirm){const U=s["confirm-text"],de=S.value,fe=de?e.confirmDisabledText:e.confirmText;return ne(mw,{round:!0,block:!0,type:"danger",color:e.color,class:Xt("confirm"),disabled:de,nativeType:"button",onClick:G},{default:()=>[U?U({disabled:de}):fe||Er("confirm")]})}},le=()=>ne("div",{class:[Xt("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[z()]),be=()=>ne("div",{class:Xt()},[ne(CE,{title:e.title,subtitle:E.value,showTitle:e.showTitle,showSubtitle:e.showSubtitle,firstDayOfWeek:b.value,"onClick-subtitle":U=>r("click-subtitle",U)},fi(s,["title","subtitle"])),ne("div",{ref:g,class:Xt("body"),onScroll:k},[T.value.map(Ae)]),le()]);return nt(()=>e.show,B),nt(()=>[e.type,e.minDate,e.maxDate],()=>L(f(x.value))),nt(()=>e.defaultDate,(U=null)=>{x.value=U,M()}),Zn({reset:L,scrollToDate:j,getSelectedDate:F}),Hs(B),()=>e.poppable?ne(Y0,{show:e.show,class:Xt("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":ge},{default:be}):be()}});const DC=kt(AE);function yE(e,r,s){let u=0;const f=e.scrollLeft,c=s===0?1:Math.round(s*1e3/16);function g(){e.scrollLeft+=(r-f)/c,++u<c&&Wr(g)}g()}function _E(e,r,s,u){let f=Ws(e);const c=f<r,g=s===0?1:Math.round(s*1e3/16),E=(r-f)/g;function x(){f+=E,(c&&f>r||!c&&f<r)&&(f=r),Io(e,f),c&&f<r||!c&&f>r?Wr(x):u&&Wr(u)}x()}function IE(e,r){if(!Jo||!window.IntersectionObserver)return;const s=new IntersectionObserver(c=>{r(c[0].intersectionRatio>0)},{root:document.body}),u=()=>{e.value&&s.observe(e.value)},f=()=>{e.value&&s.unobserve(e.value)};Xi(f),Yi(f),Hs(u)}const[TE,vE]=wt("sticky"),SE={zIndex:qe,position:_t("top"),container:Object,offsetTop:Yt(0),offsetBottom:Yt(0)};var NE=dt({name:TE,props:SE,emits:["scroll","change"],setup(e,{emit:r,slots:s}){const u=Fe(),f=fc(u),c=an({fixed:!1,width:0,height:0,transform:0}),g=Re(()=>mc(e.position==="top"?e.offsetTop:e.offsetBottom)),E=Re(()=>{const{fixed:b,height:T,width:S}=c;if(b)return{width:`${S}px`,height:`${T}px`}}),x=Re(()=>{if(!c.fixed)return;const b=Kt(ea(e.zIndex),{width:`${c.width}px`,height:`${c.height}px`,[e.position]:`${g.value}px`});return c.transform&&(b.transform=`translate3d(0, ${c.transform}px, 0)`),b}),m=b=>r("scroll",{scrollTop:b,isFixed:c.fixed}),p=()=>{if(!u.value||To(u))return;const{container:b,position:T}=e,S=ar(u),F=Ws(window);if(c.width=S.width,c.height=S.height,T==="top")if(b){const k=ar(b),j=k.bottom-g.value-c.height;c.fixed=g.value>S.top&&k.bottom>0,c.transform=j<0?j:0}else c.fixed=g.value>S.top;else{const{clientHeight:k}=document.documentElement;if(b){const j=ar(b),M=k-j.top-g.value-c.height;c.fixed=k-g.value<S.bottom&&k>j.top,c.transform=M<0?-M:0}else c.fixed=k-g.value<S.bottom}m(F)};return nt(()=>c.fixed,b=>r("change",b)),uc("scroll",p,{target:f}),IE(u,p),()=>{var b;return ne("div",{ref:u,style:E.value},[ne("div",{class:vE({fixed:c.fixed}),style:x.value},[(b=s.default)==null?void 0:b.call(s)])])}}});const OE=kt(NE),[RE,Ef]=wt("tab");var DE=dt({name:RE,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:qe,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:ut},setup(e,{slots:r}){const s=Re(()=>{const f={},{type:c,color:g,disabled:E,isActive:x,activeColor:m,inactiveColor:p}=e;g&&c==="card"&&(f.borderColor=g,E||(x?f.backgroundColor=g:f.color=g));const T=x?m:p;return T&&(f.color=T),f}),u=()=>{const f=ne("span",{class:Ef("text",{ellipsis:!e.scrollable})},[r.title?r.title():e.title]);return e.dot||jt(e.badge)&&e.badge!==""?ne(Ec,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[f]}):f};return()=>ne("div",{id:e.id,role:"tab",class:[Ef([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:s.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[u()])}});const[id,lo]=wt("swipe"),ME={loop:ut,width:qe,height:qe,vertical:Boolean,autoplay:Yt(0),duration:Yt(500),touchable:ut,lazyRender:Boolean,initialSwipe:Yt(0),indicatorColor:String,showIndicators:ut,stopPropagation:ut},sd=Symbol(id);var LE=dt({name:id,props:ME,emits:["change"],setup(e,{emit:r,slots:s}){const u=Fe(),f=an({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),c=ia(),{children:g,linkChildren:E}=Vs(sd),x=Re(()=>g.length),m=Re(()=>f[e.vertical?"height":"width"]),p=Re(()=>e.vertical?c.deltaY.value:c.deltaX.value),b=Re(()=>f.rect?(e.vertical?f.rect.height:f.rect.width)-m.value*x.value:0),T=Re(()=>Math.ceil(Math.abs(b.value)/m.value)),S=Re(()=>x.value*m.value),F=Re(()=>(f.active+x.value)%x.value),k=Re(()=>{const Q=e.vertical?"vertical":"horizontal";return c.direction.value===Q}),j=Re(()=>{const Q={transitionDuration:`${f.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${f.offset}px)`};if(m.value){const we=e.vertical?"height":"width",Te=e.vertical?"width":"height";Q[we]=`${S.value}px`,Q[Te]=e[Te]?`${e[Te]}px`:""}return Q}),M=Q=>{const{active:we}=f;return Q?e.loop?Bi(we+Q,-1,x.value):Bi(we+Q,0,T.value):we},B=(Q,we=0)=>{let Te=Q*m.value;e.loop||(Te=Math.min(Te,-b.value));let ae=we-Te;return e.loop||(ae=Bi(ae,b.value,0)),ae},L=({pace:Q=0,offset:we=0,emitChange:Te})=>{if(x.value<=1)return;const{active:ae}=f,me=M(Q),Le=B(me,we);if(e.loop){if(g[0]&&Le!==b.value){const V=Le<b.value;g[0].setOffset(V?S.value:0)}if(g[x.value-1]&&Le!==0){const V=Le>0;g[x.value-1].setOffset(V?-S.value:0)}}f.active=me,f.offset=Le,Te&&me!==ae&&r("change",F.value)},D=()=>{f.swiping=!0,f.active<=-1?L({pace:x.value}):f.active>=x.value&&L({pace:-x.value})},G=()=>{D(),c.reset(),so(()=>{f.swiping=!1,L({pace:-1,emitChange:!0})})},W=()=>{D(),c.reset(),so(()=>{f.swiping=!1,L({pace:1,emitChange:!0})})};let P;const ce=()=>clearTimeout(P),$=()=>{ce(),e.autoplay>0&&x.value>1&&(P=setTimeout(()=>{W(),$()},+e.autoplay))},ge=(Q=+e.initialSwipe)=>{if(!u.value)return;const we=()=>{var Te,ae;if(!To(u)){const me={width:u.value.offsetWidth,height:u.value.offsetHeight};f.rect=me,f.width=+((Te=e.width)!=null?Te:me.width),f.height=+((ae=e.height)!=null?ae:me.height)}x.value&&(Q=Math.min(x.value-1,Q)),f.active=Q,f.swiping=!0,f.offset=B(Q),g.forEach(me=>{me.setOffset(0)}),$()};To(u)?Jt().then(we):we()},Ae=()=>ge(f.active);let z;const le=Q=>{e.touchable&&(c.start(Q),z=Date.now(),ce(),D())},be=Q=>{e.touchable&&f.swiping&&(c.move(Q),k.value&&(Cr(Q,e.stopPropagation),L({offset:p.value})))},U=()=>{if(!e.touchable||!f.swiping)return;const Q=Date.now()-z,we=p.value/Q;if((Math.abs(we)>.25||Math.abs(p.value)>m.value/2)&&k.value){const ae=e.vertical?c.offsetY.value:c.offsetX.value;let me=0;e.loop?me=ae>0?p.value>0?-1:1:0:me=-Math[p.value>0?"ceil":"floor"](p.value/m.value),L({pace:me,emitChange:!0})}else p.value&&L({pace:0});f.swiping=!1,$()},de=(Q,we={})=>{D(),c.reset(),so(()=>{let Te;e.loop&&Q===x.value?Te=f.active===0?0:Q:Te=Q%x.value,we.immediate?so(()=>{f.swiping=!1}):f.swiping=!1,L({pace:Te-f.active,emitChange:!0})})},fe=(Q,we)=>{const Te=we===F.value,ae=Te?{backgroundColor:e.indicatorColor}:void 0;return ne("i",{style:ae,class:lo("indicator",{active:Te})},null)},Se=()=>{if(s.indicator)return s.indicator({active:F.value,total:x.value});if(e.showIndicators&&x.value>1)return ne("div",{class:lo("indicators",{vertical:e.vertical})},[Array(x.value).fill("").map(fe)])};return Zn({prev:G,next:W,state:f,resize:Ae,swipeTo:de}),E({size:m,props:e,count:x,activeIndicator:F}),nt(()=>e.initialSwipe,Q=>ge(+Q)),nt(x,()=>ge(f.active)),nt(()=>e.autoplay,$),nt([gc,M0],Ae),nt(Ix(),Q=>{Q==="visible"?$():ce()}),On(ge),Ps(()=>ge(f.active)),X0(()=>ge(f.active)),Xi(ce),Yi(ce),()=>{var Q;return ne("div",{ref:u,class:lo()},[ne("div",{style:j.value,class:lo("track",{vertical:e.vertical}),onTouchstart:le,onTouchmove:be,onTouchend:U,onTouchcancel:U},[(Q=s.default)==null?void 0:Q.call(s)]),Se()])}}});const PE=kt(LE),[BE,pf]=wt("tabs");var kE=dt({name:BE,props:{count:Vn(Number),inited:Boolean,animated:Boolean,duration:Vn(qe),swipeable:Boolean,lazyRender:Boolean,currentIndex:Vn(Number)},emits:["change"],setup(e,{emit:r,slots:s}){const u=Fe(),f=E=>r("change",E),c=()=>{var E;const x=(E=s.default)==null?void 0:E.call(s);return e.animated||e.swipeable?ne(PE,{ref:u,loop:!1,class:pf("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:f},{default:()=>[x]}):x},g=E=>{const x=u.value;x&&x.state.active!==E&&x.swipeTo(E,{immediate:!e.inited})};return nt(()=>e.currentIndex,g),On(()=>{g(e.currentIndex)}),()=>ne("div",{class:pf("content",{animated:e.animated||e.swipeable})},[c()])}});const[od,co]=wt("tabs"),FE={type:_t("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:Yt(0),duration:Yt(.3),animated:Boolean,ellipsis:ut,swipeable:Boolean,scrollspy:Boolean,offsetTop:Yt(0),background:String,lazyRender:ut,lineWidth:qe,lineHeight:qe,beforeChange:Function,swipeThreshold:Yt(5),titleActiveColor:String,titleInactiveColor:String},ad=Symbol(od);var UE=dt({name:od,props:FE,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:r,slots:s}){let u,f,c;const g=Fe(),E=Fe(),x=Fe(),m=pc(),p=fc(g),[b,T]=rd(),{children:S,linkChildren:F}=Vs(ad),k=an({inited:!1,position:"",lineStyle:{},currentIndex:-1}),j=Re(()=>S.length>e.swipeThreshold||!e.ellipsis||e.shrink),M=Re(()=>({borderColor:e.color,background:e.background})),B=(ae,me)=>{var Le;return(Le=ae.name)!=null?Le:me},L=Re(()=>{const ae=S[k.currentIndex];if(ae)return B(ae,k.currentIndex)}),D=Re(()=>mc(e.offsetTop)),G=Re(()=>e.sticky?D.value+u:0),W=ae=>{const me=E.value,Le=b.value;if(!j.value||!me||!Le||!Le[k.currentIndex])return;const V=Le[k.currentIndex].$el,te=V.offsetLeft-(me.offsetWidth-V.offsetWidth)/2;yE(me,te,ae?0:+e.duration)},P=()=>{const ae=k.inited;Jt(()=>{const me=b.value;if(!me||!me[k.currentIndex]||e.type!=="line"||To(g.value))return;const Le=me[k.currentIndex].$el,{lineWidth:V,lineHeight:te}=e,ue=Le.offsetLeft+Le.offsetWidth/2,Ee={width:An(V),backgroundColor:e.color,transform:`translateX(${ue}px) translateX(-50%)`};if(ae&&(Ee.transitionDuration=`${e.duration}s`),jt(te)){const Ve=An(te);Ee.height=Ve,Ee.borderRadius=Ve}k.lineStyle=Ee})},ce=ae=>{const me=ae<k.currentIndex?-1:1;for(;ae>=0&&ae<S.length;){if(!S[ae].disabled)return ae;ae+=me}},$=ae=>{const me=ce(ae);if(!jt(me))return;const Le=S[me],V=B(Le,me),te=k.currentIndex!==null;k.currentIndex=me,V!==e.active&&(r("update:active",V),te&&r("change",V,Le.title))},ge=ae=>{const me=S.find((V,te)=>B(V,te)===ae),Le=me?S.indexOf(me):0;$(Le)},Ae=(ae=!1)=>{if(e.scrollspy){const me=S[k.currentIndex].$el;if(me&&p.value){const Le=nf(me,p.value)-G.value;f=!0,_E(p.value,Le,ae?0:+e.duration,()=>{f=!1})}}},z=(ae,me,Le)=>{const{title:V,disabled:te}=S[me],ue=B(S[me],me);te?r("disabled",ue,V):(xc(e.beforeChange,{args:[ue],done:()=>{$(me),Ae()}}),r("click",ue,V),U0(ae)),r("click-tab",{name:ue,title:V,event:Le,disabled:te})},le=ae=>{c=ae.isFixed,r("scroll",ae)},be=ae=>{Jt(()=>{ge(ae),Ae(!0)})},U=()=>{for(let ae=0;ae<S.length;ae++){const{top:me}=ar(S[ae].$el);if(me>G.value)return ae===0?0:ae-1}return S.length-1},de=()=>{if(e.scrollspy&&!f){const ae=U();$(ae)}},fe=()=>S.map((ae,me)=>ne(DE,cr({key:ae.id,id:`${m}-${me}`,ref:T(me),type:e.type,color:e.color,style:ae.titleStyle,class:ae.titleClass,shrink:e.shrink,isActive:me===k.currentIndex,controls:ae.id,scrollable:j.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:Le=>z(ae,me,Le)},fi(ae,["dot","badge","title","disabled","showZeroBadge"])),{title:ae.$slots.title})),Se=()=>{if(e.type==="line"&&S.length)return ne("div",{class:co("line"),style:k.lineStyle},null)},Q=()=>{var ae,me;const{type:Le,border:V}=e;return ne("div",{ref:x,class:[co("wrap"),{[B0]:Le==="line"&&V}]},[ne("div",{ref:E,role:"tablist",class:co("nav",[Le,{shrink:e.shrink,complete:j.value}]),style:M.value,"aria-orientation":"horizontal"},[(ae=s["nav-left"])==null?void 0:ae.call(s),fe(),Se(),(me=s["nav-right"])==null?void 0:me.call(s)])])};nt([()=>e.color,gc],P),nt(()=>e.active,ae=>{ae!==L.value&&ge(ae)}),nt(()=>S.length,()=>{k.inited&&(ge(e.active),P(),Jt(()=>{W(!0)}))}),nt(()=>k.currentIndex,()=>{W(),P(),c&&!e.scrollspy&&hc(Math.ceil(nf(g.value)-D.value))});const we=()=>{ge(e.active),Jt(()=>{k.inited=!0,x.value&&(u=ar(x.value).height),W(!0)})},Te=(ae,me)=>r("rendered",ae,me);return Zn({resize:P,scrollTo:be}),Ps(P),X0(P),Hs(we),uc("scroll",de,{target:p}),F({id:m,props:e,setLine:P,onRendered:Te,currentName:L,scrollIntoView:W}),()=>{var ae;return ne("div",{ref:g,class:co([e.type])},[e.sticky?ne(OE,{container:g.value,offsetTop:D.value,onScroll:le},{default:()=>{var me;return[Q(),(me=s["nav-bottom"])==null?void 0:me.call(s)]}}):[Q(),(ae=s["nav-bottom"])==null?void 0:ae.call(s)],ne(kE,{count:S.length,inited:k.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:k.currentIndex,onChange:$},{default:()=>{var me;return[(me=s.default)==null?void 0:me.call(s)]}})])}}});const VE=Symbol(),[HE,WE]=wt("swipe-item");var GE=dt({name:HE,setup(e,{slots:r}){let s;const u=an({offset:0,inited:!1,mounted:!1}),{parent:f,index:c}=ji(sd);if(!f)return;const g=Re(()=>{const m={},{vertical:p}=f.props;return f.size.value&&(m[p?"height":"width"]=`${f.size.value}px`),u.offset&&(m.transform=`translate${p?"Y":"X"}(${u.offset}px)`),m}),E=Re(()=>{const{loop:m,lazyRender:p}=f.props;if(!p||s)return!0;if(!u.mounted)return!1;const b=f.activeIndicator.value,T=f.count.value-1,S=b===0&&m?T:b-1,F=b===T&&m?0:b+1;return s=c.value===b||c.value===S||c.value===F,s}),x=m=>{u.offset=m};return On(()=>{Jt(()=>{u.mounted=!0})}),Zn({setOffset:x}),()=>{var m;return ne("div",{class:WE(),style:g.value},[E.value?(m=r.default)==null?void 0:m.call(r):null])}}});const XE=kt(GE),[YE,Ha]=wt("tab"),jE=Kt({},na,{dot:Boolean,name:qe,badge:qe,title:String,disabled:Boolean,titleClass:Sn,titleStyle:[String,Object],showZeroBadge:ut});var zE=dt({name:YE,props:jE,setup(e,{slots:r}){const s=pc(),u=Fe(!1),{parent:f,index:c}=ji(ad);if(!f)return;const g=()=>{var m;return(m=e.name)!=null?m:c.value},E=()=>{u.value=!0,f.props.lazyRender&&Jt(()=>{f.onRendered(g(),e.title)})},x=Re(()=>{const m=g()===f.currentName.value;return m&&!u.value&&E(),m});return nt(()=>e.title,()=>{f.setLine(),f.scrollIntoView()}),wr(VE,x),()=>{var m;const p=`${f.id}-${c.value}`,{animated:b,swipeable:T,scrollspy:S,lazyRender:F}=f.props;if(!r.default&&!b)return;const k=S||x.value;if(b||T)return ne(XE,{id:s,role:"tabpanel",class:Ha("panel-wrapper",{inactive:!x.value}),tabindex:x.value?0:-1,"aria-hidden":!x.value,"aria-labelledby":p},{default:()=>{var B;return[ne("div",{class:Ha("panel")},[(B=r.default)==null?void 0:B.call(r)])]}});const M=u.value||S||!F?(m=r.default)==null?void 0:m.call(r):null;return Zn({id:s}),Zl(ne("div",{id:s,role:"tabpanel",class:Ha("panel"),tabindex:k?0:-1,"aria-labelledby":p},[M]),[[tc,k]])}}});const MC=kt(zE),LC=kt(UE),PC=kt(nw),[$E,dr]=wt("nav-bar"),KE={title:String,fixed:Boolean,zIndex:qe,border:ut,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var ZE=dt({name:$E,props:KE,emits:["click-left","click-right"],setup(e,{emit:r,slots:s}){const u=Fe(),f=F0(u,dr),c=p=>r("click-left",p),g=p=>r("click-right",p),E=()=>s.left?s.left():[e.leftArrow&&ne(Kn,{class:dr("arrow"),name:"arrow-left"},null),e.leftText&&ne("span",{class:dr("text")},[e.leftText])],x=()=>s.right?s.right():ne("span",{class:dr("text")},[e.rightText]),m=()=>{const{title:p,fixed:b,border:T,zIndex:S}=e,F=ea(S),k=e.leftArrow||e.leftText||s.left,j=e.rightText||s.right;return ne("div",{ref:u,style:F,class:[dr({fixed:b}),{[jx]:T,"van-safe-area-top":e.safeAreaInsetTop}]},[ne("div",{class:dr("content")},[k&&ne("div",{class:[dr("left"),Ms],onClick:c},[E()]),ne("div",{class:[dr("title"),"van-ellipsis"]},[s.title?s.title():p]),j&&ne("div",{class:[dr("right"),Ms],onClick:g},[x()])])])};return()=>e.fixed&&e.placeholder?f(m):m()}});const BC=kt(ZE),[qE,ls,QE]=wt("pull-refresh"),ld=50,JE=["pulling","loosing","success"],ep={disabled:Boolean,modelValue:Boolean,headHeight:Yt(ld),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:qe,successDuration:Yt(500),animationDuration:Yt(300)};var tp=dt({name:qE,props:ep,emits:["change","refresh","update:modelValue"],setup(e,{emit:r,slots:s}){let u;const f=Fe(),c=fc(f),g=an({status:"normal",distance:0,duration:0}),E=ia(),x=()=>{if(e.headHeight!==ld)return{height:`${e.headHeight}px`}},m=()=>g.status!=="loading"&&g.status!=="success"&&!e.disabled,p=L=>{const D=+(e.pullDistance||e.headHeight);return L>D&&(L<D*2?L=D+(L-D)/2:L=D*1.5+(L-D*2)/4),Math.round(L)},b=(L,D)=>{const G=+(e.pullDistance||e.headHeight);g.distance=L,D?g.status="loading":L===0?g.status="normal":L<G?g.status="pulling":g.status="loosing",r("change",{status:g.status,distance:L})},T=()=>{const{status:L}=g;return L==="normal"?"":e[`${L}Text`]||QE(L)},S=()=>{const{status:L,distance:D}=g;if(s[L])return s[L]({distance:D});const G=[];return JE.includes(L)&&G.push(ne("div",{class:ls("text")},[T()])),L==="loading"&&G.push(ne(ra,{class:ls("loading")},{default:T})),G},F=()=>{g.status="success",setTimeout(()=>{b(0)},+e.successDuration)},k=L=>{u=Ws(c.value)===0,u&&(g.duration=0,E.start(L))},j=L=>{m()&&k(L)},M=L=>{if(m()){u||k(L);const{deltaY:D}=E;E.move(L),u&&D.value>=0&&E.isVertical()&&(Cr(L),b(p(D.value)))}},B=()=>{u&&E.deltaY.value&&m()&&(g.duration=+e.animationDuration,g.status==="loosing"?(b(+e.headHeight,!0),r("update:modelValue",!0),Jt(()=>r("refresh"))):b(0))};return nt(()=>e.modelValue,L=>{g.duration=+e.animationDuration,L?b(+e.headHeight,!0):s.success||e.successText?F():b(0,!1)}),()=>{var L;const D={transitionDuration:`${g.duration}ms`,transform:g.distance?`translate3d(0,${g.distance}px, 0)`:""};return ne("div",{ref:f,class:ls()},[ne("div",{class:ls("track"),style:D,onTouchstart:j,onTouchmove:M,onTouchend:B,onTouchcancel:B},[ne("div",{class:ls("head"),style:x()},[S()]),(L=s.default)==null?void 0:L.call(s)])])}}});const kC=kt(tp),[cd,Cf]=wt("tabbar"),np={route:Boolean,fixed:ut,border:ut,zIndex:qe,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Yt(0),safeAreaInsetBottom:{type:Boolean,default:null}},ud=Symbol(cd);var rp=dt({name:cd,props:np,emits:["change","update:modelValue"],setup(e,{emit:r,slots:s}){const u=Fe(),{linkChildren:f}=Vs(ud),c=F0(u,Cf),g=()=>{var m;return(m=e.safeAreaInsetBottom)!=null?m:e.fixed},E=()=>{var m;const{fixed:p,zIndex:b,border:T}=e;return ne("div",{ref:u,role:"tablist",style:ea(b),class:[Cf({fixed:p}),{[B0]:T,"van-safe-area-bottom":g()}]},[(m=s.default)==null?void 0:m.call(s)])};return f({props:e,setActive:(m,p)=>{xc(e.beforeChange,{args:[m],done(){r("update:modelValue",m),r("change",m),p()}})}}),()=>e.fixed&&e.placeholder?c(E):E()}});const FC=kt(rp),[ip,Wa]=wt("tabbar-item"),sp=Kt({},na,{dot:Boolean,icon:String,name:qe,badge:qe,badgeProps:Object,iconPrefix:String});var op=dt({name:ip,props:sp,emits:["click"],setup(e,{emit:r,slots:s}){const u=wc(),f=fn().proxy,{parent:c,index:g}=ji(ud);if(!c)return;const E=Re(()=>{var p;const{route:b,modelValue:T}=c.props;if(b&&"$route"in f){const{$route:S}=f,{to:F}=e,k=$r(F)?F:{path:F};return!!S.matched.find(j=>{const M="path"in k&&k.path===j.path,B="name"in k&&k.name===j.name;return M||B})}return((p=e.name)!=null?p:g.value)===T}),x=p=>{var b;E.value||c.setActive((b=e.name)!=null?b:g.value,u),r("click",p)},m=()=>{if(s.icon)return s.icon({active:E.value});if(e.icon)return ne(Kn,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var p;const{dot:b,badge:T}=e,{activeColor:S,inactiveColor:F}=c.props,k=E.value?S:F;return ne("div",{role:"tab",class:Wa({active:E.value}),style:{color:k},tabindex:0,"aria-selected":E.value,onClick:x},[ne(Ec,cr({dot:b,class:Wa("icon"),content:T},e.badgeProps),{default:m}),ne("div",{class:Wa("text")},[(p=s.default)==null?void 0:p.call(s,{active:E.value})])])}}});const UC=kt(op);var VC={name:"Name",tel:"Phone",save:"Save",confirm:"Confirm",cancel:"Cancel",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,r)=>`${e}/${r}`,rangePrompt:e=>`Choose no more than ${e} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>`${e*10}% off`,condition:e=>`At least ${e}`},vanCouponCell:{title:"Coupon",count:e=>`You have ${e} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",postal:"Postal",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",postalEmpty:"Wrong postal code",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}},ap=!1;/*!
  * pinia v2.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let fd;const oa=e=>fd=e,dd=Symbol();function _l(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ys;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ys||(ys={}));function HC(){const e=Ul(!0),r=e.run(()=>Fe({}));let s=[],u=[];const f=ki({install(c){oa(f),f._a=c,c.provide(dd,f),c.config.globalProperties.$pinia=f,u.forEach(g=>s.push(g)),u=[]},use(c){return!this._a&&!ap?u.push(c):s.push(c),this},_p:s,_a:null,_e:e,_s:new Map,state:r});return f}const hd=()=>{};function bf(e,r,s,u=hd){e.push(r);const f=()=>{const c=e.indexOf(r);c>-1&&(e.splice(c,1),u())};return!s&&fn()&&di(f),f}function Ii(e,...r){e.slice().forEach(s=>{s(...r)})}function Il(e,r){for(const s in r){if(!r.hasOwnProperty(s))continue;const u=r[s],f=e[s];_l(f)&&_l(u)&&e.hasOwnProperty(s)&&!Ot(u)&&!Vr(u)?e[s]=Il(f,u):e[s]=u}return e}const lp=Symbol();function cp(e){return!_l(e)||!e.hasOwnProperty(lp)}const{assign:gr}=Object;function up(e){return!!(Ot(e)&&e.effect)}function fp(e,r,s,u){const{state:f,actions:c,getters:g}=r,E=s.state.value[e];let x;function m(){E||(s.state.value[e]=f?f():{});const p=Kh(s.state.value[e]);return gr(p,c,Object.keys(g||{}).reduce((b,T)=>(b[T]=ki(Re(()=>{oa(s);const S=s._s.get(e);return g[T].call(S,S)})),b),{}))}return x=gd(e,m,r,s),x.$reset=function(){const b=f?f():{};this.$patch(T=>{gr(T,b)})},x}function gd(e,r,s={},u,f){let c;const g=s.state,E=gr({actions:{}},s),x={deep:!0};let m,p,b=ki([]),T=ki([]),S;const F=u.state.value[e];!g&&!F&&(u.state.value[e]={}),Fe({});function k(W){let P;m=p=!1,typeof W=="function"?(W(u.state.value[e]),P={type:ys.patchFunction,storeId:e,events:S}):(Il(u.state.value[e],W),P={type:ys.patchObject,payload:W,storeId:e,events:S}),Jt().then(()=>{m=!0}),p=!0,Ii(b,P,u.state.value[e])}const j=hd;function M(){c.stop(),b=[],T=[],u._s.delete(e)}function B(W,P){return function(){oa(u);const ce=Array.from(arguments),$=[],ge=[];function Ae(be){$.push(be)}function z(be){ge.push(be)}Ii(T,{args:ce,name:W,store:D,after:Ae,onError:z});let le;try{le=P.apply(this&&this.$id===e?this:D,ce)}catch(be){throw Ii(ge,be),be}return le instanceof Promise?le.then(be=>(Ii($,be),be)).catch(be=>(Ii(ge,be),Promise.reject(be))):(Ii($,le),le)}}const L={_p:u,$id:e,$onAction:bf.bind(null,T),$patch:k,$reset:j,$subscribe(W,P={}){const ce=bf(b,W,P.detached,()=>$()),$=c.run(()=>nt(()=>u.state.value[e],ge=>{(P.flush==="sync"?p:m)&&W({storeId:e,type:ys.direct,events:S},ge)},gr({},x,P)));return ce},$dispose:M},D=an(gr({},L));u._s.set(e,D);const G=u._e.run(()=>(c=Ul(),c.run(()=>r())));for(const W in G){const P=G[W];if(Ot(P)&&!up(P)||Vr(P))g||(F&&cp(P)&&(Ot(P)?P.value=F[W]:Il(P,F[W])),u.state.value[e][W]=P);else if(typeof P=="function"){const ce=B(W,P);G[W]=ce,E.actions[W]=P}}return gr(D,G),gr(ft(D),G),Object.defineProperty(D,"$state",{get:()=>u.state.value[e],set:W=>{k(P=>{gr(P,W)})}}),u._p.forEach(W=>{gr(D,c.run(()=>W({store:D,app:u._a,pinia:u,options:E})))}),F&&g&&s.hydrate&&s.hydrate(D.$state,F),m=!0,p=!0,D}function WC(e,r,s){let u,f;const c=typeof r=="function";typeof e=="string"?(u=e,f=c?s:r):(f=e,u=e.id);function g(E,x){const m=fn();return E=E||m&&mn(dd),E&&oa(E),E=fd,E._s.has(u)||(c?gd(u,r,f,E):fp(u,f,E)),E._s.get(u)}return g.$id=u,g}/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const md=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",zi=e=>md?Symbol(e):"_vr_"+e,dp=zi("rvlm"),Af=zi("rvd"),aa=zi("r"),xd=zi("rl"),Tl=zi("rvl"),Oi=typeof window!="undefined";function hp(e){return e.__esModule||md&&e[Symbol.toStringTag]==="Module"}const bt=Object.assign;function Ga(e,r){const s={};for(const u in r){const f=r[u];s[u]=Array.isArray(f)?f.map(e):e(f)}return s}const _s=()=>{},gp=/\/$/,mp=e=>e.replace(gp,"");function Xa(e,r,s="/"){let u,f={},c="",g="";const E=r.indexOf("?"),x=r.indexOf("#",E>-1?E:0);return E>-1&&(u=r.slice(0,E),c=r.slice(E+1,x>-1?x:r.length),f=e(c)),x>-1&&(u=u||r.slice(0,x),g=r.slice(x,r.length)),u=pp(u!=null?u:r,s),{fullPath:u+(c&&"?")+c+g,path:u,query:f,hash:g}}function xp(e,r){const s=r.query?e(r.query):"";return r.path+(s&&"?")+s+(r.hash||"")}function yf(e,r){return!r||!e.toLowerCase().startsWith(r.toLowerCase())?e:e.slice(r.length)||"/"}function wp(e,r,s){const u=r.matched.length-1,f=s.matched.length-1;return u>-1&&u===f&&Vi(r.matched[u],s.matched[f])&&wd(r.params,s.params)&&e(r.query)===e(s.query)&&r.hash===s.hash}function Vi(e,r){return(e.aliasOf||e)===(r.aliasOf||r)}function wd(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(!Ep(e[s],r[s]))return!1;return!0}function Ep(e,r){return Array.isArray(e)?_f(e,r):Array.isArray(r)?_f(r,e):e===r}function _f(e,r){return Array.isArray(r)?e.length===r.length&&e.every((s,u)=>s===r[u]):e.length===1&&e[0]===r}function pp(e,r){if(e.startsWith("/"))return e;if(!e)return r;const s=r.split("/"),u=e.split("/");let f=s.length-1,c,g;for(c=0;c<u.length;c++)if(g=u[c],!(f===1||g==="."))if(g==="..")f--;else break;return s.slice(0,f).join("/")+"/"+u.slice(c-(c===u.length?1:0)).join("/")}var Ls;(function(e){e.pop="pop",e.push="push"})(Ls||(Ls={}));var Is;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Is||(Is={}));function Cp(e){if(!e)if(Oi){const r=document.querySelector("base");e=r&&r.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),mp(e)}const bp=/^[^#]+#/;function Ap(e,r){return e.replace(bp,"#")+r}function yp(e,r){const s=document.documentElement.getBoundingClientRect(),u=e.getBoundingClientRect();return{behavior:r.behavior,left:u.left-s.left-(r.left||0),top:u.top-s.top-(r.top||0)}}const la=()=>({left:window.pageXOffset,top:window.pageYOffset});function _p(e){let r;if("el"in e){const s=e.el,u=typeof s=="string"&&s.startsWith("#"),f=typeof s=="string"?u?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!f)return;r=yp(f,e)}else r=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function If(e,r){return(history.state?history.state.position-r:-1)+e}const vl=new Map;function Ip(e,r){vl.set(e,r)}function Tp(e){const r=vl.get(e);return vl.delete(e),r}let vp=()=>location.protocol+"//"+location.host;function Ed(e,r){const{pathname:s,search:u,hash:f}=r,c=e.indexOf("#");if(c>-1){let E=f.includes(e.slice(c))?e.slice(c).length:1,x=f.slice(E);return x[0]!=="/"&&(x="/"+x),yf(x,"")}return yf(s,e)+u+f}function Sp(e,r,s,u){let f=[],c=[],g=null;const E=({state:T})=>{const S=Ed(e,location),F=s.value,k=r.value;let j=0;if(T){if(s.value=S,r.value=T,g&&g===F){g=null;return}j=k?T.position-k.position:0}else u(S);f.forEach(M=>{M(s.value,F,{delta:j,type:Ls.pop,direction:j?j>0?Is.forward:Is.back:Is.unknown})})};function x(){g=s.value}function m(T){f.push(T);const S=()=>{const F=f.indexOf(T);F>-1&&f.splice(F,1)};return c.push(S),S}function p(){const{history:T}=window;T.state&&T.replaceState(bt({},T.state,{scroll:la()}),"")}function b(){for(const T of c)T();c=[],window.removeEventListener("popstate",E),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",E),window.addEventListener("beforeunload",p),{pauseListeners:x,listen:m,destroy:b}}function Tf(e,r,s,u=!1,f=!1){return{back:e,current:r,forward:s,replaced:u,position:window.history.length,scroll:f?la():null}}function Np(e){const{history:r,location:s}=window,u={value:Ed(e,s)},f={value:r.state};f.value||c(u.value,{back:null,current:u.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function c(x,m,p){const b=e.indexOf("#"),T=b>-1?(s.host&&document.querySelector("base")?e:e.slice(b))+x:vp()+e+x;try{r[p?"replaceState":"pushState"](m,"",T),f.value=m}catch(S){s[p?"replace":"assign"](T)}}function g(x,m){const p=bt({},r.state,Tf(f.value.back,x,f.value.forward,!0),m,{position:f.value.position});c(x,p,!0),u.value=x}function E(x,m){const p=bt({},f.value,r.state,{forward:x,scroll:la()});c(p.current,p,!0);const b=bt({},Tf(u.value,x,null),{position:p.position+1},m);c(x,b,!1),u.value=x}return{location:u,state:f,push:E,replace:g}}function Op(e){e=Cp(e);const r=Np(e),s=Sp(e,r.state,r.location,r.replace);function u(c,g=!0){g||s.pauseListeners(),history.go(c)}const f=bt({location:"",base:e,go:u,createHref:Ap.bind(null,e)},r,s);return Object.defineProperty(f,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(f,"state",{enumerable:!0,get:()=>r.state.value}),f}function GC(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Op(e)}function Rp(e){return typeof e=="string"||e&&typeof e=="object"}function pd(e){return typeof e=="string"||typeof e=="symbol"}const Lr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Cd=zi("nf");var vf;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(vf||(vf={}));function Hi(e,r){return bt(new Error,{type:e,[Cd]:!0},r)}function Pr(e,r){return e instanceof Error&&Cd in e&&(r==null||!!(e.type&r))}const Sf="[^/]+?",Dp={sensitive:!1,strict:!1,start:!0,end:!0},Mp=/[.+*?^${}()[\]/\\]/g;function Lp(e,r){const s=bt({},Dp,r),u=[];let f=s.start?"^":"";const c=[];for(const m of e){const p=m.length?[]:[90];s.strict&&!m.length&&(f+="/");for(let b=0;b<m.length;b++){const T=m[b];let S=40+(s.sensitive?.25:0);if(T.type===0)b||(f+="/"),f+=T.value.replace(Mp,"\\$&"),S+=40;else if(T.type===1){const{value:F,repeatable:k,optional:j,regexp:M}=T;c.push({name:F,repeatable:k,optional:j});const B=M||Sf;if(B!==Sf){S+=10;try{new RegExp(`(${B})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${F}" (${B}): `+D.message)}}let L=k?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;b||(L=j&&m.length<2?`(?:/${L})`:"/"+L),j&&(L+="?"),f+=L,S+=20,j&&(S+=-8),k&&(S+=-20),B===".*"&&(S+=-50)}p.push(S)}u.push(p)}if(s.strict&&s.end){const m=u.length-1;u[m][u[m].length-1]+=.7000000000000001}s.strict||(f+="/?"),s.end?f+="$":s.strict&&(f+="(?:/|$)");const g=new RegExp(f,s.sensitive?"":"i");function E(m){const p=m.match(g),b={};if(!p)return null;for(let T=1;T<p.length;T++){const S=p[T]||"",F=c[T-1];b[F.name]=S&&F.repeatable?S.split("/"):S}return b}function x(m){let p="",b=!1;for(const T of e){(!b||!p.endsWith("/"))&&(p+="/"),b=!1;for(const S of T)if(S.type===0)p+=S.value;else if(S.type===1){const{value:F,repeatable:k,optional:j}=S,M=F in m?m[F]:"";if(Array.isArray(M)&&!k)throw new Error(`Provided param "${F}" is an array but it is not repeatable (* or + modifiers)`);const B=Array.isArray(M)?M.join("/"):M;if(!B)if(j)T.length<2&&(p.endsWith("/")?p=p.slice(0,-1):b=!0);else throw new Error(`Missing required param "${F}"`);p+=B}}return p}return{re:g,score:u,keys:c,parse:E,stringify:x}}function Pp(e,r){let s=0;for(;s<e.length&&s<r.length;){const u=r[s]-e[s];if(u)return u;s++}return e.length<r.length?e.length===1&&e[0]===40+40?-1:1:e.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function Bp(e,r){let s=0;const u=e.score,f=r.score;for(;s<u.length&&s<f.length;){const c=Pp(u[s],f[s]);if(c)return c;s++}return f.length-u.length}const kp={type:0,value:""},Fp=/[a-zA-Z0-9_]/;function Up(e){if(!e)return[[]];if(e==="/")return[[kp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function r(S){throw new Error(`ERR (${s})/"${m}": ${S}`)}let s=0,u=s;const f=[];let c;function g(){c&&f.push(c),c=[]}let E=0,x,m="",p="";function b(){m&&(s===0?c.push({type:0,value:m}):s===1||s===2||s===3?(c.length>1&&(x==="*"||x==="+")&&r(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:m,regexp:p,repeatable:x==="*"||x==="+",optional:x==="*"||x==="?"})):r("Invalid state to consume buffer"),m="")}function T(){m+=x}for(;E<e.length;){if(x=e[E++],x==="\\"&&s!==2){u=s,s=4;continue}switch(s){case 0:x==="/"?(m&&b(),g()):x===":"?(b(),s=1):T();break;case 4:T(),s=u;break;case 1:x==="("?s=2:Fp.test(x)?T():(b(),s=0,x!=="*"&&x!=="?"&&x!=="+"&&E--);break;case 2:x===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+x:s=3:p+=x;break;case 3:b(),s=0,x!=="*"&&x!=="?"&&x!=="+"&&E--,p="";break;default:r("Unknown state");break}}return s===2&&r(`Unfinished custom RegExp for param "${m}"`),b(),g(),f}function Vp(e,r,s){const u=Lp(Up(e.path),s),f=bt(u,{record:e,parent:r,children:[],alias:[]});return r&&!f.record.aliasOf==!r.record.aliasOf&&r.children.push(f),f}function Hp(e,r){const s=[],u=new Map;r=Of({strict:!1,end:!0,sensitive:!1},r);function f(p){return u.get(p)}function c(p,b,T){const S=!T,F=Gp(p);F.aliasOf=T&&T.record;const k=Of(r,p),j=[F];if("alias"in p){const L=typeof p.alias=="string"?[p.alias]:p.alias;for(const D of L)j.push(bt({},F,{components:T?T.record.components:F.components,path:D,aliasOf:T?T.record:F}))}let M,B;for(const L of j){const{path:D}=L;if(b&&D[0]!=="/"){const G=b.record.path,W=G[G.length-1]==="/"?"":"/";L.path=b.record.path+(D&&W+D)}if(M=Vp(L,b,k),T?T.alias.push(M):(B=B||M,B!==M&&B.alias.push(M),S&&p.name&&!Nf(M)&&g(p.name)),"children"in F){const G=F.children;for(let W=0;W<G.length;W++)c(G[W],M,T&&T.children[W])}T=T||M,x(M)}return B?()=>{g(B)}:_s}function g(p){if(pd(p)){const b=u.get(p);b&&(u.delete(p),s.splice(s.indexOf(b),1),b.children.forEach(g),b.alias.forEach(g))}else{const b=s.indexOf(p);b>-1&&(s.splice(b,1),p.record.name&&u.delete(p.record.name),p.children.forEach(g),p.alias.forEach(g))}}function E(){return s}function x(p){let b=0;for(;b<s.length&&Bp(p,s[b])>=0&&(p.record.path!==s[b].record.path||!bd(p,s[b]));)b++;s.splice(b,0,p),p.record.name&&!Nf(p)&&u.set(p.record.name,p)}function m(p,b){let T,S={},F,k;if("name"in p&&p.name){if(T=u.get(p.name),!T)throw Hi(1,{location:p});k=T.record.name,S=bt(Wp(b.params,T.keys.filter(B=>!B.optional).map(B=>B.name)),p.params),F=T.stringify(S)}else if("path"in p)F=p.path,T=s.find(B=>B.re.test(F)),T&&(S=T.parse(F),k=T.record.name);else{if(T=b.name?u.get(b.name):s.find(B=>B.re.test(b.path)),!T)throw Hi(1,{location:p,currentLocation:b});k=T.record.name,S=bt({},b.params,p.params),F=T.stringify(S)}const j=[];let M=T;for(;M;)j.unshift(M.record),M=M.parent;return{name:k,path:F,params:S,matched:j,meta:Yp(j)}}return e.forEach(p=>c(p)),{addRoute:c,resolve:m,removeRoute:g,getRoutes:E,getRecordMatcher:f}}function Wp(e,r){const s={};for(const u of r)u in e&&(s[u]=e[u]);return s}function Gp(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Xp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function Xp(e){const r={},s=e.props||!1;if("component"in e)r.default=s;else for(const u in e.components)r[u]=typeof s=="boolean"?s:s[u];return r}function Nf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Yp(e){return e.reduce((r,s)=>bt(r,s.meta),{})}function Of(e,r){const s={};for(const u in e)s[u]=u in r?r[u]:e[u];return s}function bd(e,r){return r.children.some(s=>s===e||bd(e,s))}const Ad=/#/g,jp=/&/g,zp=/\//g,$p=/=/g,Kp=/\?/g,yd=/\+/g,Zp=/%5B/g,qp=/%5D/g,_d=/%5E/g,Qp=/%60/g,Id=/%7B/g,Jp=/%7C/g,Td=/%7D/g,e3=/%20/g;function Ac(e){return encodeURI(""+e).replace(Jp,"|").replace(Zp,"[").replace(qp,"]")}function t3(e){return Ac(e).replace(Id,"{").replace(Td,"}").replace(_d,"^")}function Sl(e){return Ac(e).replace(yd,"%2B").replace(e3,"+").replace(Ad,"%23").replace(jp,"%26").replace(Qp,"`").replace(Id,"{").replace(Td,"}").replace(_d,"^")}function n3(e){return Sl(e).replace($p,"%3D")}function r3(e){return Ac(e).replace(Ad,"%23").replace(Kp,"%3F")}function i3(e){return e==null?"":r3(e).replace(zp,"%2F")}function Ro(e){try{return decodeURIComponent(""+e)}catch(r){}return""+e}function s3(e){const r={};if(e===""||e==="?")return r;const u=(e[0]==="?"?e.slice(1):e).split("&");for(let f=0;f<u.length;++f){const c=u[f].replace(yd," "),g=c.indexOf("="),E=Ro(g<0?c:c.slice(0,g)),x=g<0?null:Ro(c.slice(g+1));if(E in r){let m=r[E];Array.isArray(m)||(m=r[E]=[m]),m.push(x)}else r[E]=x}return r}function Rf(e){let r="";for(let s in e){const u=e[s];if(s=n3(s),u==null){u!==void 0&&(r+=(r.length?"&":"")+s);continue}(Array.isArray(u)?u.map(c=>c&&Sl(c)):[u&&Sl(u)]).forEach(c=>{c!==void 0&&(r+=(r.length?"&":"")+s,c!=null&&(r+="="+c))})}return r}function o3(e){const r={};for(const s in e){const u=e[s];u!==void 0&&(r[s]=Array.isArray(u)?u.map(f=>f==null?null:""+f):u==null?u:""+u)}return r}function cs(){let e=[];function r(u){return e.push(u),()=>{const f=e.indexOf(u);f>-1&&e.splice(f,1)}}function s(){e=[]}return{add:r,list:()=>e,reset:s}}function Fr(e,r,s,u,f){const c=u&&(u.enterCallbacks[f]=u.enterCallbacks[f]||[]);return()=>new Promise((g,E)=>{const x=b=>{b===!1?E(Hi(4,{from:s,to:r})):b instanceof Error?E(b):Rp(b)?E(Hi(2,{from:r,to:b})):(c&&u.enterCallbacks[f]===c&&typeof b=="function"&&c.push(b),g())},m=e.call(u&&u.instances[f],r,s,x);let p=Promise.resolve(m);e.length<3&&(p=p.then(x)),p.catch(b=>E(b))})}function Ya(e,r,s,u){const f=[];for(const c of e)for(const g in c.components){let E=c.components[g];if(!(r!=="beforeRouteEnter"&&!c.instances[g]))if(a3(E)){const m=(E.__vccOpts||E)[r];m&&f.push(Fr(m,s,u,c,g))}else{let x=E();f.push(()=>x.then(m=>{if(!m)return Promise.reject(new Error(`Couldn't resolve component "${g}" at "${c.path}"`));const p=hp(m)?m.default:m;c.components[g]=p;const T=(p.__vccOpts||p)[r];return T&&Fr(T,s,u,c,g)()}))}}return f}function a3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Df(e){const r=mn(aa),s=mn(xd),u=Re(()=>r.resolve(xr(e.to))),f=Re(()=>{const{matched:x}=u.value,{length:m}=x,p=x[m-1],b=s.matched;if(!p||!b.length)return-1;const T=b.findIndex(Vi.bind(null,p));if(T>-1)return T;const S=Mf(x[m-2]);return m>1&&Mf(p)===S&&b[b.length-1].path!==S?b.findIndex(Vi.bind(null,x[m-2])):T}),c=Re(()=>f.value>-1&&f3(s.params,u.value.params)),g=Re(()=>f.value>-1&&f.value===s.matched.length-1&&wd(s.params,u.value.params));function E(x={}){return u3(x)?r[xr(e.replace)?"replace":"push"](xr(e.to)).catch(_s):Promise.resolve()}return{route:u,href:Re(()=>u.value.href),isActive:c,isExactActive:g,navigate:E}}const l3=dt({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Df,setup(e,{slots:r}){const s=an(Df(e)),{options:u}=mn(aa),f=Re(()=>({[Lf(e.activeClass,u.linkActiveClass,"router-link-active")]:s.isActive,[Lf(e.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const c=r.default&&r.default(s);return e.custom?c:Bs("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:f.value},c)}}}),c3=l3;function u3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const r=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return e.preventDefault&&e.preventDefault(),!0}}function f3(e,r){for(const s in r){const u=r[s],f=e[s];if(typeof u=="string"){if(u!==f)return!1}else if(!Array.isArray(f)||f.length!==u.length||u.some((c,g)=>c!==f[g]))return!1}return!0}function Mf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Lf=(e,r,s)=>e!=null?e:r!=null?r:s,d3=dt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:r,slots:s}){const u=mn(Tl),f=Re(()=>e.route||u.value),c=mn(Af,0),g=Re(()=>f.value.matched[c]);wr(Af,c+1),wr(dp,g),wr(Tl,f);const E=Fe();return nt(()=>[E.value,g.value,e.name],([x,m,p],[b,T,S])=>{m&&(m.instances[p]=x,T&&T!==m&&x&&x===b&&(m.leaveGuards.size||(m.leaveGuards=T.leaveGuards),m.updateGuards.size||(m.updateGuards=T.updateGuards))),x&&m&&(!T||!Vi(m,T)||!b)&&(m.enterCallbacks[p]||[]).forEach(F=>F(x))},{flush:"post"}),()=>{const x=f.value,m=g.value,p=m&&m.components[e.name],b=e.name;if(!p)return Pf(s.default,{Component:p,route:x});const T=m.props[e.name],S=T?T===!0?x.params:typeof T=="function"?T(x):T:null,k=Bs(p,bt({},S,r,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(m.instances[b]=null)},ref:E}));return Pf(s.default,{Component:k,route:x})||k}}});function Pf(e,r){if(!e)return null;const s=e(r);return s.length===1?s[0]:s}const h3=d3;function XC(e){const r=Hp(e.routes,e),s=e.parseQuery||s3,u=e.stringifyQuery||Rf,f=e.history,c=cs(),g=cs(),E=cs(),x=E1(Lr);let m=Lr;Oi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Ga.bind(null,V=>""+V),b=Ga.bind(null,i3),T=Ga.bind(null,Ro);function S(V,te){let ue,Ee;return pd(V)?(ue=r.getRecordMatcher(V),Ee=te):Ee=V,r.addRoute(Ee,ue)}function F(V){const te=r.getRecordMatcher(V);te&&r.removeRoute(te)}function k(){return r.getRoutes().map(V=>V.record)}function j(V){return!!r.getRecordMatcher(V)}function M(V,te){if(te=bt({},te||x.value),typeof V=="string"){const He=Xa(s,V,te.path),A=r.resolve({path:He.path},te),y=f.createHref(He.fullPath);return bt(He,A,{params:T(A.params),hash:Ro(He.hash),redirectedFrom:void 0,href:y})}let ue;if("path"in V)ue=bt({},V,{path:Xa(s,V.path,te.path).path});else{const He=bt({},V.params);for(const A in He)He[A]==null&&delete He[A];ue=bt({},V,{params:b(V.params)}),te.params=b(te.params)}const Ee=r.resolve(ue,te),Ve=V.hash||"";Ee.params=p(T(Ee.params));const $e=xp(u,bt({},V,{hash:t3(Ve),path:Ee.path})),Pe=f.createHref($e);return bt({fullPath:$e,hash:Ve,query:u===Rf?o3(V.query):V.query||{}},Ee,{redirectedFrom:void 0,href:Pe})}function B(V){return typeof V=="string"?Xa(s,V,x.value.path):bt({},V)}function L(V,te){if(m!==V)return Hi(8,{from:te,to:V})}function D(V){return P(V)}function G(V){return D(bt(B(V),{replace:!0}))}function W(V){const te=V.matched[V.matched.length-1];if(te&&te.redirect){const{redirect:ue}=te;let Ee=typeof ue=="function"?ue(V):ue;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=B(Ee):{path:Ee},Ee.params={}),bt({query:V.query,hash:V.hash,params:V.params},Ee)}}function P(V,te){const ue=m=M(V),Ee=x.value,Ve=V.state,$e=V.force,Pe=V.replace===!0,He=W(ue);if(He)return P(bt(B(He),{state:Ve,force:$e,replace:Pe}),te||ue);const A=ue;A.redirectedFrom=te;let y;return!$e&&wp(u,Ee,ue)&&(y=Hi(16,{to:A,from:Ee}),we(Ee,Ee,!0,!1)),(y?Promise.resolve(y):$(A,Ee)).catch(O=>Pr(O)?Pr(O,2)?O:Q(O):fe(O,A,Ee)).then(O=>{if(O){if(Pr(O,2))return P(bt(B(O.to),{state:Ve,force:$e,replace:Pe}),te||A)}else O=Ae(A,Ee,!0,Pe,Ve);return ge(A,Ee,O),O})}function ce(V,te){const ue=L(V,te);return ue?Promise.reject(ue):Promise.resolve()}function $(V,te){let ue;const[Ee,Ve,$e]=g3(V,te);ue=Ya(Ee.reverse(),"beforeRouteLeave",V,te);for(const He of Ee)He.leaveGuards.forEach(A=>{ue.push(Fr(A,V,te))});const Pe=ce.bind(null,V,te);return ue.push(Pe),Ti(ue).then(()=>{ue=[];for(const He of c.list())ue.push(Fr(He,V,te));return ue.push(Pe),Ti(ue)}).then(()=>{ue=Ya(Ve,"beforeRouteUpdate",V,te);for(const He of Ve)He.updateGuards.forEach(A=>{ue.push(Fr(A,V,te))});return ue.push(Pe),Ti(ue)}).then(()=>{ue=[];for(const He of V.matched)if(He.beforeEnter&&!te.matched.includes(He))if(Array.isArray(He.beforeEnter))for(const A of He.beforeEnter)ue.push(Fr(A,V,te));else ue.push(Fr(He.beforeEnter,V,te));return ue.push(Pe),Ti(ue)}).then(()=>(V.matched.forEach(He=>He.enterCallbacks={}),ue=Ya($e,"beforeRouteEnter",V,te),ue.push(Pe),Ti(ue))).then(()=>{ue=[];for(const He of g.list())ue.push(Fr(He,V,te));return ue.push(Pe),Ti(ue)}).catch(He=>Pr(He,8)?He:Promise.reject(He))}function ge(V,te,ue){for(const Ee of E.list())Ee(V,te,ue)}function Ae(V,te,ue,Ee,Ve){const $e=L(V,te);if($e)return $e;const Pe=te===Lr,He=Oi?history.state:{};ue&&(Ee||Pe?f.replace(V.fullPath,bt({scroll:Pe&&He&&He.scroll},Ve)):f.push(V.fullPath,Ve)),x.value=V,we(V,te,ue,Pe),Q()}let z;function le(){z=f.listen((V,te,ue)=>{const Ee=M(V),Ve=W(Ee);if(Ve){P(bt(Ve,{replace:!0}),Ee).catch(_s);return}m=Ee;const $e=x.value;Oi&&Ip(If($e.fullPath,ue.delta),la()),$(Ee,$e).catch(Pe=>Pr(Pe,12)?Pe:Pr(Pe,2)?(P(Pe.to,Ee).then(He=>{Pr(He,20)&&!ue.delta&&ue.type===Ls.pop&&f.go(-1,!1)}).catch(_s),Promise.reject()):(ue.delta&&f.go(-ue.delta,!1),fe(Pe,Ee,$e))).then(Pe=>{Pe=Pe||Ae(Ee,$e,!1),Pe&&(ue.delta?f.go(-ue.delta,!1):ue.type===Ls.pop&&Pr(Pe,20)&&f.go(-1,!1)),ge(Ee,$e,Pe)}).catch(_s)})}let be=cs(),U=cs(),de;function fe(V,te,ue){Q(V);const Ee=U.list();return Ee.length&&Ee.forEach(Ve=>Ve(V,te,ue)),Promise.reject(V)}function Se(){return de&&x.value!==Lr?Promise.resolve():new Promise((V,te)=>{be.add([V,te])})}function Q(V){return de||(de=!V,le(),be.list().forEach(([te,ue])=>V?ue(V):te()),be.reset()),V}function we(V,te,ue,Ee){const{scrollBehavior:Ve}=e;if(!Oi||!Ve)return Promise.resolve();const $e=!ue&&Tp(If(V.fullPath,0))||(Ee||!ue)&&history.state&&history.state.scroll||null;return Jt().then(()=>Ve(V,te,$e)).then(Pe=>Pe&&_p(Pe)).catch(Pe=>fe(Pe,V,te))}const Te=V=>f.go(V);let ae;const me=new Set;return{currentRoute:x,addRoute:S,removeRoute:F,hasRoute:j,getRoutes:k,resolve:M,options:e,push:D,replace:G,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:c.add,beforeResolve:g.add,afterEach:E.add,onError:U.add,isReady:Se,install(V){const te=this;V.component("RouterLink",c3),V.component("RouterView",h3),V.config.globalProperties.$router=te,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>xr(x)}),Oi&&!ae&&x.value===Lr&&(ae=!0,D(f.location).catch(Ve=>{}));const ue={};for(const Ve in Lr)ue[Ve]=Re(()=>x.value[Ve]);V.provide(aa,te),V.provide(xd,an(ue)),V.provide(Tl,x);const Ee=V.unmount;me.add(V),V.unmount=function(){me.delete(V),me.size<1&&(m=Lr,z&&z(),x.value=Lr,ae=!1,de=!1),Ee()}}}}function Ti(e){return e.reduce((r,s)=>r.then(()=>s()),Promise.resolve())}function g3(e,r){const s=[],u=[],f=[],c=Math.max(r.matched.length,e.matched.length);for(let g=0;g<c;g++){const E=r.matched[g];E&&(e.matched.find(m=>Vi(m,E))?u.push(E):s.push(E));const x=e.matched[g];x&&(r.matched.find(m=>Vi(m,x))||f.push(x))}return[s,u,f]}function YC(){return mn(aa)}/*! js-cookie v3.0.1 | MIT */function uo(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)e[u]=s[u]}return e}var m3={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Nl(e,r){function s(f,c,g){if(typeof document!="undefined"){g=uo({},r,g),typeof g.expires=="number"&&(g.expires=new Date(Date.now()+g.expires*864e5)),g.expires&&(g.expires=g.expires.toUTCString()),f=encodeURIComponent(f).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var E="";for(var x in g)g[x]&&(E+="; "+x,g[x]!==!0&&(E+="="+g[x].split(";")[0]));return document.cookie=f+"="+e.write(c,f)+E}}function u(f){if(!(typeof document=="undefined"||arguments.length&&!f)){for(var c=document.cookie?document.cookie.split("; "):[],g={},E=0;E<c.length;E++){var x=c[E].split("="),m=x.slice(1).join("=");try{var p=decodeURIComponent(x[0]);if(g[p]=e.read(m,p),f===p)break}catch(b){}}return f?g[f]:g}}return Object.create({set:s,get:u,remove:function(f,c){s(f,"",uo({},c,{expires:-1}))},withAttributes:function(f){return Nl(this.converter,uo({},this.attributes,f))},withConverter:function(f){return Nl(uo({},this.converter,f),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}var jC=Nl(m3,{path:"/"});var x3=typeof global=="object"&&global&&global.Object===Object&&global;const w3=x3;var E3=typeof self=="object"&&self&&self.Object===Object&&self,p3=w3||E3||Function("return this")();const vd=p3;var C3=vd.Symbol;const Do=C3;var Sd=Object.prototype,b3=Sd.hasOwnProperty,A3=Sd.toString,us=Do?Do.toStringTag:void 0;function y3(e){var r=b3.call(e,us),s=e[us];try{e[us]=void 0;var u=!0}catch(c){}var f=A3.call(e);return u&&(r?e[us]=s:delete e[us]),f}var _3=Object.prototype,I3=_3.toString;function T3(e){return I3.call(e)}var v3="[object Null]",S3="[object Undefined]",Bf=Do?Do.toStringTag:void 0;function N3(e){return e==null?e===void 0?S3:v3:Bf&&Bf in Object(e)?y3(e):T3(e)}function O3(e){return e!=null&&typeof e=="object"}var R3="[object Symbol]";function D3(e){return typeof e=="symbol"||O3(e)&&N3(e)==R3}var M3=/\s/;function L3(e){for(var r=e.length;r--&&M3.test(e.charAt(r)););return r}var P3=/^\s+/;function B3(e){return e&&e.slice(0,L3(e)+1).replace(P3,"")}function Mo(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var kf=0/0,k3=/^[-+]0x[0-9a-f]+$/i,F3=/^0b[01]+$/i,U3=/^0o[0-7]+$/i,V3=parseInt;function Ff(e){if(typeof e=="number")return e;if(D3(e))return kf;if(Mo(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Mo(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=B3(e);var s=F3.test(e);return s||U3.test(e)?V3(e.slice(2),s?2:8):k3.test(e)?kf:+e}var H3=function(){return vd.Date.now()};const ja=H3;var W3="Expected a function",G3=Math.max,X3=Math.min;function Y3(e,r,s){var u,f,c,g,E,x,m=0,p=!1,b=!1,T=!0;if(typeof e!="function")throw new TypeError(W3);r=Ff(r)||0,Mo(s)&&(p=!!s.leading,b="maxWait"in s,c=b?G3(Ff(s.maxWait)||0,r):c,T="trailing"in s?!!s.trailing:T);function S(W){var P=u,ce=f;return u=f=void 0,m=W,g=e.apply(ce,P),g}function F(W){return m=W,E=setTimeout(M,r),p?S(W):g}function k(W){var P=W-x,ce=W-m,$=r-P;return b?X3($,c-ce):$}function j(W){var P=W-x,ce=W-m;return x===void 0||P>=r||P<0||b&&ce>=c}function M(){var W=ja();if(j(W))return B(W);E=setTimeout(M,k(W))}function B(W){return E=void 0,T&&u?S(W):(u=f=void 0,g)}function L(){E!==void 0&&clearTimeout(E),m=0,u=x=f=E=void 0}function D(){return E===void 0?g:B(ja())}function G(){var W=ja(),P=j(W);if(u=arguments,f=this,x=W,P){if(E===void 0)return F(x);if(b)return clearTimeout(E),E=setTimeout(M,r),S(x)}return E===void 0&&(E=setTimeout(M,r)),g}return G.cancel=L,G.flush=D,G}var j3="Expected a function";function zC(e,r,s){var u=!0,f=!0;if(typeof e!="function")throw new TypeError(j3);return Mo(s)&&(u="leading"in s?!!s.leading:u,f="trailing"in s?!!s.trailing:f),Y3(e,r,{leading:u,maxWait:r,trailing:f})}var Me;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Me||(Me={}));var Uf=new Map([[Me.QR_CODE,"QR_CODE"],[Me.AZTEC,"AZTEC"],[Me.CODABAR,"CODABAR"],[Me.CODE_39,"CODE_39"],[Me.CODE_93,"CODE_93"],[Me.CODE_128,"CODE_128"],[Me.DATA_MATRIX,"DATA_MATRIX"],[Me.MAXICODE,"MAXICODE"],[Me.ITF,"ITF"],[Me.EAN_13,"EAN_13"],[Me.EAN_8,"EAN_8"],[Me.PDF_417,"PDF_417"],[Me.RSS_14,"RSS_14"],[Me.RSS_EXPANDED,"RSS_EXPANDED"],[Me.UPC_A,"UPC_A"],[Me.UPC_E,"UPC_E"],[Me.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Vf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Vf||(Vf={}));function z3(e){return Object.values(Me).includes(e)}var Lo;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Lo||(Lo={}));var $3=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Lo.SCAN_TYPE_CAMERA,Lo.SCAN_TYPE_FILE],e}(),Nd=function(){function e(r,s){this.format=r,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(r){if(!Uf.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new e(r,Uf.get(r))},e}(),Hf=function(){function e(){}return e.createFromText=function(r){var s={text:r};return{decodedText:r,result:s}},e.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},e}(),Ol;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ol||(Ol={}));var K3=function(){function e(){}return e.createFrom=function(r){return{errorMessage:r,type:Ol.UNKWOWN_ERROR}},e}(),Z3=function(){function e(r){this.verbose=r}return e.prototype.log=function(r){this.verbose},e.prototype.warn=function(r){this.verbose},e.prototype.logError=function(r,s){this.verbose},e.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose},e}();function hr(e){return typeof e=="undefined"||e===null}var Mi=function(){function e(){}return e.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},e.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Od=function(){function e(){}return e.isMediaStreamConstraintsValid=function(r,s){if(typeof r!="object"){var u=typeof r;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(u,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(f),g=Object.keys(r),E=0,x=g;E<x.length;E++){var m=x[E];if(c.has(m))return s.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),fs=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function q3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rl={exports:{}};(function(e,r){(function(s,u){u(r)})(fs,function(s){function u(_){return _==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,t){_.__proto__=t}||function(_,t){for(var n in t)t.hasOwnProperty(n)&&(_[n]=t[n])};function c(_,t){f(_,t);function n(){this.constructor=_}_.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function g(_,t){var n=Object.setPrototypeOf;n?n(_,t):_.__proto__=t}function E(_,t){t===void 0&&(t=_.constructor);var n=Error.captureStackTrace;n&&n(_,t)}var x=function(_){c(t,_);function t(n){var i=this.constructor,o=_.call(this,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),g(o,i.prototype),E(o),o}return t}(Error);class m extends x{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}m.kind="Exception";class p extends m{}p.kind="ArgumentException";class b extends m{}b.kind="IllegalArgumentException";class T{constructor(t){if(this.binarizer=t,t===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,n){return this.binarizer.getBlackRow(t,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,n,i,o){const a=this.binarizer.getLuminanceSource().crop(t,n,i,o);return new T(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch(t){return""}}}class S extends m{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class F{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(t,n,i,o,a){for(;a--;)i[o++]=t[n++]}static currentTimeMillis(){return Date.now()}}class j extends m{}j.kind="IndexOutOfBoundsException";class M extends j{constructor(t=void 0,n=void 0){super(n),this.index=t,this.message=n}}M.kind="ArrayIndexOutOfBoundsException";class B{static fill(t,n){for(let i=0,o=t.length;i<o;i++)t[i]=n}static fillWithin(t,n,i,o){B.rangeCheck(t.length,n,i);for(let a=n;a<i;a++)t[a]=o}static rangeCheck(t,n,i){if(n>i)throw new b("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new M(n);if(i>t)throw new M(i)}static asList(...t){return t}static create(t,n,i){return Array.from({length:t}).map(a=>Array.from({length:n}).fill(i))}static createInt32Array(t,n,i){return Array.from({length:t}).map(a=>Int32Array.from({length:n}).fill(i))}static equals(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==n[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let n=1;for(const i of t)n=31*n+i;return n}static fillUint8Array(t,n){for(let i=0;i!==t.length;i++)t[i]=n}static copyOf(t,n){return t.slice(0,n)}static copyOfUint8Array(t,n){if(t.length<=n){const i=new Uint8Array(n);return i.set(t),i}return t.slice(0,n)}static copyOfRange(t,n,i){const o=i-n,a=new Int32Array(o);return k.arraycopy(t,n,a,0,o),a}static binarySearch(t,n,i){i===void 0&&(i=B.numberComparator);let o=0,a=t.length-1;for(;o<=a;){const l=a+o>>1,d=i(n,t[l]);if(d>0)o=l+1;else if(d<0)a=l-1;else return l}return-o-1}static numberComparator(t,n){return t-n}}class L{static numberOfTrailingZeros(t){let n;if(t===0)return 32;let i=31;return n=t<<16,n!==0&&(i-=16,t=n),n=t<<8,n!==0&&(i-=8,t=n),n=t<<4,n!==0&&(i-=4,t=n),n=t<<2,n!==0&&(i-=2,t=n),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,n){return Math.trunc(t/n)}static parseInt(t,n=void 0){return parseInt(t,n)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=D.makeArray(t):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const n=D.makeArray(t);k.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const n=this.size;if(t>=n)return n;const i=this.bits;let o=Math.floor(t/32),a=i[o];a&=~((1<<(t&31))-1);const l=i.length;for(;a===0;){if(++o===l)return n;a=i[o]}const d=o*32+L.numberOfTrailingZeros(a);return d>n?n:d}getNextUnset(t){const n=this.size;if(t>=n)return n;const i=this.bits;let o=Math.floor(t/32),a=~i[o];a&=~((1<<(t&31))-1);const l=i.length;for(;a===0;){if(++o===l)return n;a=~i[o]}const d=o*32+L.numberOfTrailingZeros(a);return d>n?n:d}setBulk(t,n){this.bits[Math.floor(t/32)]=n}setRange(t,n){if(n<t||t<0||n>this.size)throw new b;if(n===t)return;n--;const i=Math.floor(t/32),o=Math.floor(n/32),a=this.bits;for(let l=i;l<=o;l++){const d=l>i?0:t&31,w=(2<<(l<o?31:n&31))-(1<<d);a[l]|=w}}clear(){const t=this.bits.length,n=this.bits;for(let i=0;i<t;i++)n[i]=0}isRange(t,n,i){if(n<t||t<0||n>this.size)throw new b;if(n===t)return!0;n--;const o=Math.floor(t/32),a=Math.floor(n/32),l=this.bits;for(let d=o;d<=a;d++){const h=d>o?0:t&31,C=(2<<(d<a?31:n&31))-(1<<h)&4294967295;if((l[d]&C)!==(i?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,n){if(n<0||n>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const n=t.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new b("Sizes don't match");const n=this.bits;for(let i=0,o=n.length;i<o;i++)n[i]^=t.bits[i]}toBytes(t,n,i,o){for(let a=0;a<o;a++){let l=0;for(let d=0;d<8;d++)this.get(t)&&(l|=1<<7-d),t++;n[i+a]=l}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,o=this.bits;for(let a=0;a<i;a++){let l=o[a];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,t[n-a]=l}if(this.size!==i*32){const a=i*32-this.size;let l=t[0]>>>a;for(let d=1;d<i;d++){const h=t[d];l|=h<<32-a,t[d-1]=l,l=h>>>a}t[i-1]=l}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof D))return!1;const n=t;return this.size===n.size&&B.equals(this.bits,n.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let t="";for(let n=0,i=this.size;n<i;n++)n&7||(t+=" "),t+=this.get(n)?"X":".";return t}clone(){return new D(this.size,this.bits.slice())}}var G;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(G||(G={}));var W=G;class P extends m{static getFormatInstance(){return new P}}P.kind="FormatException";var ce;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(ce||(ce={}));class ${constructor(t,n,i,...o){this.valueIdentifier=t,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,$.VALUE_IDENTIFIER_TO_ECI.set(t,this),$.NAME_TO_ECI.set(i,this);const a=this.values;for(let l=0,d=a.length;l!==d;l++){const h=a[l];$.VALUES_TO_ECI.set(h,this)}for(const l of o)$.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new P("incorect value");const n=$.VALUES_TO_ECI.get(t);if(n===void 0)throw new P("incorect value");return n}static getCharacterSetECIByName(t){const n=$.NAME_TO_ECI.get(t);if(n===void 0)throw new P("incorect value");return n}equals(t){if(!(t instanceof $))return!1;const n=t;return this.getName()===n.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(ce.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(ce.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(ce.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(ce.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(ce.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(ce.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(ce.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(ce.Big5,28,"Big5"),$.GB18030=new $(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(ce.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends m{}ge.kind="UnsupportedOperationException";class Ae{static decode(t,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!Ae.isBrowser()&&t==="ISO-8859-1"}static encode(t,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder=="undefined"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof $?t:$.getCharacterSetECIByName(t)}static decodeFallback(t,n){const i=this.encodingCharacterSet(n);if(Ae.isDecodeFallbackSupported(i)){let o="";for(let a=0,l=t.length;a<l;a++){let d=t[a].toString(16);d.length<2&&(d="0"+d),o+="%"+d}return decodeURIComponent(o)}if(i.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ge(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals($.UTF8)||t.equals($.ISO8859_1)||t.equals($.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let a=0;a<i.length;a++)o.push(i[a].charCodeAt(0));return new Uint8Array(o)}}class z{static castAsNonUtf8Char(t,n=null){const i=n?n.getName():this.ISO88591;return Ae.decode(new Uint8Array([t]),i)}static guessEncoding(t,n){if(n!=null&&n.get(W.CHARACTER_SET)!==void 0)return n.get(W.CHARACTER_SET).toString();const i=t.length;let o=!0,a=!0,l=!0,d=0,h=0,w=0,C=0,I=0,v=0,R=0,H=0,Y=0,Z=0,ie=0;const ye=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let _e=0;_e<i&&(o||a||l);_e++){const Ce=t[_e]&255;l&&(d>0?Ce&128?d--:l=!1:Ce&128&&(Ce&64?(d++,Ce&32?(d++,Ce&16?(d++,Ce&8?l=!1:C++):w++):h++):l=!1)),o&&(Ce>127&&Ce<160?o=!1:Ce>159&&(Ce<192||Ce===215||Ce===247)&&ie++),a&&(I>0?Ce<64||Ce===127||Ce>252?a=!1:I--:Ce===128||Ce===160||Ce>239?a=!1:Ce>160&&Ce<224?(v++,H=0,R++,R>Y&&(Y=R)):Ce>127?(I++,R=0,H++,H>Z&&(Z=H)):(R=0,H=0))}return l&&d>0&&(l=!1),a&&I>0&&(a=!1),l&&(ye||h+w+C>0)?z.UTF8:a&&(z.ASSUME_SHIFT_JIS||Y>=3||Z>=3)?z.SHIFT_JIS:o&&a?Y===2&&v===2||ie*10>=i?z.SHIFT_JIS:z.ISO88591:o?z.ISO88591:a?z.SHIFT_JIS:l?z.UTF8:z.PLATFORM_DEFAULT_ENCODING}static format(t,...n){let i=-1;function o(l,d,h,w,C,I){if(l==="%%")return"%";if(n[++i]===void 0)return;l=w?parseInt(w.substr(1)):void 0;let v=C?parseInt(C.substr(1)):void 0,R;switch(I){case"s":R=n[i];break;case"c":R=n[i][0];break;case"f":R=parseFloat(n[i]).toFixed(l);break;case"p":R=parseFloat(n[i]).toPrecision(l);break;case"e":R=parseFloat(n[i]).toExponential(l);break;case"x":R=parseInt(n[i]).toString(v||16);break;case"d":R=parseFloat(parseInt(n[i],v||10).toPrecision(l)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(v);let H=parseInt(h),Y=h&&h[0]+""=="0"?"0":" ";for(;R.length<H;)R=d!==void 0?R+Y:Y+R;return R}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(a,o)}static getBytes(t,n){return Ae.encode(t,n)}static getCharCode(t,n=0){return t.charCodeAt(n)}static getCharAt(t){return String.fromCharCode(t)}}z.SHIFT_JIS=$.SJIS.getName(),z.GB2312="GB2312",z.ISO88591=$.ISO8859_1.getName(),z.EUC_JP="EUC_JP",z.UTF8=$.UTF8.getName(),z.PLATFORM_DEFAULT_ENCODING=z.UTF8,z.ASSUME_SHIFT_JIS=!1;class le{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=z.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,n,i){for(let o=n;n<n+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)}substring(t,n){return this.value.substring(t,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+n.length)}}class be{constructor(t,n,i,o){if(this.width=t,this.height=n,this.rowSize=i,this.bits=o,n==null&&(n=t),this.height=n,t<1||n<1)throw new b("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const n=t.length,i=t[0].length,o=new be(i,n);for(let a=0;a<n;a++){const l=t[a];for(let d=0;d<i;d++)l[d]&&o.set(d,a)}return o}static parseFromString(t,n,i){if(t===null)throw new b("stringRepresentation cannot be null");const o=new Array(t.length);let a=0,l=0,d=-1,h=0,w=0;for(;w<t.length;)if(t.charAt(w)===`
`||t.charAt(w)==="\r"){if(a>l){if(d===-1)d=a-l;else if(a-l!==d)throw new b("row lengths do not match");l=a,h++}w++}else if(t.substring(w,w+n.length)===n)w+=n.length,o[a]=!0,a++;else if(t.substring(w,w+i.length)===i)w+=i.length,o[a]=!1,a++;else throw new b("illegal character encountered: "+t.substring(w));if(a>l){if(d===-1)d=a-l;else if(a-l!==d)throw new b("row lengths do not match");h++}const C=new be(d,h);for(let I=0;I<a;I++)o[I]&&C.set(Math.floor(I%d),Math.floor(I/d));return C}get(t,n){const i=n*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,n){const i=n*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,n){const i=n*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,n){const i=n*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new b("input matrix dimensions do not match");const n=new D(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let a=0,l=this.height;a<l;a++){const d=a*i,h=t.getRow(a,n).getBitArray();for(let w=0;w<i;w++)o[d+w]^=h[w]}}clear(){const t=this.bits,n=t.length;for(let i=0;i<n;i++)t[i]=0}setRegion(t,n,i,o){if(n<0||t<0)throw new b("Left and top must be nonnegative");if(o<1||i<1)throw new b("Height and width must be at least 1");const a=t+i,l=n+o;if(l>this.height||a>this.width)throw new b("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let w=n;w<l;w++){const C=w*d;for(let I=t;I<a;I++)h[C+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(t,n){n==null||n.getSize()<this.width?n=new D(this.width):n.clear();const i=this.rowSize,o=this.bits,a=t*i;for(let l=0;l<i;l++)n.setBulk(l*32,o[a+l]);return n}setRow(t,n){k.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),n=this.getHeight();let i=new D(t),o=new D(t);for(let a=0,l=Math.floor((n+1)/2);a<l;a++)i=this.getRow(a,i),o=this.getRow(n-1-a,o),i.reverse(),o.reverse(),this.setRow(a,o),this.setRow(n-1-a,i)}getEnclosingRectangle(){const t=this.width,n=this.height,i=this.rowSize,o=this.bits;let a=t,l=n,d=-1,h=-1;for(let w=0;w<n;w++)for(let C=0;C<i;C++){const I=o[w*i+C];if(I!==0){if(w<l&&(l=w),w>h&&(h=w),C*32<a){let v=0;for(;!(I<<31-v&4294967295);)v++;C*32+v<a&&(a=C*32+v)}if(C*32+31>d){let v=31;for(;!(I>>>v);)v--;C*32+v>d&&(d=C*32+v)}}}return d<a||h<l?null:Int32Array.from([a,l,d-a+1,h-l+1])}getTopLeftOnBit(){const t=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const o=i/t;let a=i%t*32;const l=n[i];let d=0;for(;!(l<<31-d&4294967295);)d++;return a+=d,Int32Array.from([a,o])}getBottomRightOnBit(){const t=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let a=Math.floor(i%t)*32;const l=n[i];let d=31;for(;!(l>>>d);)d--;return a+=d,Int32Array.from([a,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof be))return!1;const n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&B.equals(this.bits,n.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+B.hashCode(this.bits),t}toString(t="X ",n="  ",i=`
`){return this.buildToString(t,n,i)}buildToString(t,n,i){let o=new le;for(let a=0,l=this.height;a<l;a++){for(let d=0,h=this.width;d<h;d++)o.append(this.get(d,a)?t:n);o.append(i)}return o.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class U extends m{static getNotFoundInstance(){return new U}}U.kind="NotFoundException";class de extends F{constructor(t){super(t),this.luminances=de.EMPTY,this.buckets=new Int32Array(de.LUMINANCE_BUCKETS)}getBlackRow(t,n){const i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new D(o):n.clear(),this.initArrays(o);const a=i.getRow(t,this.luminances),l=this.buckets;for(let h=0;h<o;h++)l[(a[h]&255)>>de.LUMINANCE_SHIFT]++;const d=de.estimateBlackPoint(l);if(o<3)for(let h=0;h<o;h++)(a[h]&255)<d&&n.set(h);else{let h=a[0]&255,w=a[1]&255;for(let C=1;C<o-1;C++){const I=a[C+1]&255;(w*4-h-I)/2<d&&n.set(C),h=w,w=I}}return n}getBlackMatrix(){const t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),o=new be(n,i);this.initArrays(n);const a=this.buckets;for(let h=1;h<5;h++){const w=Math.floor(i*h/5),C=t.getRow(w,this.luminances),I=Math.floor(n*4/5);for(let v=Math.floor(n/5);v<I;v++){const R=C[v]&255;a[R>>de.LUMINANCE_SHIFT]++}}const l=de.estimateBlackPoint(a),d=t.getMatrix();for(let h=0;h<i;h++){const w=h*n;for(let C=0;C<n;C++)(d[w+C]&255)<l&&o.set(C,h)}return o}createBinarizer(t){return new de(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const n=this.buckets;for(let i=0;i<de.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(t){const n=t.length;let i=0,o=0,a=0;for(let C=0;C<n;C++)t[C]>a&&(o=C,a=t[C]),t[C]>i&&(i=t[C]);let l=0,d=0;for(let C=0;C<n;C++){const I=C-o,v=t[C]*I*I;v>d&&(l=C,d=v)}if(o>l){const C=o;o=l,l=C}if(l-o<=n/16)throw new U;let h=l-1,w=-1;for(let C=l-1;C>o;C--){const I=C-o,v=I*I*(l-C)*(i-t[C]);v>w&&(h=C,w=v)}return h<<de.LUMINANCE_SHIFT}}de.LUMINANCE_BITS=5,de.LUMINANCE_SHIFT=8-de.LUMINANCE_BITS,de.LUMINANCE_BUCKETS=1<<de.LUMINANCE_BITS,de.EMPTY=Uint8ClampedArray.from([0]);class fe extends de{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=fe.MINIMUM_DIMENSION&&i>=fe.MINIMUM_DIMENSION){const o=t.getMatrix();let a=n>>fe.BLOCK_SIZE_POWER;n&fe.BLOCK_SIZE_MASK&&a++;let l=i>>fe.BLOCK_SIZE_POWER;i&fe.BLOCK_SIZE_MASK&&l++;const d=fe.calculateBlackPoints(o,a,l,n,i),h=new be(n,i);fe.calculateThresholdForBlock(o,a,l,n,i,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new fe(t)}static calculateThresholdForBlock(t,n,i,o,a,l,d){const h=a-fe.BLOCK_SIZE,w=o-fe.BLOCK_SIZE;for(let C=0;C<i;C++){let I=C<<fe.BLOCK_SIZE_POWER;I>h&&(I=h);const v=fe.cap(C,2,i-3);for(let R=0;R<n;R++){let H=R<<fe.BLOCK_SIZE_POWER;H>w&&(H=w);const Y=fe.cap(R,2,n-3);let Z=0;for(let ye=-2;ye<=2;ye++){const _e=l[v+ye];Z+=_e[Y-2]+_e[Y-1]+_e[Y]+_e[Y+1]+_e[Y+2]}const ie=Z/25;fe.thresholdBlock(t,H,I,ie,o,d)}}}static cap(t,n,i){return t<n?n:t>i?i:t}static thresholdBlock(t,n,i,o,a,l){for(let d=0,h=i*a+n;d<fe.BLOCK_SIZE;d++,h+=a)for(let w=0;w<fe.BLOCK_SIZE;w++)(t[h+w]&255)<=o&&l.set(n+w,i+d)}static calculateBlackPoints(t,n,i,o,a){const l=a-fe.BLOCK_SIZE,d=o-fe.BLOCK_SIZE,h=new Array(i);for(let w=0;w<i;w++){h[w]=new Int32Array(n);let C=w<<fe.BLOCK_SIZE_POWER;C>l&&(C=l);for(let I=0;I<n;I++){let v=I<<fe.BLOCK_SIZE_POWER;v>d&&(v=d);let R=0,H=255,Y=0;for(let ie=0,ye=C*o+v;ie<fe.BLOCK_SIZE;ie++,ye+=o){for(let _e=0;_e<fe.BLOCK_SIZE;_e++){const Ce=t[ye+_e]&255;R+=Ce,Ce<H&&(H=Ce),Ce>Y&&(Y=Ce)}if(Y-H>fe.MIN_DYNAMIC_RANGE)for(ie++,ye+=o;ie<fe.BLOCK_SIZE;ie++,ye+=o)for(let _e=0;_e<fe.BLOCK_SIZE;_e++)R+=t[ye+_e]&255}let Z=R>>fe.BLOCK_SIZE_POWER*2;if(Y-H<=fe.MIN_DYNAMIC_RANGE&&(Z=H/2,w>0&&I>0)){const ie=(h[w-1][I]+2*h[w][I-1]+h[w-1][I-1])/4;H<ie&&(Z=ie)}h[w][I]=Z}}return h}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class Se{constructor(t,n){this.width=t,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,n,i,o){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let n=new le;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let a=0;a<this.width;a++){const l=o[a]&255;let d;l<64?d="#":l<128?d="+":l<192?d=".":d=" ",n.append(d)}n.append(`
`)}return n.toString()}}class Q extends Se{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,n){const i=this.delegate.getRow(t,n),o=this.getWidth();for(let a=0;a<o;a++)i[a]=255-(i[a]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let o=0;o<n;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,n,i,o){return new Q(this.delegate.crop(t,n,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Q(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Q(this.delegate.rotateCounterClockwise45())}}class we extends Se{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const n=t.getContext("2d").getImageData(0,0,t.width,t.height);return we.toGrayscaleBuffer(n.data,t.width,t.height)}static toGrayscaleBuffer(t,n,i){const o=new Uint8ClampedArray(n*i);for(let a=0,l=0,d=t.length;a<d;a+=4,l++){let h;if(t[a+3]===0)h=255;else{const C=t[a],I=t[a+1],v=t[a+2];h=306*C+601*I+117*v+512>>10}o[l]=h}return o}getRow(t,n){if(t<0||t>=this.getHeight())throw new b("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,n,i,o){return super.crop(t,n,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const n=this.getTempCanvasElement(),i=n.getContext("2d"),o=t*we.DEGREE_TO_RADIANS,a=this.canvas.width,l=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*l),h=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*l);return n.width=d,n.height=h,i.translate(d/2,h/2),i.rotate(o),i.drawImage(this.canvas,a/-2,l/-2),this.buffer=we.makeBufferFromCanvasImageData(n),this}invert(){return new Q(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class Te{constructor(t,n,i){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ae=(globalThis||fs||self||window||void 0)&&(globalThis||fs||self||window||void 0).__awaiter||function(_,t,n,i){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(C){try{w(i.next(C))}catch(I){l(I)}}function h(C){try{w(i.throw(C))}catch(I){l(I)}}function w(C){C.done?a(C.value):o(C.value).then(d,h)}w((i=i.apply(_,t||[])).next())})};class me{constructor(t,n=500,i){this.reader=t,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const a=i.deviceId||i.id,l=i.label||`Video device ${n.length+1}`,d=i.groupId,h={deviceId:a,label:l,kind:o,groupId:d};n.push(h)}return n})}getVideoInputDevices(){return ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new Te(n.deviceId,n.label))})}findDeviceById(t){return ae(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,n){return ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,n)})}decodeOnceFromVideoDevice(t,n){return ae(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,n)})}decodeOnceFromConstraints(t,n){return ae(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(t,n){return ae(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,n,i){return ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,n,i)})}decodeFromVideoDevice(t,n,i){return ae(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeFromConstraints(a,n,i)})}decodeFromConstraints(t,n,i){return ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,n,i)})}decodeFromStream(t,n,i){return ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,n);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,n){return ae(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((n,i)=>this.playVideoOnLoad(t,()=>n()))}playVideoOnLoad(t,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ae(this,void 0,void 0,function*(){if(!this.isVideoPlaying(t))try{yield t.play()}catch(n){}})}getMediaElement(t,n){const i=document.getElementById(t);if(!i)throw new p(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new p(`element with id '${t}' must be an ${n} element`);return i}decodeFromImage(t,n){if(!t&&!n)throw new p("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)}decodeFromVideo(t,n){if(!t&&!n)throw new p("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,n,i){if(t===void 0&&n===void 0)throw new p("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new p("An image element must be provided.");this.reset();const n=this.prepareImageElement(t);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(t){const n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(t,n){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(t){if(!t)throw new p("A video element must be provided.");this.reset();const n=this.prepareVideoElement(t);return this.videoElement=n,n}decodeFromImageUrl(t){if(!t)throw new p("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=t,i}decodeFromVideoUrl(t){if(!t)throw new p("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=t,i}decodeFromVideoUrlContinuously(t,n){if(!t)throw new p("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,n);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(n,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,n){return ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,n)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let n;return typeof t=="undefined"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n}prepareVideoElement(t){let n;return!t&&typeof document!="undefined"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(t,n=!0,i=!0){this._stopAsyncDecode=!1;const o=(a,l)=>{if(this._stopAsyncDecode){l(new U("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);a(d)}catch(d){const h=n&&d instanceof U,C=(d instanceof S||d instanceof P)&&i;if(h||C)return setTimeout(o,this._timeBetweenDecodingAttempts,a,l);l(d)}};return new Promise((a,l)=>o(a,l))}decodeContinuously(t,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);n(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){n(null,o);const a=o instanceof S||o instanceof P,l=o instanceof U;(a||l)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const n=this.createBinaryBitmap(t);return this.decodeBitmap(n)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,n,i){n||(n={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(t,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const n=this.getCaptureCanvas(t),i=new we(n),o=new fe(i);return new T(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,o;return typeof t!="undefined"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,n){try{t.srcObject=n}catch(i){t.src=URL.createObjectURL(n)}}cleanVideoSource(t){try{t.srcObject=null}catch(n){t.src=""}this.videoElement.removeAttribute("src")}}class Le{constructor(t,n,i=n==null?0:8*n.length,o,a,l=k.currentTimeMillis()){this.text=t,this.rawBytes=n,this.numBits=i,this.resultPoints=o,this.format=a,this.timestamp=l,this.text=t,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=o,this.format=a,this.resultMetadata=null,l==null?this.timestamp=k.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(n.length+t.length);k.arraycopy(n,0,i,0,n.length),k.arraycopy(t,0,i,n.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var V;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(V||(V={}));var te=V,ue;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ue||(ue={}));var Ee=ue;class Ve{constructor(t,n,i,o,a=-1,l=-1){this.rawBytes=t,this.text=n,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=l,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $e{exp(t){return this.expTable[t]}log(t){if(t===0)throw new b;return this.logTable[t]}static addOrSubtract(t,n){return t^n}}class Pe{constructor(t,n){if(n.length===0)throw new b;this.field=t;const i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),k.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(t===1){i=0;for(let l=0,d=n.length;l!==d;l++){const h=n[l];i=$e.addOrSubtract(i,h)}return i}i=n[0];const o=n.length,a=this.field;for(let l=1;l<o;l++)i=$e.addOrSubtract(a.multiply(t,i),n[l]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let n=this.coefficients,i=t.coefficients;if(n.length>i.length){const l=n;n=i,i=l}let o=new Int32Array(i.length);const a=i.length-n.length;k.arraycopy(i,0,o,0,a);for(let l=a;l<i.length;l++)o[l]=$e.addOrSubtract(n[l-a],i[l]);return new Pe(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,o=t.coefficients,a=o.length,l=new Int32Array(i+a-1),d=this.field;for(let h=0;h<i;h++){const w=n[h];for(let C=0;C<a;C++)l[h+C]=$e.addOrSubtract(l[h+C],d.multiply(w,o[C]))}return new Pe(d,l)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const n=this.coefficients.length,i=this.field,o=new Int32Array(n),a=this.coefficients;for(let l=0;l<n;l++)o[l]=i.multiply(a[l],t);return new Pe(i,o)}multiplyByMonomial(t,n){if(t<0)throw new b;if(n===0)return this.field.getZero();const i=this.coefficients,o=i.length,a=new Int32Array(o+t),l=this.field;for(let d=0;d<o;d++)a[d]=l.multiply(i[d],n);return new Pe(l,a)}divide(t){if(!this.field.equals(t.field))throw new b("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new b("Divide by 0");const n=this.field;let i=n.getZero(),o=this;const a=t.getCoefficient(t.getDegree()),l=n.inverse(a);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const d=o.getDegree()-t.getDegree(),h=n.multiply(o.getCoefficient(o.getDegree()),l),w=t.multiplyByMonomial(d,h),C=n.buildMonomial(d,h);i=i.addOrSubtract(C),o=o.addOrSubtract(w)}return[i,o]}toString(){let t="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),n===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t}}class He extends m{}He.kind="ArithmeticException";class A extends $e{constructor(t,n,i){super(),this.primitive=t,this.size=n,this.generatorBase=i;const o=new Int32Array(n);let a=1;for(let d=0;d<n;d++)o[d]=a,a*=2,a>=n&&(a^=t,a&=n-1);this.expTable=o;const l=new Int32Array(n);for(let d=0;d<n-1;d++)l[o[d]]=d;this.logTable=l,this.zero=new Pe(this,Int32Array.from([0])),this.one=new Pe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,n){if(t<0)throw new b;if(n===0)return this.zero;const i=new Int32Array(t+1);return i[0]=n,new Pe(this,i)}inverse(t){if(t===0)throw new He;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}A.AZTEC_DATA_12=new A(4201,4096,1),A.AZTEC_DATA_10=new A(1033,1024,1),A.AZTEC_DATA_6=new A(67,64,1),A.AZTEC_PARAM=new A(19,16,1),A.QR_CODE_FIELD_256=new A(285,256,0),A.DATA_MATRIX_FIELD_256=new A(301,256,1),A.AZTEC_DATA_8=A.DATA_MATRIX_FIELD_256,A.MAXICODE_FIELD_64=A.AZTEC_DATA_6;class y extends m{}y.kind="ReedSolomonException";class O extends m{}O.kind="IllegalStateException";class K{constructor(t){this.field=t}decode(t,n){const i=this.field,o=new Pe(i,t),a=new Int32Array(n);let l=!0;for(let R=0;R<n;R++){const H=o.evaluateAt(i.exp(R+i.getGeneratorBase()));a[a.length-1-R]=H,H!==0&&(l=!1)}if(l)return;const d=new Pe(i,a),h=this.runEuclideanAlgorithm(i.buildMonomial(n,1),d,n),w=h[0],C=h[1],I=this.findErrorLocations(w),v=this.findErrorMagnitudes(C,I);for(let R=0;R<I.length;R++){const H=t.length-1-i.log(I[R]);if(H<0)throw new y("Bad error location");t[H]=A.addOrSubtract(t[H],v[R])}}runEuclideanAlgorithm(t,n,i){if(t.getDegree()<n.getDegree()){const R=t;t=n,n=R}const o=this.field;let a=t,l=n,d=o.getZero(),h=o.getOne();for(;l.getDegree()>=(i/2|0);){let R=a,H=d;if(a=l,d=h,a.isZero())throw new y("r_{i-1} was zero");l=R;let Y=o.getZero();const Z=a.getCoefficient(a.getDegree()),ie=o.inverse(Z);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){const ye=l.getDegree()-a.getDegree(),_e=o.multiply(l.getCoefficient(l.getDegree()),ie);Y=Y.addOrSubtract(o.buildMonomial(ye,_e)),l=l.addOrSubtract(a.multiplyByMonomial(ye,_e))}if(h=Y.multiply(d).addOrSubtract(H),l.getDegree()>=a.getDegree())throw new O("Division algorithm failed to reduce polynomial?")}const w=h.getCoefficient(0);if(w===0)throw new y("sigmaTilde(0) was zero");const C=o.inverse(w),I=h.multiplyScalar(C),v=l.multiplyScalar(C);return[I,v]}findErrorLocations(t){const n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(n);let o=0;const a=this.field;for(let l=1;l<a.getSize()&&o<n;l++)t.evaluateAt(l)===0&&(i[o]=a.inverse(l),o++);if(o!==n)throw new y("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,n){const i=n.length,o=new Int32Array(i),a=this.field;for(let l=0;l<i;l++){const d=a.inverse(n[l]);let h=1;for(let w=0;w<i;w++)if(l!==w){const C=a.multiply(n[w],d),I=C&1?C&-2:C|1;h=a.multiply(h,I)}o[l]=a.multiply(t.evaluateAt(d),a.inverse(h)),a.getGeneratorBase()!==0&&(o[l]=a.multiply(o[l],d))}return o}}var q;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(q||(q={}));class se{decode(t){this.ddata=t;let n=t.getBits(),i=this.extractBits(n),o=this.correctBits(i),a=se.convertBoolArrayToByteArray(o),l=se.getEncodedData(o),d=new Ve(a,l,null,null);return d.setNumBits(o.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let n=t.length,i=q.UPPER,o=q.UPPER,a="",l=0;for(;l<n;)if(o===q.BINARY){if(n-l<5)break;let d=se.readCode(t,l,5);if(l+=5,d===0){if(n-l<11)break;d=se.readCode(t,l,11)+31,l+=11}for(let h=0;h<d;h++){if(n-l<8){l=n;break}const w=se.readCode(t,l,8);a+=z.castAsNonUtf8Char(w),l+=8}o=i}else{let d=o===q.DIGIT?4:5;if(n-l<d)break;let h=se.readCode(t,l,d);l+=d;let w=se.getCharacter(o,h);w.startsWith("CTRL_")?(i=o,o=se.getTable(w.charAt(5)),w.charAt(6)==="L"&&(i=o)):(a+=w,o=i)}return a}static getTable(t){switch(t){case"L":return q.LOWER;case"P":return q.PUNCT;case"M":return q.MIXED;case"D":return q.DIGIT;case"B":return q.BINARY;case"U":default:return q.UPPER}}static getCharacter(t,n){switch(t){case q.UPPER:return se.UPPER_TABLE[n];case q.LOWER:return se.LOWER_TABLE[n];case q.MIXED:return se.MIXED_TABLE[n];case q.PUNCT:return se.PUNCT_TABLE[n];case q.DIGIT:return se.DIGIT_TABLE[n];default:throw new O("Bad table")}}correctBits(t){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=A.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=A.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=A.AZTEC_DATA_10):(i=12,n=A.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),a=t.length/i;if(a<o)throw new P;let l=t.length%i,d=new Int32Array(a);for(let v=0;v<a;v++,l+=i)d[v]=se.readCode(t,l,i);try{new K(n).decode(d,a-o)}catch(v){throw new P(v)}let h=(1<<i)-1,w=0;for(let v=0;v<o;v++){let R=d[v];if(R===0||R===h)throw new P;(R===1||R===h-1)&&w++}let C=new Array(o*i-w),I=0;for(let v=0;v<o;v++){let R=d[v];if(R===1||R===h-1)C.fill(R>1,I,I+i-1),I+=i-1;else for(let H=i-1;H>=0;--H)C[I++]=(R&1<<H)!==0}return C}extractBits(t){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(n?11:14)+i*4,a=new Int32Array(o),l=new Array(this.totalBitsInLayer(i,n));if(n)for(let d=0;d<a.length;d++)a[d]=d;else{let d=o+1+2*L.truncDivision(L.truncDivision(o,2)-1,15),h=o/2,w=L.truncDivision(d,2);for(let C=0;C<h;C++){let I=C+L.truncDivision(C,15);a[h-C-1]=w-I-1,a[h+C]=w+I+1}}for(let d=0,h=0;d<i;d++){let w=(i-d)*4+(n?9:12),C=d*2,I=o-1-C;for(let v=0;v<w;v++){let R=v*2;for(let H=0;H<2;H++)l[h+R+H]=t.get(a[C+H],a[C+v]),l[h+2*w+R+H]=t.get(a[C+v],a[I-H]),l[h+4*w+R+H]=t.get(a[I-H],a[I-v]),l[h+6*w+R+H]=t.get(a[I-v],a[C+H])}h+=w*8}return l}static readCode(t,n,i){let o=0;for(let a=n;a<n+i;a++)o<<=1,t[a]&&(o|=1);return o}static readByte(t,n){let i=t.length-n;return i>=8?se.readCode(t,n,8):se.readCode(t,n,i)<<8-i}static convertBoolArrayToByteArray(t){let n=new Uint8Array((t.length+7)/8);for(let i=0;i<n.length;i++)n[i]=se.readByte(t,8*i);return n}totalBitsInLayer(t,n){return((n?88:112)+16*t)*t}}se.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],se.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],se.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],se.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],se.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class he{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,n,i,o){const a=t-i,l=n-o;return Math.sqrt(a*a+l*l)}static sum(t){let n=0;for(let i=0,o=t.length;i!==o;i++){const a=t[i];n+=a}return n}}class pe{static floatToIntBits(t){return t}}pe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(t,n){this.x=t,this.y=n}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof J){const n=t;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*pe.floatToIntBits(this.x)+pe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const n=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let a,l,d;if(i>=n&&i>=o?(l=t[0],a=t[1],d=t[2]):o>=i&&o>=n?(l=t[1],a=t[0],d=t[2]):(l=t[2],a=t[0],d=t[1]),this.crossProductZ(a,l,d)<0){const h=a;a=d,d=h}t[0]=a,t[1]=l,t[2]=d}static distance(t,n){return he.distance(t.x,t.y,n.x,n.y)}static crossProductZ(t,n,i){const o=n.x,a=n.y;return(i.x-o)*(t.y-a)-(i.y-a)*(t.x-o)}}class X{constructor(t,n){this.bits=t,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class oe extends X{constructor(t,n,i,o,a){super(t,n),this.compact=i,this.nbDatablocks=o,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ve{constructor(t,n,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=ve.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const a=n/2|0;if(this.leftInit=i-a,this.rightInit=i+a,this.upInit=o-a,this.downInit=o+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let t=this.leftInit,n=this.rightInit,i=this.upInit,o=this.downInit,a=!1,l=!0,d=!1,h=!1,w=!1,C=!1,I=!1;const v=this.width,R=this.height;for(;l;){l=!1;let H=!0;for(;(H||!h)&&n<v;)H=this.containsBlackPoint(i,o,n,!1),H?(n++,l=!0,h=!0):h||n++;if(n>=v){a=!0;break}let Y=!0;for(;(Y||!w)&&o<R;)Y=this.containsBlackPoint(t,n,o,!0),Y?(o++,l=!0,w=!0):w||o++;if(o>=R){a=!0;break}let Z=!0;for(;(Z||!C)&&t>=0;)Z=this.containsBlackPoint(i,o,t,!1),Z?(t--,l=!0,C=!0):C||t--;if(t<0){a=!0;break}let ie=!0;for(;(ie||!I)&&i>=0;)ie=this.containsBlackPoint(t,n,i,!0),ie?(i--,l=!0,I=!0):I||i--;if(i<0){a=!0;break}l&&(d=!0)}if(!a&&d){const H=n-t;let Y=null;for(let _e=1;Y===null&&_e<H;_e++)Y=this.getBlackPointOnSegment(t,o-_e,t+_e,o);if(Y==null)throw new U;let Z=null;for(let _e=1;Z===null&&_e<H;_e++)Z=this.getBlackPointOnSegment(t,i+_e,t+_e,i);if(Z==null)throw new U;let ie=null;for(let _e=1;ie===null&&_e<H;_e++)ie=this.getBlackPointOnSegment(n,i+_e,n-_e,i);if(ie==null)throw new U;let ye=null;for(let _e=1;ye===null&&_e<H;_e++)ye=this.getBlackPointOnSegment(n,o-_e,n-_e,o);if(ye==null)throw new U;return this.centerEdges(ye,Y,ie,Z)}else throw new U}getBlackPointOnSegment(t,n,i,o){const a=he.round(he.distance(t,n,i,o)),l=(i-t)/a,d=(o-n)/a,h=this.image;for(let w=0;w<a;w++){const C=he.round(t+w*l),I=he.round(n+w*d);if(h.get(C,I))return new J(C,I)}return null}centerEdges(t,n,i,o){const a=t.getX(),l=t.getY(),d=n.getX(),h=n.getY(),w=i.getX(),C=i.getY(),I=o.getX(),v=o.getY(),R=ve.CORR;return a<this.width/2?[new J(I-R,v+R),new J(d+R,h+R),new J(w-R,C-R),new J(a+R,l-R)]:[new J(I+R,v+R),new J(d+R,h-R),new J(w-R,C+R),new J(a-R,l-R)]}containsBlackPoint(t,n,i,o){const a=this.image;if(o){for(let l=t;l<=n;l++)if(a.get(l,i))return!0}else for(let l=t;l<=n;l++)if(a.get(i,l))return!0;return!1}}ve.INIT_SIZE=10,ve.CORR=1;class Ne{static checkAndNudgePoints(t,n){const i=t.getWidth(),o=t.getHeight();let a=!0;for(let l=0;l<n.length&&a;l+=2){const d=Math.floor(n[l]),h=Math.floor(n[l+1]);if(d<-1||d>i||h<-1||h>o)throw new U;a=!1,d===-1?(n[l]=0,a=!0):d===i&&(n[l]=i-1,a=!0),h===-1?(n[l+1]=0,a=!0):h===o&&(n[l+1]=o-1,a=!0)}a=!0;for(let l=n.length-2;l>=0&&a;l-=2){const d=Math.floor(n[l]),h=Math.floor(n[l+1]);if(d<-1||d>i||h<-1||h>o)throw new U;a=!1,d===-1?(n[l]=0,a=!0):d===i&&(n[l]=i-1,a=!0),h===-1?(n[l+1]=0,a=!0):h===o&&(n[l+1]=o-1,a=!0)}}}class Be{constructor(t,n,i,o,a,l,d,h,w){this.a11=t,this.a21=n,this.a31=i,this.a12=o,this.a22=a,this.a32=l,this.a13=d,this.a23=h,this.a33=w}static quadrilateralToQuadrilateral(t,n,i,o,a,l,d,h,w,C,I,v,R,H,Y,Z){const ie=Be.quadrilateralToSquare(t,n,i,o,a,l,d,h);return Be.squareToQuadrilateral(w,C,I,v,R,H,Y,Z).times(ie)}transformPoints(t){const n=t.length,i=this.a11,o=this.a12,a=this.a13,l=this.a21,d=this.a22,h=this.a23,w=this.a31,C=this.a32,I=this.a33;for(let v=0;v<n;v+=2){const R=t[v],H=t[v+1],Y=a*R+h*H+I;t[v]=(i*R+l*H+w)/Y,t[v+1]=(o*R+d*H+C)/Y}}transformPointsWithValues(t,n){const i=this.a11,o=this.a12,a=this.a13,l=this.a21,d=this.a22,h=this.a23,w=this.a31,C=this.a32,I=this.a33,v=t.length;for(let R=0;R<v;R++){const H=t[R],Y=n[R],Z=a*H+h*Y+I;t[R]=(i*H+l*Y+w)/Z,n[R]=(o*H+d*Y+C)/Z}}static squareToQuadrilateral(t,n,i,o,a,l,d,h){const w=t-i+a-d,C=n-o+l-h;if(w===0&&C===0)return new Be(i-t,a-i,t,o-n,l-o,n,0,0,1);{const I=i-a,v=d-a,R=o-l,H=h-l,Y=I*H-v*R,Z=(w*H-v*C)/Y,ie=(I*C-w*R)/Y;return new Be(i-t+Z*i,d-t+ie*d,t,o-n+Z*o,h-n+ie*h,n,Z,ie,1)}}static quadrilateralToSquare(t,n,i,o,a,l,d,h){return Be.squareToQuadrilateral(t,n,i,o,a,l,d,h).buildAdjoint()}buildAdjoint(){return new Be(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Be(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Ke extends Ne{sampleGrid(t,n,i,o,a,l,d,h,w,C,I,v,R,H,Y,Z,ie,ye,_e){const Ce=Be.quadrilateralToQuadrilateral(o,a,l,d,h,w,C,I,v,R,H,Y,Z,ie,ye,_e);return this.sampleGridWithTransform(t,n,i,Ce)}sampleGridWithTransform(t,n,i,o){if(n<=0||i<=0)throw new U;const a=new be(n,i),l=new Float32Array(2*n);for(let d=0;d<i;d++){const h=l.length,w=d+.5;for(let C=0;C<h;C+=2)l[C]=C/2+.5,l[C+1]=w;o.transformPoints(l),Ne.checkAndNudgePoints(t,l);try{for(let C=0;C<h;C+=2)t.get(Math.floor(l[C]),Math.floor(l[C+1]))&&a.set(C/2,d)}catch(C){throw new U}}return a}}class Qe{static setGridSampler(t){Qe.gridSampler=t}static getInstance(){return Qe.gridSampler}}Qe.gridSampler=new Ke;class Xe{constructor(t,n){this.x=t,this.y=n}toResultPoint(){return new J(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class xt{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(t){let l=i[0];i[0]=i[2],i[2]=l}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),a=this.getMatrixCornerPoints(i);return new oe(o,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new U;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(i,n);let o=0;for(let l=0;l<4;l++){let d=i[(this.shift+l)%4];this.compact?(o<<=7,o+=d>>1&127):(o<<=10,o+=(d>>2&992)+(d>>1&31))}let a=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)}getRotation(t,n){let i=0;t.forEach((o,a,l)=>{let d=(o>>n-2<<1)+(o&1);i=(i<<3)+d}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(L.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new U}getCorrectedParameterData(t,n){let i,o;n?(i=7,o=2):(i=10,o=4);let a=i-o,l=new Int32Array(i);for(let h=i-1;h>=0;--h)l[h]=t&15,t>>=4;try{new K(A.AZTEC_PARAM).decode(l,a)}catch(h){throw new U}let d=0;for(let h=0;h<o;h++)d=(d<<4)+l[h];return d}getBullsEyeCorners(t){let n=t,i=t,o=t,a=t,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(n,l,1,-1),v=this.getFirstDifferent(i,l,1,1),R=this.getFirstDifferent(o,l,-1,1),H=this.getFirstDifferent(a,l,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(H,I)*this.nbCenterLayers/(this.distancePoint(a,n)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(I,v,R,H))break}n=I,i=v,o=R,a=H,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;let d=new J(n.getX()+.5,n.getY()-.5),h=new J(i.getX()+.5,i.getY()+.5),w=new J(o.getX()-.5,o.getY()+.5),C=new J(a.getX()-.5,a.getY()-.5);return this.expandSquare([d,h,w,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,n,i,o;try{let d=new ve(this.image).detect();t=d[0],n=d[1],i=d[2],o=d[3]}catch(d){let h=this.image.getWidth()/2,w=this.image.getHeight()/2;t=this.getFirstDifferent(new Xe(h+7,w-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Xe(h+7,w+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Xe(h-7,w+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Xe(h-7,w-7),!1,-1,-1).toResultPoint()}let a=he.round((t.getX()+o.getX()+n.getX()+i.getX())/4),l=he.round((t.getY()+o.getY()+n.getY()+i.getY())/4);try{let d=new ve(this.image,15,a,l).detect();t=d[0],n=d[1],i=d[2],o=d[3]}catch(d){t=this.getFirstDifferent(new Xe(a+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Xe(a+7,l+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Xe(a-7,l+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Xe(a-7,l-7),!1,-1,-1).toResultPoint()}return a=he.round((t.getX()+o.getX()+n.getX()+i.getX())/4),l=he.round((t.getY()+o.getY()+n.getY()+i.getY())/4),new Xe(a,l)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,n,i,o,a){let l=Qe.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,w=d/2+this.nbCenterLayers;return l.sampleGrid(t,d,d,h,h,w,h,w,w,h,w,n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY())}sampleLine(t,n,i){let o=0,a=this.distanceResultPoint(t,n),l=a/i,d=t.getX(),h=t.getY(),w=l*(n.getX()-t.getX())/a,C=l*(n.getY()-t.getY())/a;for(let I=0;I<i;I++)this.image.get(he.round(d+I*w),he.round(h+I*C))&&(o|=1<<i-I-1);return o}isWhiteOrBlackRectangle(t,n,i,o){let a=3;t=new Xe(t.getX()-a,t.getY()+a),n=new Xe(n.getX()-a,n.getY()-a),i=new Xe(i.getX()+a,i.getY()-a),o=new Xe(o.getX()+a,o.getY()+a);let l=this.getColor(o,t);if(l===0)return!1;let d=this.getColor(t,n);return d!==l||(d=this.getColor(n,i),d!==l)?!1:(d=this.getColor(i,o),d===l)}getColor(t,n){let i=this.distancePoint(t,n),o=(n.getX()-t.getX())/i,a=(n.getY()-t.getY())/i,l=0,d=t.getX(),h=t.getY(),w=this.image.get(t.getX(),t.getY()),C=Math.ceil(i);for(let v=0;v<C;v++)d+=o,h+=a,this.image.get(he.round(d),he.round(h))!==w&&l++;let I=l/i;return I>.1&&I<.9?0:I<=.1===w?1:-1}getFirstDifferent(t,n,i,o){let a=t.getX()+i,l=t.getY()+o;for(;this.isValid(a,l)&&this.image.get(a,l)===n;)a+=i,l+=o;for(a-=i,l-=o;this.isValid(a,l)&&this.image.get(a,l)===n;)a+=i;for(a-=i;this.isValid(a,l)&&this.image.get(a,l)===n;)l+=o;return l-=o,new Xe(a,l)}expandSquare(t,n,i){let o=i/(2*n),a=t[0].getX()-t[2].getX(),l=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,w=new J(d+o*a,h+o*l),C=new J(d-o*a,h-o*l);a=t[1].getX()-t[3].getX(),l=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let I=new J(d+o*a,h+o*l),v=new J(d-o*a,h-o*l);return[w,I,C,v]}isValid(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(t){let n=he.round(t.getX()),i=he.round(t.getY());return this.isValid(n,i)}distancePoint(t,n){return he.distance(t.getX(),t.getY(),n.getX(),n.getY())}distanceResultPoint(t,n){return he.distance(t.getX(),t.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class ln{decode(t,n=null){let i=null,o=new xt(t.getBlackMatrix()),a=null,l=null;try{let C=o.detectMirror(!1);a=C.getPoints(),this.reportFoundResultPoints(n,a),l=new se().decode(C)}catch(C){i=C}if(l==null)try{let C=o.detectMirror(!0);a=C.getPoints(),this.reportFoundResultPoints(n,a),l=new se().decode(C)}catch(C){throw i!=null?i:C}let d=new Le(l.getText(),l.getRawBytes(),l.getNumBits(),a,te.AZTEC,k.currentTimeMillis()),h=l.getByteSegments();h!=null&&d.putMetadata(Ee.BYTE_SEGMENTS,h);let w=l.getECLevel();return w!=null&&d.putMetadata(Ee.ERROR_CORRECTION_LEVEL,w),d}reportFoundResultPoints(t,n){if(t!=null){let i=t.get(W.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((o,a,l)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class Ar extends me{constructor(t=500){super(new ln,t)}}class Rt{decode(t,n){try{return this.doDecode(t,n)}catch(i){if(n&&n.get(W.TRY_HARDER)===!0&&t.isRotateSupported()){const a=t.rotateCounterClockwise(),l=this.doDecode(a,n),d=l.getResultMetadata();let h=270;d!==null&&d.get(Ee.ORIENTATION)===!0&&(h=h+d.get(Ee.ORIENTATION)%360),l.putMetadata(Ee.ORIENTATION,h);const w=l.getResultPoints();if(w!==null){const C=a.getHeight();for(let I=0;I<w.length;I++)w[I]=new J(C-w[I].getY()-1,w[I].getX())}return l}else throw new U}}reset(){}doDecode(t,n){const i=t.getWidth(),o=t.getHeight();let a=new D(i);const l=n&&n.get(W.TRY_HARDER)===!0,d=Math.max(1,o>>(l?8:5));let h;l?h=o:h=15;const w=Math.trunc(o/2);for(let C=0;C<h;C++){const I=Math.trunc((C+1)/2),v=(C&1)===0,R=w+d*(v?I:-I);if(R<0||R>=o)break;try{a=t.getBlackRow(R,a)}catch(H){continue}for(let H=0;H<2;H++){if(H===1&&(a.reverse(),n&&n.get(W.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;n.forEach((Z,ie)=>Y.set(ie,Z)),Y.delete(W.NEED_RESULT_POINT_CALLBACK),n=Y}try{const Y=this.decodeRow(R,a,n);if(H===1){Y.putMetadata(Ee.ORIENTATION,180);const Z=Y.getResultPoints();Z!==null&&(Z[0]=new J(i-Z[0].getX()-1,Z[0].getY()),Z[1]=new J(i-Z[1].getX()-1,Z[1].getY()))}return Y}catch(Y){}}}throw new U}static recordPattern(t,n,i){const o=i.length;for(let w=0;w<o;w++)i[w]=0;const a=t.getSize();if(n>=a)throw new U;let l=!t.get(n),d=0,h=n;for(;h<a;){if(t.get(h)!==l)i[d]++;else{if(++d===o)break;i[d]=1,l=!l}h++}if(!(d===o||d===o-1&&h===a))throw new U}static recordPatternInReverse(t,n,i){let o=i.length,a=t.get(n);for(;n>0&&o>=0;)t.get(--n)!==a&&(o--,a=!a);if(o>=0)throw new U;Rt.recordPattern(t,n+1,i)}static patternMatchVariance(t,n,i){const o=t.length;let a=0,l=0;for(let w=0;w<o;w++)a+=t[w],l+=n[w];if(a<l)return Number.POSITIVE_INFINITY;const d=a/l;i*=d;let h=0;for(let w=0;w<o;w++){const C=t[w],I=n[w]*d,v=C>I?C-I:I-C;if(v>i)return Number.POSITIVE_INFINITY;h+=v}return h/a}}class Ie extends Rt{static findStartPattern(t){const n=t.getSize(),i=t.getNextSet(0);let o=0,a=Int32Array.from([0,0,0,0,0,0]),l=i,d=!1;const h=6;for(let w=i;w<n;w++)if(t.get(w)!==d)a[o]++;else{if(o===h-1){let C=Ie.MAX_AVG_VARIANCE,I=-1;for(let v=Ie.CODE_START_A;v<=Ie.CODE_START_C;v++){const R=Rt.patternMatchVariance(a,Ie.CODE_PATTERNS[v],Ie.MAX_INDIVIDUAL_VARIANCE);R<C&&(C=R,I=v)}if(I>=0&&t.isRange(Math.max(0,l-(w-l)/2),l,!1))return Int32Array.from([l,w,I]);l+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,d=!d}throw new U}static decodeCode(t,n,i){Rt.recordPattern(t,i,n);let o=Ie.MAX_AVG_VARIANCE,a=-1;for(let l=0;l<Ie.CODE_PATTERNS.length;l++){const d=Ie.CODE_PATTERNS[l],h=this.patternMatchVariance(n,d,Ie.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,a=l)}if(a>=0)return a;throw new U}decodeRow(t,n,i){const o=i&&i.get(W.ASSUME_GS1)===!0,a=Ie.findStartPattern(n),l=a[2];let d=0;const h=new Uint8Array(20);h[d++]=l;let w;switch(l){case Ie.CODE_START_A:w=Ie.CODE_CODE_A;break;case Ie.CODE_START_B:w=Ie.CODE_CODE_B;break;case Ie.CODE_START_C:w=Ie.CODE_CODE_C;break;default:throw new P}let C=!1,I=!1,v="",R=a[0],H=a[1];const Y=Int32Array.from([0,0,0,0,0,0]);let Z=0,ie=0,ye=l,_e=0,Ce=!0,rt=!1,je=!1;for(;!C;){const bi=I;switch(I=!1,Z=ie,ie=Ie.decodeCode(n,Y,H),h[d++]=ie,ie!==Ie.CODE_STOP&&(Ce=!0),ie!==Ie.CODE_STOP&&(_e++,ye+=_e*ie),R=H,H+=Y.reduce((oh,ah)=>oh+ah,0),ie){case Ie.CODE_START_A:case Ie.CODE_START_B:case Ie.CODE_START_C:throw new P}switch(w){case Ie.CODE_CODE_A:if(ie<64)je===rt?v+=String.fromCharCode(" ".charCodeAt(0)+ie):v+=String.fromCharCode(" ".charCodeAt(0)+ie+128),je=!1;else if(ie<96)je===rt?v+=String.fromCharCode(ie-64):v+=String.fromCharCode(ie+64),je=!1;else switch(ie!==Ie.CODE_STOP&&(Ce=!1),ie){case Ie.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_A:!rt&&je?(rt=!0,je=!1):rt&&je?(rt=!1,je=!1):je=!0;break;case Ie.CODE_SHIFT:I=!0,w=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_B:w=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_C:w=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:C=!0;break}break;case Ie.CODE_CODE_B:if(ie<96)je===rt?v+=String.fromCharCode(" ".charCodeAt(0)+ie):v+=String.fromCharCode(" ".charCodeAt(0)+ie+128),je=!1;else switch(ie!==Ie.CODE_STOP&&(Ce=!1),ie){case Ie.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_B:!rt&&je?(rt=!0,je=!1):rt&&je?(rt=!1,je=!1):je=!0;break;case Ie.CODE_SHIFT:I=!0,w=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_A:w=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_C:w=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:C=!0;break}break;case Ie.CODE_CODE_C:if(ie<100)ie<10&&(v+="0"),v+=ie;else switch(ie!==Ie.CODE_STOP&&(Ce=!1),ie){case Ie.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case Ie.CODE_CODE_A:w=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_B:w=Ie.CODE_CODE_B;break;case Ie.CODE_STOP:C=!0;break}break}bi&&(w=w===Ie.CODE_CODE_A?Ie.CODE_CODE_B:Ie.CODE_CODE_A)}const pn=H-R;if(H=n.getNextUnset(H),!n.isRange(H,Math.min(n.getSize(),H+(H-R)/2),!1))throw new U;if(ye-=_e*Z,ye%103!==Z)throw new S;const Xn=v.length;if(Xn===0)throw new U;Xn>0&&Ce&&(w===Ie.CODE_CODE_C?v=v.substring(0,Xn-2):v=v.substring(0,Xn-1));const Cn=(a[1]+a[0])/2,Ct=R+pn/2,rn=h.length,_n=new Uint8Array(rn);for(let bi=0;bi<rn;bi++)_n[bi]=h[bi];const Ci=[new J(Cn,t),new J(Ct,t)];return new Le(v,_n,0,Ci,te.CODE_128,new Date().getTime())}}Ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ie.MAX_AVG_VARIANCE=.25,Ie.MAX_INDIVIDUAL_VARIANCE=.7,Ie.CODE_SHIFT=98,Ie.CODE_CODE_C=99,Ie.CODE_CODE_B=100,Ie.CODE_CODE_A=101,Ie.CODE_FNC_1=102,Ie.CODE_FNC_2=97,Ie.CODE_FNC_3=96,Ie.CODE_FNC_4_A=101,Ie.CODE_FNC_4_B=100,Ie.CODE_START_A=103,Ie.CODE_START_B=104,Ie.CODE_START_C=105,Ie.CODE_STOP=106;class Mt extends Rt{constructor(t=!1,n=!1){super(),this.usingCheckDigit=t,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,n,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let a=Mt.findAsteriskPattern(n,o),l=n.getNextSet(a[1]),d=n.getSize(),h,w;do{Mt.recordPattern(n,l,o);let Y=Mt.toNarrowWidePattern(o);if(Y<0)throw new U;h=Mt.patternToChar(Y),this.decodeRowResult+=h,w=l;for(let Z of o)l+=Z;l=n.getNextSet(l)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let Y of o)C+=Y;let I=l-w-C;if(l!==d&&I*2<C)throw new U;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,Z=0;for(let ie=0;ie<Y;ie++)Z+=Mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ie));if(this.decodeRowResult.charAt(Y)!==Mt.ALPHABET_STRING.charAt(Z%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new U;let v;this.extendedMode?v=Mt.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let R=(a[1]+a[0])/2,H=w+C/2;return new Le(v,null,0,[new J(R,t),new J(H,t)],te.CODE_39,new Date().getTime())}static findAsteriskPattern(t,n){let i=t.getSize(),o=t.getNextSet(0),a=0,l=o,d=!1,h=n.length;for(let w=o;w<i;w++)if(t.get(w)!==d)n[a]++;else{if(a===h-1){if(this.toNarrowWidePattern(n)===Mt.ASTERISK_ENCODING&&t.isRange(Math.max(0,l-Math.floor((w-l)/2)),l,!1))return[l,w];l+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,d=!d}throw new U}static toNarrowWidePattern(t){let n=t.length,i=0,o;do{let a=2147483647;for(let h of t)h<a&&h>i&&(a=h);i=a,o=0;let l=0,d=0;for(let h=0;h<n;h++){let w=t[h];w>i&&(d|=1<<n-1-h,o++,l+=w)}if(o===3){for(let h=0;h<n&&o>0;h++){let w=t[h];if(w>i&&(o--,w*2>=l))return-1}return d}}while(o>3);return-1}static patternToChar(t){for(let n=0;n<Mt.CHARACTER_ENCODINGS.length;n++)if(Mt.CHARACTER_ENCODINGS[n]===t)return Mt.ALPHABET_STRING.charAt(n);if(t===Mt.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(t){let n=t.length,i="";for(let o=0;o<n;o++){let a=t.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){let l=t.charAt(o+1),d="\0";switch(a){case"+":if(l>="A"&&l<="Z")d=String.fromCharCode(l.charCodeAt(0)+32);else throw new P;break;case"$":if(l>="A"&&l<="Z")d=String.fromCharCode(l.charCodeAt(0)-64);else throw new P;break;case"%":if(l>="A"&&l<="E")d=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")d=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")d=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")d=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")d="\0";else if(l==="V")d="@";else if(l==="W")d="`";else if(l==="X"||l==="Y"||l==="Z")d="";else throw new P;break;case"/":if(l>="A"&&l<="O")d=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")d=":";else throw new P;break}i+=d,o++}else i+=a}return i}}Mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Mt.ASTERISK_ENCODING=148;class Ze extends Rt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,n,i){let o=this.decodeStart(n),a=this.decodeEnd(n),l=new le;Ze.decodeMiddle(n,o[1],a[0],l);let d=l.toString(),h=null;i!=null&&(h=i.get(W.ALLOWED_LENGTHS)),h==null&&(h=Ze.DEFAULT_ALLOWED_LENGTHS);let w=d.length,C=!1,I=0;for(let H of h){if(w===H){C=!0;break}H>I&&(I=H)}if(!C&&w>I&&(C=!0),!C)throw new P;const v=[new J(o[1],t),new J(a[0],t)];return new Le(d,null,0,v,te.ITF,new Date().getTime())}static decodeMiddle(t,n,i,o){let a=new Int32Array(10),l=new Int32Array(5),d=new Int32Array(5);for(a.fill(0),l.fill(0),d.fill(0);n<i;){Rt.recordPattern(t,n,a);for(let w=0;w<5;w++){let C=2*w;l[w]=a[C],d[w]=a[C+1]}let h=Ze.decodeDigit(l);o.append(h.toString()),h=this.decodeDigit(d),o.append(h.toString()),a.forEach(function(w){n+=w})}}decodeStart(t){let n=Ze.skipWhiteSpace(t),i=Ze.findGuardPattern(t,n,Ze.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let o=n-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new U}static skipWhiteSpace(t){const n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new U;return i}decodeEnd(t){t.reverse();try{let n=Ze.skipWhiteSpace(t),i;try{i=Ze.findGuardPattern(t,n,Ze.END_PATTERN_REVERSED[0])}catch(a){a instanceof U&&(i=Ze.findGuardPattern(t,n,Ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,n,i){let o=i.length,a=new Int32Array(o),l=t.getSize(),d=!1,h=0,w=n;a.fill(0);for(let C=n;C<l;C++)if(t.get(C)!==d)a[h]++;else{if(h===o-1){if(Rt.patternMatchVariance(a,i,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return[w,C];w+=a[0]+a[1],k.arraycopy(a,2,a,0,h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,d=!d}throw new U}static decodeDigit(t){let n=Ze.MAX_AVG_VARIANCE,i=-1,o=Ze.PATTERNS.length;for(let a=0;a<o;a++){let l=Ze.PATTERNS[a],d=Rt.patternMatchVariance(t,l,Ze.MAX_INDIVIDUAL_VARIANCE);d<n?(n=d,i=a):d===n&&(i=-1)}if(i>=0)return i%10;throw new U}}Ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ze.MAX_AVG_VARIANCE=.38,Ze.MAX_INDIVIDUAL_VARIANCE=.5,Ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ze.START_PATTERN=Int32Array.from([1,1,1,1]),Ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class at extends Rt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let n=!1,i,o=0,a=Int32Array.from([0,0,0]);for(;!n;){a=Int32Array.from([0,0,0]),i=at.findGuardPattern(t,o,!1,this.START_END_PATTERN,a);let l=i[0];o=i[1];let d=l-(o-l);d>=0&&(n=t.isRange(d,l,!1))}return i}static checkChecksum(t){return at.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let n=t.length;if(n===0)return!1;let i=parseInt(t.charAt(n-1),10);return at.getStandardUPCEANChecksum(t.substring(0,n-1))===i}static getStandardUPCEANChecksum(t){let n=t.length,i=0;for(let o=n-1;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new P;i+=a}i*=3;for(let o=n-2;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new P;i+=a}return(1e3-i)%10}static decodeEnd(t,n){return at.findGuardPattern(t,n,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,n,i,o){return this.findGuardPattern(t,n,i,o,new Int32Array(o.length))}static findGuardPattern(t,n,i,o,a){let l=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);let d=0,h=n,w=o.length,C=i;for(let I=n;I<l;I++)if(t.get(I)!==C)a[d]++;else{if(d===w-1){if(Rt.patternMatchVariance(a,o,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return Int32Array.from([h,I]);h+=a[0]+a[1];let v=a.slice(2,a.length-1);for(let R=0;R<d-1;R++)a[R]=v[R];a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,C=!C}throw new U}static decodeDigit(t,n,i,o){this.recordPattern(t,i,n);let a=this.MAX_AVG_VARIANCE,l=-1,d=o.length;for(let h=0;h<d;h++){let w=o[h],C=Rt.patternMatchVariance(n,w,at.MAX_INDIVIDUAL_VARIANCE);C<a&&(a=C,l=h)}if(l>=0)return l;throw new U}}at.MAX_AVG_VARIANCE=.48,at.MAX_INDIVIDUAL_VARIANCE=.7,at.START_END_PATTERN=Int32Array.from([1,1,1]),at.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),at.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),at.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class yr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,n,i){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(n,i,o),l=o.toString(),d=yr.parseExtensionString(l),h=[new J((i[0]+i[1])/2,t),new J(a,t)],w=new Le(l,null,0,h,te.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&w.putAllMetadata(d),w}decodeMiddle(t,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l=n[1],d=0;for(let w=0;w<5&&l<a;w++){let C=at.decodeDigit(t,o,l,at.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let I of o)l+=I;C>=10&&(d|=1<<4-w),w!==4&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(i.length!==5)throw new U;let h=this.determineCheckDigit(d);if(yr.extensionChecksum(i.toString())!==h)throw new U;return l}static extensionChecksum(t){let n=t.length,i=0;for(let o=n-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);i*=3;for(let o=n-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return i*=3,i%10}determineCheckDigit(t){for(let n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new U}static parseExtensionString(t){if(t.length!==5)return null;let n=yr.parseExtension5String(t);return n==null?null:new Map([[Ee.SUGGESTED_PRICE,n]])}static parseExtension5String(t){let n;switch(t.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),a=i%100,l=a<10?"0"+a:a.toString();return n+o+"."+l}}class ca{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,n,i){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(n,i,o),l=o.toString(),d=ca.parseExtensionString(l),h=[new J((i[0]+i[1])/2,t),new J(a,t)],w=new Le(l,null,0,h,te.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&w.putAllMetadata(d),w}decodeMiddle(t,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l=n[1],d=0;for(let h=0;h<2&&l<a;h++){let w=at.decodeDigit(t,o,l,at.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let C of o)l+=C;w>=10&&(d|=1<<1-h),h!==1&&(l=t.getNextSet(l),l=t.getNextUnset(l))}if(i.length!==2)throw new U;if(parseInt(i.toString())%4!==d)throw new U;return l}static parseExtensionString(t){return t.length!==2?null:new Map([[Ee.ISSUE_NUMBER,parseInt(t)]])}}class _c{static decodeRow(t,n,i){let o=at.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new yr().decodeRow(t,n,o)}catch(a){return new ca().decodeRow(t,n,o)}}}_c.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends at{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let n=ht.L_PATTERNS[t-10],i=new Int32Array(n.length);for(let o=0;o<n.length;o++)i[o]=n[n.length-o-1];ht.L_AND_G_PATTERNS[t]=i}}decodeRow(t,n,i){let o=ht.findStartGuardPattern(n),a=i==null?null:i.get(W.NEED_RESULT_POINT_CALLBACK);if(a!=null){const Ce=new J((o[0]+o[1])/2,t);a.foundPossibleResultPoint(Ce)}let l=this.decodeMiddle(n,o,this.decodeRowStringBuffer),d=l.rowOffset,h=l.resultString;if(a!=null){const Ce=new J(d,t);a.foundPossibleResultPoint(Ce)}let w=this.decodeEnd(n,d);if(a!=null){const Ce=new J((w[0]+w[1])/2,t);a.foundPossibleResultPoint(Ce)}let C=w[1],I=C+(C-w[0]);if(I>=n.getSize()||!n.isRange(C,I,!1))throw new U;let v=h.toString();if(v.length<8)throw new P;if(!ht.checkChecksum(v))throw new S;let R=(o[1]+o[0])/2,H=(w[1]+w[0])/2,Y=this.getBarcodeFormat(),Z=[new J(R,t),new J(H,t)],ie=new Le(v,null,0,Z,Y,new Date().getTime()),ye=0;try{let Ce=_c.decodeRow(t,n,w[1]);ie.putMetadata(Ee.UPC_EAN_EXTENSION,Ce.getText()),ie.putAllMetadata(Ce.getResultMetadata()),ie.addResultPoints(Ce.getResultPoints()),ye=Ce.getText().length}catch(Ce){}let _e=i==null?null:i.get(W.ALLOWED_EAN_EXTENSIONS);if(_e!=null){let Ce=!1;for(let rt in _e)if(ye.toString()===rt){Ce=!0;break}if(!Ce)throw new U}return ie}decodeEnd(t,n){return ht.findGuardPattern(t,n,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ht.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let n=t.length;if(n===0)return!1;let i=parseInt(t.charAt(n-1),10);return ht.getStandardUPCEANChecksum(t.substring(0,n-1))===i}static getStandardUPCEANChecksum(t){let n=t.length,i=0;for(let o=n-1;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new P;i+=a}i*=3;for(let o=n-2;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new P;i+=a}return(1e3-i)%10}}class Kr extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l=n[1],d=0;for(let w=0;w<6&&l<a;w++){let C=ht.decodeDigit(t,o,l,ht.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let I of o)l+=I;C>=10&&(d|=1<<5-w)}i=Kr.determineFirstDigit(i,d),l=ht.findGuardPattern(t,l,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&l<a;w++){let C=ht.decodeDigit(t,o,l,ht.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+C);for(let I of o)l+=I}return{rowOffset:l,resultString:i}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(t,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode("0".charCodeAt(0)+i)+t,t;throw new U}}Kr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ic extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,n,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l=n[1];for(let h=0;h<4&&l<a;h++){let w=ht.decodeDigit(t,o,l,ht.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w);for(let C of o)l+=C}l=ht.findGuardPattern(t,l,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&l<a;h++){let w=ht.decodeDigit(t,o,l,ht.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w);for(let C of o)l+=C}return{rowOffset:l,resultString:i}}getBarcodeFormat(){return te.EAN_8}}class Tc extends ht{constructor(){super(...arguments),this.ean13Reader=new Kr}getBarcodeFormat(){return te.UPC_A}decode(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))}decodeMiddle(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)}maybeReturnResult(t){let n=t.getText();if(n.charAt(0)==="0"){let i=new Le(n.substring(1),null,null,t.getResultPoints(),te.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new U}reset(){this.ean13Reader.reset()}}class Gn extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,n,i){const o=this.decodeMiddleCounters.map(w=>w);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const a=t.getSize();let l=n[1],d=0;for(let w=0;w<6&&l<a;w++){const C=Gn.decodeDigit(t,o,l,Gn.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let I of o)l+=I;C>=10&&(d|=1<<5-w)}let h=Gn.determineNumSysAndCheckDigit(i,d);return{rowOffset:l,resultString:h}}decodeEnd(t,n){return Gn.findGuardPatternWithoutCounters(t,n,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(t){return ht.checkChecksum(Gn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,n){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let a=String.fromCharCode("0".charCodeAt(0)+i),l=String.fromCharCode("0".charCodeAt(0)+o);return a+t+l}throw U.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(t){const n=t.slice(1,7).split("").map(a=>a.charCodeAt(0)),i=new le;i.append(t.charAt(0));let o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ua extends Rt{constructor(t){super();let n=t==null?null:t.get(W.POSSIBLE_FORMATS),i=[];u(n)?(i.push(new Kr),i.push(new Tc),i.push(new Ic),i.push(new Gn)):(n.indexOf(te.EAN_13)>-1&&i.push(new Kr),n.indexOf(te.UPC_A)>-1&&i.push(new Tc),n.indexOf(te.EAN_8)>-1&&i.push(new Ic),n.indexOf(te.UPC_E)>-1&&i.push(new Gn)),this.readers=i}decodeRow(t,n,i){for(let o of this.readers)try{const a=o.decodeRow(t,n,i),l=a.getBarcodeFormat()===te.EAN_13&&a.getText().charAt(0)==="0",d=i==null?null:i.get(W.POSSIBLE_FORMATS),h=d==null||d.includes(te.UPC_A);if(l&&h){const w=a.getRawBytes(),C=new Le(a.getText().substring(1),w,w?w.length:null,a.getResultPoints(),te.UPC_A);return C.putAllMetadata(a.getResultMetadata()),C}return a}catch(a){}throw new U}reset(){for(let t of this.readers)t.reset()}}class cn extends Rt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,n){for(let i=0;i<n.length;i++)if(Rt.patternMatchVariance(t,n[i],cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return i;throw new U}static count(t){return he.sum(new Int32Array(t))}static increment(t,n){let i=0,o=n[0];for(let a=1;a<t.length;a++)n[a]>o&&(o=n[a],i=a);t[i]++}static decrement(t,n){let i=0,o=n[0];for(let a=1;a<t.length;a++)n[a]<o&&(o=n[a],i=a);t[i]--}static isFinderPattern(t){let n=t[0]+t[1],i=n+t[2]+t[3],o=n/i;if(o>=cn.MIN_FINDER_PATTERN_RATIO&&o<=cn.MAX_FINDER_PATTERN_RATIO){let a=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let d of t)d>l&&(l=d),d<a&&(a=d);return l<10*a}return!1}}cn.MAX_AVG_VARIANCE=.2,cn.MAX_INDIVIDUAL_VARIANCE=.45,cn.MIN_FINDER_PATTERN_RATIO=9.5/12,cn.MAX_FINDER_PATTERN_RATIO=12.5/14;class hi{constructor(t,n){this.value=t,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof hi))return!1;const n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gs{constructor(t,n,i,o,a){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new J(i,a)),this.resultPoints.push(new J(o,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Gs))return!1;const n=t;return this.value===n.value}hashCode(){return this.value}}class qn{constructor(){}static getRSSvalue(t,n,i){let o=0;for(let h of t)o+=h;let a=0,l=0,d=t.length;for(let h=0;h<d-1;h++){let w;for(w=1,l|=1<<h;w<t[h];w++,l&=~(1<<h)){let C=qn.combins(o-w-1,d-h-2);if(i&&l===0&&o-w-(d-h-1)>=d-h-1&&(C-=qn.combins(o-w-(d-h),d-h-2)),d-h-1>1){let I=0;for(let v=o-w-(d-h-2);v>n;v--)I+=qn.combins(o-w-v-1,d-h-3);C-=I*(d-1-h)}else o-w>n&&C--;a+=C}o-=w}return a}static combins(t,n){let i,o;t-n>n?(o=n,i=t-n):(o=t-n,i=n);let a=1,l=1;for(let d=t;d>i;d--)a*=d,l<=o&&(a/=l,l++);for(;l<=o;)a/=l,l++;return a}}class Dd{static buildBitArray(t){let n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);let i=12*n,o=new D(i),a=0,d=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&o.set(a),a++;for(let h=1;h<t.length;++h){let w=t[h],C=w.getLeftChar().getValue();for(let I=11;I>=0;--I)C&1<<I&&o.set(a),a++;if(w.getRightChar()!=null){let I=w.getRightChar().getValue();for(let v=11;v>=0;--v)I&1<<v&&o.set(a),a++}}return o}}class Zr{constructor(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class fa{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class xn extends fa{constructor(t,n){super(t),this.value=n}getValue(){return this.value}isFNC1(){return this.value===xn.FNC1}}xn.FNC1="$";class qr extends fa{constructor(t,n,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Rn extends fa{constructor(t,n,i){if(super(t),n<0||n>10||i<0||i>10)throw new P;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Rn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Rn.FNC1}isAnyFNC1(){return this.firstDigit===Rn.FNC1||this.secondDigit===Rn.FNC1}}Rn.FNC1=10;class De{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new U;let n=t.substring(0,2);for(let a of De.TWO_DIGIT_DATA_LENGTH)if(a[0]===n)return a[1]===De.VARIABLE_LENGTH?De.processVariableAI(2,a[2],t):De.processFixedAI(2,a[1],t);if(t.length<3)throw new U;let i=t.substring(0,3);for(let a of De.THREE_DIGIT_DATA_LENGTH)if(a[0]===i)return a[1]===De.VARIABLE_LENGTH?De.processVariableAI(3,a[2],t):De.processFixedAI(3,a[1],t);for(let a of De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===i)return a[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,a[2],t):De.processFixedAI(4,a[1],t);if(t.length<4)throw new U;let o=t.substring(0,4);for(let a of De.FOUR_DIGIT_DATA_LENGTH)if(a[0]===o)return a[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,a[2],t):De.processFixedAI(4,a[1],t);throw new U}static processFixedAI(t,n,i){if(i.length<t)throw new U;let o=i.substring(0,t);if(i.length<t+n)throw new U;let a=i.substring(t,t+n),l=i.substring(t+n),d="("+o+")"+a,h=De.parseFieldsInGeneralPurpose(l);return h==null?d:d+h}static processVariableAI(t,n,i){let o=i.substring(0,t),a;i.length<t+n?a=i.length:a=t+n;let l=i.substring(t,a),d=i.substring(a),h="("+o+")"+l,w=De.parseFieldsInGeneralPurpose(d);return w==null?h:h+w}}De.VARIABLE_LENGTH=[],De.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",De.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",De.VARIABLE_LENGTH,20],["22",De.VARIABLE_LENGTH,29],["30",De.VARIABLE_LENGTH,8],["37",De.VARIABLE_LENGTH,8],["90",De.VARIABLE_LENGTH,30],["91",De.VARIABLE_LENGTH,30],["92",De.VARIABLE_LENGTH,30],["93",De.VARIABLE_LENGTH,30],["94",De.VARIABLE_LENGTH,30],["95",De.VARIABLE_LENGTH,30],["96",De.VARIABLE_LENGTH,30],["97",De.VARIABLE_LENGTH,3],["98",De.VARIABLE_LENGTH,30],["99",De.VARIABLE_LENGTH,30]],De.THREE_DIGIT_DATA_LENGTH=[["240",De.VARIABLE_LENGTH,30],["241",De.VARIABLE_LENGTH,30],["242",De.VARIABLE_LENGTH,6],["250",De.VARIABLE_LENGTH,30],["251",De.VARIABLE_LENGTH,30],["253",De.VARIABLE_LENGTH,17],["254",De.VARIABLE_LENGTH,20],["400",De.VARIABLE_LENGTH,30],["401",De.VARIABLE_LENGTH,30],["402",17],["403",De.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",De.VARIABLE_LENGTH,20],["421",De.VARIABLE_LENGTH,15],["422",3],["423",De.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",De.VARIABLE_LENGTH,15],["391",De.VARIABLE_LENGTH,18],["392",De.VARIABLE_LENGTH,15],["393",De.VARIABLE_LENGTH,18],["703",De.VARIABLE_LENGTH,30]],De.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",De.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",De.VARIABLE_LENGTH,20],["8003",De.VARIABLE_LENGTH,30],["8004",De.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",De.VARIABLE_LENGTH,30],["8008",De.VARIABLE_LENGTH,12],["8018",18],["8020",De.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",De.VARIABLE_LENGTH,70],["8200",De.VARIABLE_LENGTH,70]];class gi{constructor(t){this.buffer=new le,this.information=t}decodeAllCodes(t,n){let i=n,o=null;do{let a=this.decodeGeneralPurposeField(i,o),l=De.parseFieldsInGeneralPurpose(a.getNewString());if(l!=null&&t.append(l),a.isRemaining()?o=""+a.getRemainingValue():o=null,i===a.getNewPosition())break;i=a.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let a=this.extractNumericValueFromBitArray(t,4);return a===0?new Rn(this.information.getSize(),Rn.FNC1,Rn.FNC1):new Rn(this.information.getSize(),a-1,Rn.FNC1)}let n=this.extractNumericValueFromBitArray(t,7),i=(n-8)/11,o=(n-8)%11;return new Rn(t+7,i,o)}extractNumericValueFromBitArray(t,n){return gi.extractNumericValueFromBitArray(this.information,t,n)}static extractNumericValueFromBitArray(t,n,i){let o=0;for(let a=0;a<i;++a)t.get(n+a)&&(o|=1<<i-a-1);return o}decodeGeneralPurposeField(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new qr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let n;return t.isSecondDigitFNC1()?n=new qr(this.current.getPosition(),this.buffer.toString()):n=new qr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Zr(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let n=new qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let n=new qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let n=new qr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new xn(t+5,xn.FNC1);if(n>=5&&n<15)return new xn(t+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new xn(t+7,""+(i+1));if(i>=90&&i<116)return new xn(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),a;switch(o){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new P}return new xn(t+8,a)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new xn(t+5,xn.FNC1);if(n>=5&&n<15)return new xn(t+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new xn(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new O("Decoding invalid alphanumeric value: "+i)}return new xn(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0}}class da{constructor(t){this.information=t,this.generalDecoder=new gi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class wn extends da{constructor(t){super(t)}encodeCompressedGtin(t,n){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)}encodeCompressedGtinWithoutAI(t,n,i){for(let o=0;o<4;++o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a)}wn.appendCheckDigit(t,i)}static appendCheckDigit(t,n){let i=0;for(let o=0;o<13;o++){let a=t.charAt(o+n).charCodeAt(0)-"0".charCodeAt(0);i+=o&1?a:3*a}i=10-i%10,i===10&&(i=0),t.append(i)}}wn.GTIN_SIZE=40;class mi extends wn{constructor(t){super(t)}parseInformation(){let t=new le;t.append("(01)");let n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(mi.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,mi.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,mi.HEADER_SIZE+44)}}mi.HEADER_SIZE=1+1+2;class Xs extends da{constructor(t){super(t)}parseInformation(){let t=new le;return this.getGeneralDecoder().decodeAllCodes(t,Xs.HEADER_SIZE)}}Xs.HEADER_SIZE=2+1+2;class Ys extends wn{constructor(t){super(t)}encodeCompressedWeight(t,n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,o);let a=this.checkWeight(o),l=1e5;for(let d=0;d<5;++d)a/l===0&&t.append("0"),l/=10;t.append(a)}}class Qn extends Ys{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Qn.HEADER_SIZE+Ys.GTIN_SIZE+Qn.WEIGHT_SIZE)throw new U;let t=new le;return this.encodeCompressedGtin(t,Qn.HEADER_SIZE),this.encodeCompressedWeight(t,Qn.HEADER_SIZE+Ys.GTIN_SIZE,Qn.WEIGHT_SIZE),t.toString()}}Qn.HEADER_SIZE=4+1,Qn.WEIGHT_SIZE=15;class Md extends Qn{constructor(t){super(t)}addWeightCode(t,n){t.append("(3103)")}checkWeight(t){return t}}class Ld extends Qn{constructor(t){super(t)}addWeightCode(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Jn extends wn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Jn.HEADER_SIZE+wn.GTIN_SIZE)throw new U;let t=new le;this.encodeCompressedGtin(t,Jn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Jn.HEADER_SIZE+wn.GTIN_SIZE,Jn.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Jn.HEADER_SIZE+wn.GTIN_SIZE+Jn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Jn.HEADER_SIZE=5+1+2,Jn.LAST_DIGIT_SIZE=2;class dn extends wn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<dn.HEADER_SIZE+wn.GTIN_SIZE)throw new U;let t=new le;this.encodeCompressedGtin(t,dn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+wn.GTIN_SIZE,dn.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+wn.GTIN_SIZE+dn.LAST_DIGIT_SIZE,dn.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(dn.HEADER_SIZE+wn.GTIN_SIZE+dn.LAST_DIGIT_SIZE+dn.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}dn.HEADER_SIZE=5+1+2,dn.LAST_DIGIT_SIZE=2,dn.FIRST_THREE_DIGITS_SIZE=10;class Nt extends Ys{constructor(t,n,i){super(t),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new U;let t=new le;return this.encodeCompressedGtin(t,Nt.HEADER_SIZE),this.encodeCompressedWeight(t,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(t,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Nt.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let a=i%12+1;i/=12;let l=i;l/10==0&&t.append("0"),t.append(l),a/10==0&&t.append("0"),t.append(a),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")}checkWeight(t){return t%1e5}}Nt.HEADER_SIZE=7+1,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function vc(_){try{if(_.get(1))return new mi(_);if(!_.get(2))return new Xs(_);switch(gi.extractNumericValueFromBitArray(_,1,4)){case 4:return new Md(_);case 5:return new Ld(_)}switch(gi.extractNumericValueFromBitArray(_,1,5)){case 12:return new Jn(_);case 13:return new dn(_)}switch(gi.extractNumericValueFromBitArray(_,1,7)){case 56:return new Nt(_,"310","11");case 57:return new Nt(_,"320","11");case 58:return new Nt(_,"310","13");case 59:return new Nt(_,"320","13");case 60:return new Nt(_,"310","15");case 61:return new Nt(_,"320","15");case 62:return new Nt(_,"310","17");case 63:return new Nt(_,"320","17")}}catch(t){throw new O("unknown decoder: "+_)}}class _r{constructor(t,n,i,o){this.leftchar=t,this.rightchar=n,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,n){return t instanceof _r?_r.equalsOrNull(t.leftchar,n.leftchar)&&_r.equalsOrNull(t.rightchar,n.rightchar)&&_r.equalsOrNull(t.finderpattern,n.finderpattern):!1}static equalsOrNull(t,n){return t===null?n===null:_r.equals(t,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ha{constructor(t,n,i){this.pairs=t,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,n){return t instanceof ha?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1}checkEqualitity(t,n){if(!t||!n)return;let i;return t.forEach((o,a)=>{n.forEach(l=>{o.getLeftChar().getValue()===l.getLeftChar().getValue()&&o.getRightChar().getValue()===l.getRightChar().getValue()&&o.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(i=!0)})}),i}}class xe extends cn{constructor(t){super(...arguments),this.pairs=new Array(xe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return xe.constructResult(this.decodeRow2pairs(t,n))}catch(o){this.verbose}return this.pairs.length=0,this.startFromEven=!0,xe.constructResult(this.decodeRow2pairs(t,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(a){if(a instanceof U){if(!this.pairs.length)throw new U;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new U}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose}return t&&(this.rows=this.rows.reverse()),n}checkRows(t,n){for(let i=n;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let l of t)this.pairs.push(l.getPairs());if(this.pairs.push(o.getPairs()),!xe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(t);a.push(o);try{return this.checkRows(a,i+1)}catch(l){this.verbose}}throw new U}static isValidSequence(t){for(let n of xe.FINDER_PATTERN_SEQUENCES){if(t.length>n.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=n[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,n){let i=0,o=!1,a=!1;for(;i<this.rows.length;){let l=this.rows[i];if(l.getRowNumber()>t){a=l.isEquivalent(this.pairs);break}o=l.isEquivalent(this.pairs),i++}a||o||xe.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new ha(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,n){for(let i of n)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let a of t)if(_r.equals(o,a))break}}static isPartialRow(t,n){for(let i of n){let o=!0;for(let a of t){let l=!1;for(let d of i.getPairs())if(a.equals(d)){l=!0;break}if(!l){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let n=Dd.buildBitArray(t),o=vc(n).parseInformation(),a=t[0].getFinderPattern().getResultPoints(),l=t[t.length-1].getFinderPattern().getResultPoints(),d=[a[0],a[1],l[0],l[1]];return new Le(o,null,null,d,te.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),a=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);o+=h.getLeftChar().getChecksumPortion(),a++;let w=h.getRightChar();w!=null&&(o+=w.getChecksumPortion(),a++)}return o%=211,211*(a-4)+o==n.getValue()}static getNextSecondBar(t,n){let i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i}retrieveNextPair(t,n,i){let o=n.length%2==0;this.startFromEven&&(o=!o);let a,l=!0,d=-1;do this.findNextPair(t,n,d),a=this.parseFoundFinderPattern(t,i,o),a==null?d=xe.getNextSecondBar(t,this.startEnd[0]):l=!1;while(l);let h=this.decodeDataCharacter(t,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new U;let w;try{w=this.decodeDataCharacter(t,a,o,!1)}catch(C){w=null,this.verbose}return new _r(h,w,a,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),l;i>=0?l=i:this.isEmptyPair(n)?l=0:l=n[n.length-1].getFinderPattern().getStartEnd()[1];let d=n.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;l<a&&(h=!t.get(l),!!h);)l++;let w=0,C=l;for(let I=l;I<a;I++)if(t.get(I)!=h)o[w]++;else{if(w==3){if(d&&xe.reverseCounters(o),xe.isFinderPattern(o)){this.startEnd[0]=C,this.startEnd[1]=I;return}d&&xe.reverseCounters(o),C+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,w--}else w++;o[w]=1,h=!h}throw new U}static reverseCounters(t){let n=t.length;for(let i=0;i<n/2;++i){let o=t[i];t[i]=t[n-i-1],t[n-i-1]=o}}parseFoundFinderPattern(t,n,i){let o,a,l;if(i){let w=this.startEnd[0]-1;for(;w>=0&&!t.get(w);)w--;w++,o=this.startEnd[0]-w,a=w,l=this.startEnd[1]}else a=this.startEnd[0],l=t.getNextUnset(this.startEnd[1]+1),o=l-this.startEnd[1];let d=this.getDecodeFinderCounters();k.arraycopy(d,0,d,1,d.length-1),d[0]=o;let h;try{h=this.parseFinderValue(d,xe.FINDER_PATTERNS)}catch(w){return null}return new Gs(h,[a,l],a,l,n)}decodeDataCharacter(t,n,i,o){let a=this.getDataCharacterCounters();for(let Ct=0;Ct<a.length;Ct++)a[Ct]=0;if(o)xe.recordPatternInReverse(t,n.getStartEnd()[0],a);else{xe.recordPattern(t,n.getStartEnd()[1],a);for(let Ct=0,rn=a.length-1;Ct<rn;Ct++,rn--){let _n=a[Ct];a[Ct]=a[rn],a[rn]=_n}}let l=17,d=he.sum(new Int32Array(a))/l,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new U;let w=this.getOddCounts(),C=this.getEvenCounts(),I=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let Ct=0;Ct<a.length;Ct++){let rn=1*a[Ct]/d,_n=rn+.5;if(_n<1){if(rn<.3)throw new U;_n=1}else if(_n>8){if(rn>8.7)throw new U;_n=8}let Ci=Ct/2;Ct&1?(C[Ci]=_n,v[Ci]=rn-_n):(w[Ci]=_n,I[Ci]=rn-_n)}this.adjustOddEvenCounts(l);let R=4*n.getValue()+(i?0:2)+(o?0:1)-1,H=0,Y=0;for(let Ct=w.length-1;Ct>=0;Ct--){if(xe.isNotA1left(n,i,o)){let rn=xe.WEIGHTS[R][2*Ct];Y+=w[Ct]*rn}H+=w[Ct]}let Z=0;for(let Ct=C.length-1;Ct>=0;Ct--)if(xe.isNotA1left(n,i,o)){let rn=xe.WEIGHTS[R][2*Ct+1];Z+=C[Ct]*rn}let ie=Y+Z;if(H&1||H>13||H<4)throw new U;let ye=(13-H)/2,_e=xe.SYMBOL_WIDEST[ye],Ce=9-_e,rt=qn.getRSSvalue(w,_e,!0),je=qn.getRSSvalue(C,Ce,!1),pn=xe.EVEN_TOTAL_SUBSET[ye],Xn=xe.GSUM[ye],Cn=rt*pn+je+Xn;return new hi(Cn,ie)}static isNotA1left(t,n,i){return!(t.getValue()==0&&n&&i)}adjustOddEvenCounts(t){let n=he.sum(new Int32Array(this.getOddCounts())),i=he.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);let l=!1,d=!1;i>13?d=!0:i<4&&(l=!0);let h=n+i-t,w=(n&1)==1,C=(i&1)==0;if(h==1)if(w){if(C)throw new U;a=!0}else{if(!C)throw new U;d=!0}else if(h==-1)if(w){if(C)throw new U;o=!0}else{if(!C)throw new U;l=!0}else if(h==0){if(w){if(!C)throw new U;n<i?(o=!0,d=!0):(a=!0,l=!0)}else if(C)throw new U}else throw new U;if(o){if(a)throw new U;xe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&xe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(d)throw new U;xe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&xe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xe.SYMBOL_WIDEST=[7,5,4,3,1],xe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],xe.GSUM=[0,348,1388,2948,3988],xe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],xe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],xe.FINDER_PAT_A=0,xe.FINDER_PAT_B=1,xe.FINDER_PAT_C=2,xe.FINDER_PAT_D=3,xe.FINDER_PAT_E=4,xe.FINDER_PAT_F=5,xe.FINDER_PATTERN_SEQUENCES=[[xe.FINDER_PAT_A,xe.FINDER_PAT_A],[xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B],[xe.FINDER_PAT_A,xe.FINDER_PAT_C,xe.FINDER_PAT_B,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_C],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F]],xe.MAX_PAIRS=11;class Pd extends hi{constructor(t,n,i){super(t,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Lt extends cn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,n,i){const o=this.decodePair(n,!1,t,i);Lt.addOrTally(this.possibleLeftPairs,o),n.reverse();let a=this.decodePair(n,!0,t,i);Lt.addOrTally(this.possibleRightPairs,a),n.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&Lt.checkChecksum(l,d))return Lt.constructResult(l,d)}throw new U}static addOrTally(t,n){if(n==null)return;let i=!1;for(let o of t)if(o.getValue()===n.getValue()){o.incrementCount(),i=!0;break}i||t.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,n){let i=4537077*t.getValue()+n.getValue(),o=new String(i).toString(),a=new le;for(let w=13-o.length;w>0;w--)a.append("0");a.append(o);let l=0;for(let w=0;w<13;w++){let C=a.charAt(w).charCodeAt(0)-"0".charCodeAt(0);l+=w&1?C:3*C}l=10-l%10,l===10&&(l=0),a.append(l.toString());let d=t.getFinderPattern().getResultPoints(),h=n.getFinderPattern().getResultPoints();return new Le(a.toString(),null,0,[d[0],d[1],h[0],h[1]],te.RSS_14,new Date().getTime())}static checkChecksum(t,n){let i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,n,i,o){try{let a=this.findFinderPattern(t,n),l=this.parseFoundFinderPattern(t,i,n,a),d=o==null?null:o.get(W.NEED_RESULT_POINT_CALLBACK);if(d!=null){let C=(a[0]+a[1])/2;n&&(C=t.getSize()-1-C),d.foundPossibleResultPoint(new J(C,i))}let h=this.decodeDataCharacter(t,l,!0),w=this.decodeDataCharacter(t,l,!1);return new Pd(1597*h.getValue()+w.getValue(),h.getChecksumPortion()+4*w.getChecksumPortion(),l)}catch(a){return null}}decodeDataCharacter(t,n,i){let o=this.getDataCharacterCounters();for(let Z=0;Z<o.length;Z++)o[Z]=0;if(i)Rt.recordPatternInReverse(t,n.getStartEnd()[0],o);else{Rt.recordPattern(t,n.getStartEnd()[1]+1,o);for(let Z=0,ie=o.length-1;Z<ie;Z++,ie--){let ye=o[Z];o[Z]=o[ie],o[ie]=ye}}let a=i?16:15,l=he.sum(new Int32Array(o))/a,d=this.getOddCounts(),h=this.getEvenCounts(),w=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Z=0;Z<o.length;Z++){let ie=o[Z]/l,ye=Math.floor(ie+.5);ye<1?ye=1:ye>8&&(ye=8);let _e=Math.floor(Z/2);Z&1?(h[_e]=ye,C[_e]=ie-ye):(d[_e]=ye,w[_e]=ie-ye)}this.adjustOddEvenCounts(i,a);let I=0,v=0;for(let Z=d.length-1;Z>=0;Z--)v*=9,v+=d[Z],I+=d[Z];let R=0,H=0;for(let Z=h.length-1;Z>=0;Z--)R*=9,R+=h[Z],H+=h[Z];let Y=v+3*R;if(i){if(I&1||I>12||I<4)throw new U;let Z=(12-I)/2,ie=Lt.OUTSIDE_ODD_WIDEST[Z],ye=9-ie,_e=qn.getRSSvalue(d,ie,!1),Ce=qn.getRSSvalue(h,ye,!0),rt=Lt.OUTSIDE_EVEN_TOTAL_SUBSET[Z],je=Lt.OUTSIDE_GSUM[Z];return new hi(_e*rt+Ce+je,Y)}else{if(H&1||H>10||H<4)throw new U;let Z=(10-H)/2,ie=Lt.INSIDE_ODD_WIDEST[Z],ye=9-ie,_e=qn.getRSSvalue(d,ie,!0),Ce=qn.getRSSvalue(h,ye,!1),rt=Lt.INSIDE_ODD_TOTAL_SUBSET[Z],je=Lt.INSIDE_GSUM[Z];return new hi(Ce*rt+_e+je,Y)}}findFinderPattern(t,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),a=!1,l=0;for(;l<o&&(a=!t.get(l),n!==a);)l++;let d=0,h=l;for(let w=l;w<o;w++)if(t.get(w)!==a)i[d]++;else{if(d===3){if(cn.isFinderPattern(i))return[h,w];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,d--}else d++;i[d]=1,a=!a}throw new U}parseFoundFinderPattern(t,n,i,o){let a=t.get(o[0]),l=o[0]-1;for(;l>=0&&a!==t.get(l);)l--;l++;const d=o[0]-l,h=this.getDecodeFinderCounters(),w=new Int32Array(h.length);k.arraycopy(h,0,w,1,h.length-1),w[0]=d;const C=this.parseFinderValue(w,Lt.FINDER_PATTERNS);let I=l,v=o[1];return i&&(I=t.getSize()-1-I,v=t.getSize()-1-v),new Gs(C,[l,o[1]],I,v,n)}adjustOddEvenCounts(t,n){let i=he.sum(new Int32Array(this.getOddCounts())),o=he.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1,d=!1,h=!1;t?(i>12?l=!0:i<4&&(a=!0),o>12?h=!0:o<4&&(d=!0)):(i>11?l=!0:i<5&&(a=!0),o>10?h=!0:o<4&&(d=!0));let w=i+o-n,C=(i&1)===(t?1:0),I=(o&1)===1;if(w===1)if(C){if(I)throw new U;l=!0}else{if(!I)throw new U;h=!0}else if(w===-1)if(C){if(I)throw new U;a=!0}else{if(!I)throw new U;d=!0}else if(w===0){if(C){if(!I)throw new U;i<o?(a=!0,h=!0):(l=!0,d=!0)}else if(I)throw new U}else throw new U;if(a){if(l)throw new U;cn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&cn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new U;cn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&cn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Lt.OUTSIDE_GSUM=[0,161,961,2015,2715],Lt.INSIDE_GSUM=[0,336,1036,1516],Lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Lt.INSIDE_ODD_WIDEST=[2,4,6,8],Lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xi extends Rt{constructor(t,n){super(),this.readers=[],this.verbose=n===!0;const i=t?t.get(W.POSSIBLE_FORMATS):null,o=t&&t.get(W.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(te.EAN_13)||i.includes(te.UPC_A)||i.includes(te.EAN_8)||i.includes(te.UPC_E))&&this.readers.push(new ua(t)),i.includes(te.CODE_39)&&this.readers.push(new Mt(o)),i.includes(te.CODE_128)&&this.readers.push(new Ie),i.includes(te.ITF)&&this.readers.push(new Ze),i.includes(te.RSS_14)&&this.readers.push(new Lt),i.includes(te.RSS_EXPANDED)&&this.readers.push(new xe(this.verbose))):(this.readers.push(new ua(t)),this.readers.push(new Mt),this.readers.push(new ua(t)),this.readers.push(new Ie),this.readers.push(new Ze),this.readers.push(new Lt),this.readers.push(new xe(this.verbose)))}decodeRow(t,n,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,n,i)}catch(a){}throw new U}reset(){this.readers.forEach(t=>t.reset())}}class Bd extends me{constructor(t=500,n){super(new xi(n),t,n)}}class mt{constructor(t,n,i){this.ecCodewords=t,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class gt{constructor(t,n){this.count=t,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class it{constructor(t,n,i,o,a,l){this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=a,this.ecBlocks=l;let d=0;const h=l.getECCodewords(),w=l.getECBlocks();for(let C of w)d+=C.getCount()*(C.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,n){if(t&1||n&1)throw new P;for(let i of it.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===n)return i;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new it(1,10,10,8,8,new mt(5,new gt(1,3))),new it(2,12,12,10,10,new mt(7,new gt(1,5))),new it(3,14,14,12,12,new mt(10,new gt(1,8))),new it(4,16,16,14,14,new mt(12,new gt(1,12))),new it(5,18,18,16,16,new mt(14,new gt(1,18))),new it(6,20,20,18,18,new mt(18,new gt(1,22))),new it(7,22,22,20,20,new mt(20,new gt(1,30))),new it(8,24,24,22,22,new mt(24,new gt(1,36))),new it(9,26,26,24,24,new mt(28,new gt(1,44))),new it(10,32,32,14,14,new mt(36,new gt(1,62))),new it(11,36,36,16,16,new mt(42,new gt(1,86))),new it(12,40,40,18,18,new mt(48,new gt(1,114))),new it(13,44,44,20,20,new mt(56,new gt(1,144))),new it(14,48,48,22,22,new mt(68,new gt(1,174))),new it(15,52,52,24,24,new mt(42,new gt(2,102))),new it(16,64,64,14,14,new mt(56,new gt(2,140))),new it(17,72,72,16,16,new mt(36,new gt(4,92))),new it(18,80,80,18,18,new mt(48,new gt(4,114))),new it(19,88,88,20,20,new mt(56,new gt(4,144))),new it(20,96,96,22,22,new mt(68,new gt(4,174))),new it(21,104,104,24,24,new mt(56,new gt(6,136))),new it(22,120,120,18,18,new mt(68,new gt(6,175))),new it(23,132,132,20,20,new mt(62,new gt(8,163))),new it(24,144,144,22,22,new mt(62,new gt(8,156),new gt(2,155))),new it(25,8,18,6,16,new mt(7,new gt(1,5))),new it(26,8,32,6,14,new mt(11,new gt(1,10))),new it(27,12,26,10,24,new mt(14,new gt(1,16))),new it(28,12,36,10,16,new mt(18,new gt(1,22))),new it(29,16,36,14,16,new mt(24,new gt(1,32))),new it(30,16,48,14,22,new mt(28,new gt(1,49)))]}}it.VERSIONS=it.buildVersions();class ga{constructor(t){const n=t.getHeight();if(n<8||n>144||n&1)throw new P;this.version=ga.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const n=t.getHeight(),i=t.getWidth();return it.getVersionForDimensions(n,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,o=0;const a=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let d=!1,h=!1,w=!1,C=!1;do if(i===a&&o===0&&!d)t[n++]=this.readCorner1(a,l)&255,i-=2,o+=2,d=!0;else if(i===a-2&&o===0&&l&3&&!h)t[n++]=this.readCorner2(a,l)&255,i-=2,o+=2,h=!0;else if(i===a+4&&o===2&&!(l&7)&&!w)t[n++]=this.readCorner3(a,l)&255,i-=2,o+=2,w=!0;else if(i===a-2&&o===0&&(l&7)===4&&!C)t[n++]=this.readCorner4(a,l)&255,i-=2,o+=2,C=!0;else{do i<a&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[n++]=this.readUtah(i,o,a,l)&255),i-=2,o+=2;while(i>=0&&o<l);i+=1,o+=3;do i>=0&&o<l&&!this.readMappingMatrix.get(o,i)&&(t[n++]=this.readUtah(i,o,a,l)&255),i+=2,o-=2;while(i<a&&o>=0);i+=3,o+=1}while(i<a||o<l);if(n!==this.version.getTotalCodewords())throw new P;return t}readModule(t,n,i,o){return t<0&&(t+=i,n+=4-(i+4&7)),n<0&&(n+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)}readUtah(t,n,i,o){let a=0;return this.readModule(t-2,n-2,i,o)&&(a|=1),a<<=1,this.readModule(t-2,n-1,i,o)&&(a|=1),a<<=1,this.readModule(t-1,n-2,i,o)&&(a|=1),a<<=1,this.readModule(t-1,n-1,i,o)&&(a|=1),a<<=1,this.readModule(t-1,n,i,o)&&(a|=1),a<<=1,this.readModule(t,n-2,i,o)&&(a|=1),a<<=1,this.readModule(t,n-1,i,o)&&(a|=1),a<<=1,this.readModule(t,n,i,o)&&(a|=1),a}readCorner1(t,n){let i=0;return this.readModule(t-1,0,t,n)&&(i|=1),i<<=1,this.readModule(t-1,1,t,n)&&(i|=1),i<<=1,this.readModule(t-1,2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-1,t,n)&&(i|=1),i<<=1,this.readModule(1,n-1,t,n)&&(i|=1),i<<=1,this.readModule(2,n-1,t,n)&&(i|=1),i<<=1,this.readModule(3,n-1,t,n)&&(i|=1),i}readCorner2(t,n){let i=0;return this.readModule(t-3,0,t,n)&&(i|=1),i<<=1,this.readModule(t-2,0,t,n)&&(i|=1),i<<=1,this.readModule(t-1,0,t,n)&&(i|=1),i<<=1,this.readModule(0,n-4,t,n)&&(i|=1),i<<=1,this.readModule(0,n-3,t,n)&&(i|=1),i<<=1,this.readModule(0,n-2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-1,t,n)&&(i|=1),i<<=1,this.readModule(1,n-1,t,n)&&(i|=1),i}readCorner3(t,n){let i=0;return this.readModule(t-1,0,t,n)&&(i|=1),i<<=1,this.readModule(t-1,n-1,t,n)&&(i|=1),i<<=1,this.readModule(0,n-3,t,n)&&(i|=1),i<<=1,this.readModule(0,n-2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-1,t,n)&&(i|=1),i<<=1,this.readModule(1,n-3,t,n)&&(i|=1),i<<=1,this.readModule(1,n-2,t,n)&&(i|=1),i<<=1,this.readModule(1,n-1,t,n)&&(i|=1),i}readCorner4(t,n){let i=0;return this.readModule(t-3,0,t,n)&&(i|=1),i<<=1,this.readModule(t-2,0,t,n)&&(i|=1),i<<=1,this.readModule(t-1,0,t,n)&&(i|=1),i<<=1,this.readModule(0,n-2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-1,t,n)&&(i|=1),i<<=1,this.readModule(1,n-1,t,n)&&(i|=1),i<<=1,this.readModule(2,n-1,t,n)&&(i|=1),i<<=1,this.readModule(3,n-1,t,n)&&(i|=1),i}extractDataRegion(t){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new b("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),l=n/o|0,d=i/a|0,h=l*o,w=d*a,C=new be(w,h);for(let I=0;I<l;++I){const v=I*o;for(let R=0;R<d;++R){const H=R*a;for(let Y=0;Y<o;++Y){const Z=I*(o+2)+1+Y,ie=v+Y;for(let ye=0;ye<a;++ye){const _e=R*(a+2)+1+ye;if(t.get(_e,Z)){const Ce=H+ye;C.set(Ce,ie)}}}}}return C}}class ma{constructor(t,n){this.numDataCodewords=t,this.codewords=n}static getDataBlocks(t,n){const i=n.getECBlocks();let o=0;const a=i.getECBlocks();for(let Y of a)o+=Y.getCount();const l=new Array(o);let d=0;for(let Y of a)for(let Z=0;Z<Y.getCount();Z++){const ie=Y.getDataCodewords(),ye=i.getECCodewords()+ie;l[d++]=new ma(ie,new Uint8Array(ye))}const w=l[0].codewords.length-i.getECCodewords(),C=w-1;let I=0;for(let Y=0;Y<C;Y++)for(let Z=0;Z<d;Z++)l[Z].codewords[Y]=t[I++];const v=n.getVersionNumber()===24,R=v?8:d;for(let Y=0;Y<R;Y++)l[Y].codewords[w-1]=t[I++];const H=l[0].codewords.length;for(let Y=w;Y<H;Y++)for(let Z=0;Z<d;Z++){const ie=v?(Z+8)%d:Z,ye=v&&ie>7?Y-1:Y;l[ie].codewords[ye]=t[I++]}if(I!==t.length)throw new b;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class xa{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new b(""+t);let n=0,i=this.bitOffset,o=this.byteOffset;const a=this.bytes;if(i>0){const l=8-i,d=t<l?t:l,h=l-d,w=255>>8-d<<h;n=(a[o]&w)>>h,t-=d,i+=d,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)n=n<<8|a[o]&255,o++,t-=8;if(t>0){const l=8-t,d=255>>l<<l;n=n<<t|(a[o]&d)>>l,i+=t}}return this.bitOffset=i,this.byteOffset=o,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ht;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ht||(Ht={}));class Ir{static decode(t){const n=new xa(t),i=new le,o=new le,a=new Array;let l=Ht.ASCII_ENCODE;do if(l===Ht.ASCII_ENCODE)l=this.decodeAsciiSegment(n,i,o);else{switch(l){case Ht.C40_ENCODE:this.decodeC40Segment(n,i);break;case Ht.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case Ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case Ht.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case Ht.BASE256_ENCODE:this.decodeBase256Segment(n,i,a);break;default:throw new P}l=Ht.ASCII_ENCODE}while(l!==Ht.PAD_ENCODE&&n.available()>0);return o.length()>0&&i.append(o.toString()),new Ve(t,i.toString(),a.length===0?null:a,null)}static decodeAsciiSegment(t,n,i){let o=!1;do{let a=t.readBits(8);if(a===0)throw new P;if(a<=128)return o&&(a+=128),n.append(String.fromCharCode(a-1)),Ht.ASCII_ENCODE;if(a===129)return Ht.PAD_ENCODE;if(a<=229){const l=a-130;l<10&&n.append("0"),n.append(""+l)}else switch(a){case 230:return Ht.C40_ENCODE;case 231:return Ht.BASE256_ENCODE;case 232:n.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return Ht.ANSIX12_ENCODE;case 239:return Ht.TEXT_ENCODE;case 240:return Ht.EDIFACT_ENCODE;case 241:break;default:if(a!==254||t.available()!==0)throw new P;break}}while(t.available()>0);return Ht.ASCII_ENCODE}static decodeC40Segment(t,n){let i=!1;const o=[];let a=0;do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(a){case 0:if(h<3)a=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[h];i?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):n.append(w)}else throw new P;break;case 1:i?(n.append(String.fromCharCode(h+128)),i=!1):n.append(String.fromCharCode(h)),a=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[h];i?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):n.append(w)}else switch(h){case 27:n.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new P}a=0;break;case 3:i?(n.append(String.fromCharCode(h+224)),i=!1):n.append(String.fromCharCode(h+96)),a=0;break;default:throw new P}}}while(t.available()>0)}static decodeTextSegment(t,n){let i=!1,o=[],a=0;do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(a){case 0:if(h<3)a=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[h];i?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):n.append(w)}else throw new P;break;case 1:i?(n.append(String.fromCharCode(h+128)),i=!1):n.append(String.fromCharCode(h)),a=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[h];i?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):n.append(w)}else switch(h){case 27:n.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new P}a=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[h];i?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):n.append(w),a=0}else throw new P;break;default:throw new P}}}while(t.available()>0)}static decodeAnsiX12Segment(t,n){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let a=0;a<3;a++){const l=i[a];switch(l){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(l<14)n.append(String.fromCharCode(l+44));else if(l<40)n.append(String.fromCharCode(l+51));else throw new P;break}}}while(t.available()>0)}static parseTwoBytes(t,n,i){let o=(t<<8)+n-1,a=Math.floor(o/1600);i[0]=a,o-=a*1600,a=Math.floor(o/40),i[1]=a,i[2]=o-a*40}static decodeEdifactSegment(t,n){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const a=8-t.getBitOffset();a!==8&&t.readBits(a);return}o&32||(o|=64),n.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,n,i){let o=1+t.getByteOffset();const a=this.unrandomize255State(t.readBits(8),o++);let l;if(a===0?l=t.available()/8|0:a<250?l=a:l=250*(a-249)+this.unrandomize255State(t.readBits(8),o++),l<0)throw new P;const d=new Uint8Array(l);for(let h=0;h<l;h++){if(t.available()<8)throw new P;d[h]=this.unrandomize255State(t.readBits(8),o++)}i.push(d);try{n.append(Ae.decode(d,z.ISO88591))}catch(h){throw new O("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,n){const i=149*n%255+1,o=t-i;return o>=0?o:o+256}}Ir.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ir.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ir.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ir.TEXT_SHIFT2_SET_CHARS=Ir.C40_SHIFT2_SET_CHARS,Ir.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class kd{constructor(){this.rsDecoder=new K(A.DATA_MATRIX_FIELD_256)}decode(t){const n=new ga(t),i=n.getVersion(),o=n.readCodewords(),a=ma.getDataBlocks(o,i);let l=0;for(let w of a)l+=w.getNumDataCodewords();const d=new Uint8Array(l),h=a.length;for(let w=0;w<h;w++){const C=a[w],I=C.getCodewords(),v=C.getNumDataCodewords();this.correctErrors(I,v);for(let R=0;R<v;R++)d[R*h+w]=I[R]}return Ir.decode(d)}correctErrors(t,n){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-n)}catch(o){throw new S}for(let o=0;o<n;o++)t[o]=i[o]}}class Ft{constructor(t){this.image=t,this.rectangleDetector=new ve(this.image)}detect(){const t=this.rectangleDetector.detect();let n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new U;n=this.shiftToModuleCenter(n);const i=n[0],o=n[1],a=n[2],l=n[3];let d=this.transitionsBetween(i,l)+1,h=this.transitionsBetween(a,l)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let w=Ft.sampleGrid(this.image,i,o,a,l,d,h);return new X(w,[i,o,a,l])}static shiftPoint(t,n,i){let o=(n.getX()-t.getX())/(i+1),a=(n.getY()-t.getY())/(i+1);return new J(t.getX()+o,t.getY()+a)}static moveAway(t,n,i){let o=t.getX(),a=t.getY();return o<n?o-=1:o+=1,a<i?a-=1:a+=1,new J(o,a)}detectSolid1(t){let n=t[0],i=t[1],o=t[3],a=t[2],l=this.transitionsBetween(n,i),d=this.transitionsBetween(i,o),h=this.transitionsBetween(o,a),w=this.transitionsBetween(a,n),C=l,I=[a,n,i,o];return C>d&&(C=d,I[0]=n,I[1]=i,I[2]=o,I[3]=a),C>h&&(C=h,I[0]=i,I[1]=o,I[2]=a,I[3]=n),C>w&&(I[0]=o,I[1]=a,I[2]=n,I[3]=i),I}detectSolid2(t){let n=t[0],i=t[1],o=t[2],a=t[3],l=this.transitionsBetween(n,a),d=Ft.shiftPoint(i,o,(l+1)*4),h=Ft.shiftPoint(o,i,(l+1)*4),w=this.transitionsBetween(d,n),C=this.transitionsBetween(h,a);return w<C?(t[0]=n,t[1]=i,t[2]=o,t[3]=a):(t[0]=i,t[1]=o,t[2]=a,t[3]=n),t}correctTopRight(t){let n=t[0],i=t[1],o=t[2],a=t[3],l=this.transitionsBetween(n,a),d=this.transitionsBetween(i,a),h=Ft.shiftPoint(n,i,(d+1)*4),w=Ft.shiftPoint(o,i,(l+1)*4);l=this.transitionsBetween(h,a),d=this.transitionsBetween(w,a);let C=new J(a.getX()+(o.getX()-i.getX())/(l+1),a.getY()+(o.getY()-i.getY())/(l+1)),I=new J(a.getX()+(n.getX()-i.getX())/(d+1),a.getY()+(n.getY()-i.getY())/(d+1));if(!this.isValid(C))return this.isValid(I)?I:null;if(!this.isValid(I))return C;let v=this.transitionsBetween(h,C)+this.transitionsBetween(w,C),R=this.transitionsBetween(h,I)+this.transitionsBetween(w,I);return v>R?C:I}shiftToModuleCenter(t){let n=t[0],i=t[1],o=t[2],a=t[3],l=this.transitionsBetween(n,a)+1,d=this.transitionsBetween(o,a)+1,h=Ft.shiftPoint(n,i,d*4),w=Ft.shiftPoint(o,i,l*4);l=this.transitionsBetween(h,a)+1,d=this.transitionsBetween(w,a)+1,(l&1)===1&&(l+=1),(d&1)===1&&(d+=1);let C=(n.getX()+i.getX()+o.getX()+a.getX())/4,I=(n.getY()+i.getY()+o.getY()+a.getY())/4;n=Ft.moveAway(n,C,I),i=Ft.moveAway(i,C,I),o=Ft.moveAway(o,C,I),a=Ft.moveAway(a,C,I);let v,R;return h=Ft.shiftPoint(n,i,d*4),h=Ft.shiftPoint(h,a,l*4),v=Ft.shiftPoint(i,n,d*4),v=Ft.shiftPoint(v,o,l*4),w=Ft.shiftPoint(o,a,d*4),w=Ft.shiftPoint(w,i,l*4),R=Ft.shiftPoint(a,o,d*4),R=Ft.shiftPoint(R,n,l*4),[h,v,w,R]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,n,i,o,a,l,d){return Qe.getInstance().sampleGrid(t,l,d,.5,.5,l-.5,.5,l-.5,d-.5,.5,d-.5,n.getX(),n.getY(),a.getX(),a.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,n){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),a=Math.trunc(n.getX()),l=Math.trunc(n.getY()),d=Math.abs(l-o)>Math.abs(a-i);if(d){let Y=i;i=o,o=Y,Y=a,a=l,l=Y}let h=Math.abs(a-i),w=Math.abs(l-o),C=-h/2,I=o<l?1:-1,v=i<a?1:-1,R=0,H=this.image.get(d?o:i,d?i:o);for(let Y=i,Z=o;Y!==a;Y+=v){let ie=this.image.get(d?Z:Y,d?Y:Z);if(ie!==H&&(R++,H=ie),C+=w,C>0){if(Z===l)break;Z+=I,C-=h}}return R}}class Tr{constructor(){this.decoder=new kd}decode(t,n=null){let i,o;if(n!=null&&n.has(W.PURE_BARCODE)){const w=Tr.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(w),o=Tr.NO_POINTS}else{const w=new Ft(t.getBlackMatrix()).detect();i=this.decoder.decode(w.getBits()),o=w.getPoints()}const a=i.getRawBytes(),l=new Le(i.getText(),a,8*a.length,o,te.DATA_MATRIX,k.currentTimeMillis()),d=i.getByteSegments();d!=null&&l.putMetadata(Ee.BYTE_SEGMENTS,d);const h=i.getECLevel();return h!=null&&l.putMetadata(Ee.ERROR_CORRECTION_LEVEL,h),l}reset(){}static extractPureBits(t){const n=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(n==null||i==null)throw new U;const o=this.moduleSize(n,t);let a=n[1];const l=i[1];let d=n[0];const w=(i[0]-d+1)/o,C=(l-a+1)/o;if(w<=0||C<=0)throw new U;const I=o/2;a+=I,d+=I;const v=new be(w,C);for(let R=0;R<C;R++){const H=a+R*o;for(let Y=0;Y<w;Y++)t.get(d+Y*o,H)&&v.set(Y,R)}return v}static moduleSize(t,n){const i=n.getWidth();let o=t[0];const a=t[1];for(;o<i&&n.get(o,a);)o++;if(o===i)throw new U;const l=o-t[0];if(l===0)throw new U;return l}}Tr.NO_POINTS=[];class Fd extends me{constructor(t=500){super(new Tr,t)}}var wi;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(wi||(wi={}));class yt{constructor(t,n,i){this.value=t,this.stringValue=n,this.bits=i,yt.FOR_BITS.set(i,this),yt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return yt.L;case"M":return yt.M;case"Q":return yt.Q;case"H":return yt.H;default:throw new p(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof yt))return!1;const n=t;return this.value===n.value}static forBits(t){if(t<0||t>=yt.FOR_BITS.size)throw new b;return yt.FOR_BITS.get(t)}}yt.FOR_BITS=new Map,yt.FOR_VALUE=new Map,yt.L=new yt(wi.L,"L",1),yt.M=new yt(wi.M,"M",0),yt.Q=new yt(wi.Q,"Q",3),yt.H=new yt(wi.H,"H",2);class un{constructor(t){this.errorCorrectionLevel=yt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,n){return L.bitCount(t^n)}static decodeFormatInformation(t,n){const i=un.doDecodeFormatInformation(t,n);return i!==null?i:un.doDecodeFormatInformation(t^un.FORMAT_INFO_MASK_QR,n^un.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,n){let i=Number.MAX_SAFE_INTEGER,o=0;for(const a of un.FORMAT_INFO_DECODE_LOOKUP){const l=a[0];if(l===t||l===n)return new un(a[1]);let d=un.numBitsDiffering(t,l);d<i&&(o=a[1],i=d),t!==n&&(d=un.numBitsDiffering(n,l),d<i&&(o=a[1],i=d))}return i<=3?new un(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof un))return!1;const n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}un.FORMAT_INFO_MASK_QR=21522,un.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ee{constructor(t,...n){this.ecCodewordsPerBlock=t,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const n=this.ecBlocks;for(const i of n)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class N{constructor(t,n){this.count=t,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ke{constructor(t,n,...i){this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=i;let o=0;const a=i[0].getECCodewordsPerBlock(),l=i[0].getECBlocks();for(const d of l)o+=d.getCount()*(d.getDataCodewords()+a);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new P;try{return this.getVersionForNumber((t-17)/4)}catch(n){throw new P}}static getVersionForNumber(t){if(t<1||t>40)throw new b;return ke.VERSIONS[t-1]}static decodeVersionInformation(t){let n=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<ke.VERSION_DECODE_INFO.length;o++){const a=ke.VERSION_DECODE_INFO[o];if(a===t)return ke.getVersionForNumber(o+7);const l=un.numBitsDiffering(t,a);l<n&&(i=o+7,n=l)}return n<=3?ke.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),n=new be(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const a=this.alignmentPatternCenters[o]-2;for(let l=0;l<i;l++)o===0&&(l===0||l===i-1)||o===i-1&&l===0||n.setRegion(this.alignmentPatternCenters[l]-2,a,5,5)}return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n}toString(){return""+this.versionNumber}}ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ke.VERSIONS=[new ke(1,new Int32Array(0),new ee(7,new N(1,19)),new ee(10,new N(1,16)),new ee(13,new N(1,13)),new ee(17,new N(1,9))),new ke(2,Int32Array.from([6,18]),new ee(10,new N(1,34)),new ee(16,new N(1,28)),new ee(22,new N(1,22)),new ee(28,new N(1,16))),new ke(3,Int32Array.from([6,22]),new ee(15,new N(1,55)),new ee(26,new N(1,44)),new ee(18,new N(2,17)),new ee(22,new N(2,13))),new ke(4,Int32Array.from([6,26]),new ee(20,new N(1,80)),new ee(18,new N(2,32)),new ee(26,new N(2,24)),new ee(16,new N(4,9))),new ke(5,Int32Array.from([6,30]),new ee(26,new N(1,108)),new ee(24,new N(2,43)),new ee(18,new N(2,15),new N(2,16)),new ee(22,new N(2,11),new N(2,12))),new ke(6,Int32Array.from([6,34]),new ee(18,new N(2,68)),new ee(16,new N(4,27)),new ee(24,new N(4,19)),new ee(28,new N(4,15))),new ke(7,Int32Array.from([6,22,38]),new ee(20,new N(2,78)),new ee(18,new N(4,31)),new ee(18,new N(2,14),new N(4,15)),new ee(26,new N(4,13),new N(1,14))),new ke(8,Int32Array.from([6,24,42]),new ee(24,new N(2,97)),new ee(22,new N(2,38),new N(2,39)),new ee(22,new N(4,18),new N(2,19)),new ee(26,new N(4,14),new N(2,15))),new ke(9,Int32Array.from([6,26,46]),new ee(30,new N(2,116)),new ee(22,new N(3,36),new N(2,37)),new ee(20,new N(4,16),new N(4,17)),new ee(24,new N(4,12),new N(4,13))),new ke(10,Int32Array.from([6,28,50]),new ee(18,new N(2,68),new N(2,69)),new ee(26,new N(4,43),new N(1,44)),new ee(24,new N(6,19),new N(2,20)),new ee(28,new N(6,15),new N(2,16))),new ke(11,Int32Array.from([6,30,54]),new ee(20,new N(4,81)),new ee(30,new N(1,50),new N(4,51)),new ee(28,new N(4,22),new N(4,23)),new ee(24,new N(3,12),new N(8,13))),new ke(12,Int32Array.from([6,32,58]),new ee(24,new N(2,92),new N(2,93)),new ee(22,new N(6,36),new N(2,37)),new ee(26,new N(4,20),new N(6,21)),new ee(28,new N(7,14),new N(4,15))),new ke(13,Int32Array.from([6,34,62]),new ee(26,new N(4,107)),new ee(22,new N(8,37),new N(1,38)),new ee(24,new N(8,20),new N(4,21)),new ee(22,new N(12,11),new N(4,12))),new ke(14,Int32Array.from([6,26,46,66]),new ee(30,new N(3,115),new N(1,116)),new ee(24,new N(4,40),new N(5,41)),new ee(20,new N(11,16),new N(5,17)),new ee(24,new N(11,12),new N(5,13))),new ke(15,Int32Array.from([6,26,48,70]),new ee(22,new N(5,87),new N(1,88)),new ee(24,new N(5,41),new N(5,42)),new ee(30,new N(5,24),new N(7,25)),new ee(24,new N(11,12),new N(7,13))),new ke(16,Int32Array.from([6,26,50,74]),new ee(24,new N(5,98),new N(1,99)),new ee(28,new N(7,45),new N(3,46)),new ee(24,new N(15,19),new N(2,20)),new ee(30,new N(3,15),new N(13,16))),new ke(17,Int32Array.from([6,30,54,78]),new ee(28,new N(1,107),new N(5,108)),new ee(28,new N(10,46),new N(1,47)),new ee(28,new N(1,22),new N(15,23)),new ee(28,new N(2,14),new N(17,15))),new ke(18,Int32Array.from([6,30,56,82]),new ee(30,new N(5,120),new N(1,121)),new ee(26,new N(9,43),new N(4,44)),new ee(28,new N(17,22),new N(1,23)),new ee(28,new N(2,14),new N(19,15))),new ke(19,Int32Array.from([6,30,58,86]),new ee(28,new N(3,113),new N(4,114)),new ee(26,new N(3,44),new N(11,45)),new ee(26,new N(17,21),new N(4,22)),new ee(26,new N(9,13),new N(16,14))),new ke(20,Int32Array.from([6,34,62,90]),new ee(28,new N(3,107),new N(5,108)),new ee(26,new N(3,41),new N(13,42)),new ee(30,new N(15,24),new N(5,25)),new ee(28,new N(15,15),new N(10,16))),new ke(21,Int32Array.from([6,28,50,72,94]),new ee(28,new N(4,116),new N(4,117)),new ee(26,new N(17,42)),new ee(28,new N(17,22),new N(6,23)),new ee(30,new N(19,16),new N(6,17))),new ke(22,Int32Array.from([6,26,50,74,98]),new ee(28,new N(2,111),new N(7,112)),new ee(28,new N(17,46)),new ee(30,new N(7,24),new N(16,25)),new ee(24,new N(34,13))),new ke(23,Int32Array.from([6,30,54,78,102]),new ee(30,new N(4,121),new N(5,122)),new ee(28,new N(4,47),new N(14,48)),new ee(30,new N(11,24),new N(14,25)),new ee(30,new N(16,15),new N(14,16))),new ke(24,Int32Array.from([6,28,54,80,106]),new ee(30,new N(6,117),new N(4,118)),new ee(28,new N(6,45),new N(14,46)),new ee(30,new N(11,24),new N(16,25)),new ee(30,new N(30,16),new N(2,17))),new ke(25,Int32Array.from([6,32,58,84,110]),new ee(26,new N(8,106),new N(4,107)),new ee(28,new N(8,47),new N(13,48)),new ee(30,new N(7,24),new N(22,25)),new ee(30,new N(22,15),new N(13,16))),new ke(26,Int32Array.from([6,30,58,86,114]),new ee(28,new N(10,114),new N(2,115)),new ee(28,new N(19,46),new N(4,47)),new ee(28,new N(28,22),new N(6,23)),new ee(30,new N(33,16),new N(4,17))),new ke(27,Int32Array.from([6,34,62,90,118]),new ee(30,new N(8,122),new N(4,123)),new ee(28,new N(22,45),new N(3,46)),new ee(30,new N(8,23),new N(26,24)),new ee(30,new N(12,15),new N(28,16))),new ke(28,Int32Array.from([6,26,50,74,98,122]),new ee(30,new N(3,117),new N(10,118)),new ee(28,new N(3,45),new N(23,46)),new ee(30,new N(4,24),new N(31,25)),new ee(30,new N(11,15),new N(31,16))),new ke(29,Int32Array.from([6,30,54,78,102,126]),new ee(30,new N(7,116),new N(7,117)),new ee(28,new N(21,45),new N(7,46)),new ee(30,new N(1,23),new N(37,24)),new ee(30,new N(19,15),new N(26,16))),new ke(30,Int32Array.from([6,26,52,78,104,130]),new ee(30,new N(5,115),new N(10,116)),new ee(28,new N(19,47),new N(10,48)),new ee(30,new N(15,24),new N(25,25)),new ee(30,new N(23,15),new N(25,16))),new ke(31,Int32Array.from([6,30,56,82,108,134]),new ee(30,new N(13,115),new N(3,116)),new ee(28,new N(2,46),new N(29,47)),new ee(30,new N(42,24),new N(1,25)),new ee(30,new N(23,15),new N(28,16))),new ke(32,Int32Array.from([6,34,60,86,112,138]),new ee(30,new N(17,115)),new ee(28,new N(10,46),new N(23,47)),new ee(30,new N(10,24),new N(35,25)),new ee(30,new N(19,15),new N(35,16))),new ke(33,Int32Array.from([6,30,58,86,114,142]),new ee(30,new N(17,115),new N(1,116)),new ee(28,new N(14,46),new N(21,47)),new ee(30,new N(29,24),new N(19,25)),new ee(30,new N(11,15),new N(46,16))),new ke(34,Int32Array.from([6,34,62,90,118,146]),new ee(30,new N(13,115),new N(6,116)),new ee(28,new N(14,46),new N(23,47)),new ee(30,new N(44,24),new N(7,25)),new ee(30,new N(59,16),new N(1,17))),new ke(35,Int32Array.from([6,30,54,78,102,126,150]),new ee(30,new N(12,121),new N(7,122)),new ee(28,new N(12,47),new N(26,48)),new ee(30,new N(39,24),new N(14,25)),new ee(30,new N(22,15),new N(41,16))),new ke(36,Int32Array.from([6,24,50,76,102,128,154]),new ee(30,new N(6,121),new N(14,122)),new ee(28,new N(6,47),new N(34,48)),new ee(30,new N(46,24),new N(10,25)),new ee(30,new N(2,15),new N(64,16))),new ke(37,Int32Array.from([6,28,54,80,106,132,158]),new ee(30,new N(17,122),new N(4,123)),new ee(28,new N(29,46),new N(14,47)),new ee(30,new N(49,24),new N(10,25)),new ee(30,new N(24,15),new N(46,16))),new ke(38,Int32Array.from([6,32,58,84,110,136,162]),new ee(30,new N(4,122),new N(18,123)),new ee(28,new N(13,46),new N(32,47)),new ee(30,new N(48,24),new N(14,25)),new ee(30,new N(42,15),new N(32,16))),new ke(39,Int32Array.from([6,26,54,82,110,138,166]),new ee(30,new N(20,117),new N(4,118)),new ee(28,new N(40,47),new N(7,48)),new ee(30,new N(43,24),new N(22,25)),new ee(30,new N(10,15),new N(67,16))),new ke(40,Int32Array.from([6,30,58,86,114,142,170]),new ee(30,new N(19,118),new N(6,119)),new ee(28,new N(18,47),new N(31,48)),new ee(30,new N(34,24),new N(34,25)),new ee(30,new N(20,15),new N(61,16)))];var Zt;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(Zt||(Zt={}));class Dn{constructor(t,n){this.value=t,this.isMasked=n}unmaskBitMatrix(t,n){for(let i=0;i<n;i++)for(let o=0;o<n;o++)this.isMasked(i,o)&&t.flip(o,i)}}Dn.values=new Map([[Zt.DATA_MASK_000,new Dn(Zt.DATA_MASK_000,(_,t)=>(_+t&1)===0)],[Zt.DATA_MASK_001,new Dn(Zt.DATA_MASK_001,(_,t)=>(_&1)===0)],[Zt.DATA_MASK_010,new Dn(Zt.DATA_MASK_010,(_,t)=>t%3===0)],[Zt.DATA_MASK_011,new Dn(Zt.DATA_MASK_011,(_,t)=>(_+t)%3===0)],[Zt.DATA_MASK_100,new Dn(Zt.DATA_MASK_100,(_,t)=>(Math.floor(_/2)+Math.floor(t/3)&1)===0)],[Zt.DATA_MASK_101,new Dn(Zt.DATA_MASK_101,(_,t)=>_*t%6===0)],[Zt.DATA_MASK_110,new Dn(Zt.DATA_MASK_110,(_,t)=>_*t%6<3)],[Zt.DATA_MASK_111,new Dn(Zt.DATA_MASK_111,(_,t)=>(_+t+_*t%3&1)===0)]]);class Ud{constructor(t){const n=t.getHeight();if(n<21||(n&3)!==1)throw new P;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let a=0;a<6;a++)t=this.copyBit(a,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let a=5;a>=0;a--)t=this.copyBit(8,a,t);const n=this.bitMatrix.getHeight();let i=0;const o=n-7;for(let a=n-1;a>=o;a--)i=this.copyBit(8,a,i);for(let a=n-8;a<n;a++)i=this.copyBit(a,8,i);if(this.parsedFormatInfo=un.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return ke.getVersionForNumber(n);let i=0;const o=t-11;for(let l=5;l>=0;l--)for(let d=t-9;d>=o;d--)i=this.copyBit(d,l,i);let a=ke.decodeVersionInformation(i);if(a!==null&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;i=0;for(let l=5;l>=0;l--)for(let d=t-9;d>=o;d--)i=this.copyBit(l,d,i);if(a=ke.decodeVersionInformation(i),a!==null&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;throw new P}copyBit(t,n,i){return(this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),n=this.readVersion(),i=Dn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const a=n.buildFunctionPattern();let l=!0;const d=new Uint8Array(n.getTotalCodewords());let h=0,w=0,C=0;for(let I=o-1;I>0;I-=2){I===6&&I--;for(let v=0;v<o;v++){const R=l?o-1-v:v;for(let H=0;H<2;H++)a.get(I-H,R)||(C++,w<<=1,this.bitMatrix.get(I-H,R)&&(w|=1),C===8&&(d[h++]=w,C=0,w=0))}l=!l}if(h!==n.getTotalCodewords())throw new P;return d}remask(){if(this.parsedFormatInfo===null)return;const t=Dn.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let n=0,i=t.getWidth();n<i;n++)for(let o=n+1,a=t.getHeight();o<a;o++)t.get(n,o)!==t.get(o,n)&&(t.flip(o,n),t.flip(n,o))}}class wa{constructor(t,n){this.numDataCodewords=t,this.codewords=n}static getDataBlocks(t,n,i){if(t.length!==n.getTotalCodewords())throw new b;const o=n.getECBlocksForLevel(i);let a=0;const l=o.getECBlocks();for(const H of l)a+=H.getCount();const d=new Array(a);let h=0;for(const H of l)for(let Y=0;Y<H.getCount();Y++){const Z=H.getDataCodewords(),ie=o.getECCodewordsPerBlock()+Z;d[h++]=new wa(Z,new Uint8Array(ie))}const w=d[0].codewords.length;let C=d.length-1;for(;C>=0&&d[C].codewords.length!==w;)C--;C++;const I=w-o.getECCodewordsPerBlock();let v=0;for(let H=0;H<I;H++)for(let Y=0;Y<h;Y++)d[Y].codewords[H]=t[v++];for(let H=C;H<h;H++)d[H].codewords[I]=t[v++];const R=d[0].codewords.length;for(let H=I;H<R;H++)for(let Y=0;Y<h;Y++){const Z=Y<C?H:H+1;d[Y].codewords[Z]=t[v++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Mn;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})(Mn||(Mn={}));class Ue{constructor(t,n,i,o){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=o,Ue.FOR_BITS.set(o,this),Ue.FOR_VALUE.set(t,this)}static forBits(t){const n=Ue.FOR_BITS.get(t);if(n===void 0)throw new b;return n}getCharacterCountBits(t){const n=t.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ue))return!1;const n=t;return this.value===n.value}toString(){return this.stringValue}}Ue.FOR_BITS=new Map,Ue.FOR_VALUE=new Map,Ue.TERMINATOR=new Ue(Mn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ue.NUMERIC=new Ue(Mn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ue.ALPHANUMERIC=new Ue(Mn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ue.STRUCTURED_APPEND=new Ue(Mn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ue.BYTE=new Ue(Mn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ue.ECI=new Ue(Mn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ue.KANJI=new Ue(Mn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ue.FNC1_FIRST_POSITION=new Ue(Mn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ue.FNC1_SECOND_POSITION=new Ue(Mn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ue.HANZI=new Ue(Mn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Dt{static decode(t,n,i,o){const a=new xa(t);let l=new le;const d=new Array;let h=-1,w=-1;try{let C=null,I=!1,v;do{if(a.available()<4)v=Ue.TERMINATOR;else{const R=a.readBits(4);v=Ue.forBits(R)}switch(v){case Ue.TERMINATOR:break;case Ue.FNC1_FIRST_POSITION:case Ue.FNC1_SECOND_POSITION:I=!0;break;case Ue.STRUCTURED_APPEND:if(a.available()<16)throw new P;h=a.readBits(8),w=a.readBits(8);break;case Ue.ECI:const R=Dt.parseECIValue(a);if(C=$.getCharacterSetECIByValue(R),C===null)throw new P;break;case Ue.HANZI:const H=a.readBits(4),Y=a.readBits(v.getCharacterCountBits(n));H===Dt.GB2312_SUBSET&&Dt.decodeHanziSegment(a,l,Y);break;default:const Z=a.readBits(v.getCharacterCountBits(n));switch(v){case Ue.NUMERIC:Dt.decodeNumericSegment(a,l,Z);break;case Ue.ALPHANUMERIC:Dt.decodeAlphanumericSegment(a,l,Z,I);break;case Ue.BYTE:Dt.decodeByteSegment(a,l,Z,C,d,o);break;case Ue.KANJI:Dt.decodeKanjiSegment(a,l,Z);break;default:throw new P}break}}while(v!==Ue.TERMINATOR)}catch(C){throw new P}return new Ve(t,l.toString(),d.length===0?null:d,i===null?null:i.toString(),h,w)}static decodeHanziSegment(t,n,i){if(i*13>t.available())throw new P;const o=new Uint8Array(2*i);let a=0;for(;i>0;){const l=t.readBits(13);let d=l/96<<8&4294967295|l%96;d<959?d+=41377:d+=42657,o[a]=d>>8&255,o[a+1]=d&255,a+=2,i--}try{n.append(Ae.decode(o,z.GB2312))}catch(l){throw new P(l)}}static decodeKanjiSegment(t,n,i){if(i*13>t.available())throw new P;const o=new Uint8Array(2*i);let a=0;for(;i>0;){const l=t.readBits(13);let d=l/192<<8&4294967295|l%192;d<7936?d+=33088:d+=49472,o[a]=d>>8,o[a+1]=d,a+=2,i--}try{n.append(Ae.decode(o,z.SHIFT_JIS))}catch(l){throw new P(l)}}static decodeByteSegment(t,n,i,o,a,l){if(8*i>t.available())throw new P;const d=new Uint8Array(i);for(let w=0;w<i;w++)d[w]=t.readBits(8);let h;o===null?h=z.guessEncoding(d,l):h=o.getName();try{n.append(Ae.decode(d,h))}catch(w){throw new P(w)}a.push(d)}static toAlphaNumericChar(t){if(t>=Dt.ALPHANUMERIC_CHARS.length)throw new P;return Dt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,n,i,o){const a=n.length();for(;i>1;){if(t.available()<11)throw new P;const l=t.readBits(11);n.append(Dt.toAlphaNumericChar(Math.floor(l/45))),n.append(Dt.toAlphaNumericChar(l%45)),i-=2}if(i===1){if(t.available()<6)throw new P;n.append(Dt.toAlphaNumericChar(t.readBits(6)))}if(o)for(let l=a;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,String.fromCharCode(29)))}static decodeNumericSegment(t,n,i){for(;i>=3;){if(t.available()<10)throw new P;const o=t.readBits(10);if(o>=1e3)throw new P;n.append(Dt.toAlphaNumericChar(Math.floor(o/100))),n.append(Dt.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(Dt.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new P;const o=t.readBits(7);if(o>=100)throw new P;n.append(Dt.toAlphaNumericChar(Math.floor(o/10))),n.append(Dt.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new P;const o=t.readBits(4);if(o>=10)throw new P;n.append(Dt.toAlphaNumericChar(o))}}static parseECIValue(t){const n=t.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const i=t.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=t.readBits(16);return(n&31)<<16&4294967295|i}throw new P}}Dt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Dt.GB2312_SUBSET=1;class Sc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const n=t[0];t[0]=t[2],t[2]=n}}class Vd{constructor(){this.rsDecoder=new K(A.QR_CODE_FIELD_256)}decodeBooleanArray(t,n){return this.decodeBitMatrix(be.parseFromBooleanArray(t),n)}decodeBitMatrix(t,n){const i=new Ud(t);let o=null;try{return this.decodeBitMatrixParser(i,n)}catch(a){o=a}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const a=this.decodeBitMatrixParser(i,n);return a.setOther(new Sc(!0)),a}catch(a){throw o!==null?o:a}}decodeBitMatrixParser(t,n){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),a=t.readCodewords(),l=wa.getDataBlocks(a,i,o);let d=0;for(const C of l)d+=C.getNumDataCodewords();const h=new Uint8Array(d);let w=0;for(const C of l){const I=C.getCodewords(),v=C.getNumDataCodewords();this.correctErrors(I,v);for(let R=0;R<v;R++)h[w++]=I[R]}return Dt.decode(h,i,o,n)}correctErrors(t,n){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-n)}catch(o){throw new S}for(let o=0;o<n;o++)t[o]=i[o]}}class Ea extends J{constructor(t,n,i){super(t,n),this.estimatedModuleSize=i}aboutEquals(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,n,i){const o=(this.getX()+n)/2,a=(this.getY()+t)/2,l=(this.estimatedModuleSize+i)/2;return new Ea(o,a,l)}}class js{constructor(t,n,i,o,a,l,d){this.image=t,this.startX=n,this.startY=i,this.width=o,this.height=a,this.moduleSize=l,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,n=this.height,i=this.width,o=t+i,a=this.startY+n/2,l=new Int32Array(3),d=this.image;for(let h=0;h<n;h++){const w=a+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));l[0]=0,l[1]=0,l[2]=0;let C=t;for(;C<o&&!d.get(C,w);)C++;let I=0;for(;C<o;){if(d.get(C,w))if(I===1)l[1]++;else if(I===2){if(this.foundPatternCross(l)){const v=this.handlePossibleCenter(l,w,C);if(v!==null)return v}l[0]=l[2],l[1]=1,l[2]=0,I=1}else l[++I]++;else I===1&&I++,l[I]++;C++}if(this.foundPatternCross(l)){const v=this.handlePossibleCenter(l,w,o);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U}static centerFromEnd(t,n){return n-t[2]-t[1]/2}foundPatternCross(t){const n=this.moduleSize,i=n/2;for(let o=0;o<3;o++)if(Math.abs(n-t[o])>=i)return!1;return!0}crossCheckVertical(t,n,i,o){const a=this.image,l=a.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=t;for(;h>=0&&a.get(n,h)&&d[1]<=i;)d[1]++,h--;if(h<0||d[1]>i)return NaN;for(;h>=0&&!a.get(n,h)&&d[0]<=i;)d[0]++,h--;if(d[0]>i)return NaN;for(h=t+1;h<l&&a.get(n,h)&&d[1]<=i;)d[1]++,h++;if(h===l||d[1]>i)return NaN;for(;h<l&&!a.get(n,h)&&d[2]<=i;)d[2]++,h++;if(d[2]>i)return NaN;const w=d[0]+d[1]+d[2];return 5*Math.abs(w-o)>=2*o?NaN:this.foundPatternCross(d)?js.centerFromEnd(d,h):NaN}handlePossibleCenter(t,n,i){const o=t[0]+t[1]+t[2],a=js.centerFromEnd(t,i),l=this.crossCheckVertical(n,a,2*t[1],o);if(!isNaN(l)){const d=(t[0]+t[1]+t[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(d,l,a))return w.combineEstimate(l,a,d);const h=new Ea(a,l,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class pa extends J{constructor(t,n,i,o){super(t,n),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,n,i){const o=this.count+1,a=(this.count*this.getX()+n)/o,l=(this.count*this.getY()+t)/o,d=(this.count*this.estimatedModuleSize+i)/o;return new pa(a,l,d,o)}}class Hd{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class qt{constructor(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const n=t!=null&&t.get(W.TRY_HARDER)!==void 0,i=t!=null&&t.get(W.PURE_BARCODE)!==void 0,o=this.image,a=o.getHeight(),l=o.getWidth();let d=Math.floor(3*a/(4*qt.MAX_MODULES));(d<qt.MIN_SKIP||n)&&(d=qt.MIN_SKIP);let h=!1;const w=new Int32Array(5);for(let I=d-1;I<a&&!h;I+=d){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let v=0;for(let R=0;R<l;R++)if(o.get(R,I))(v&1)===1&&v++,w[v]++;else if(v&1)w[v]++;else if(v===4)if(qt.foundPatternCross(w)){if(this.handlePossibleCenter(w,I,R,i)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>w[2]&&(I+=Y-w[2]-d,R=l-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,v=3;continue}v=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,v=3;else w[++v]++;qt.foundPatternCross(w)&&this.handlePossibleCenter(w,I,l,i)===!0&&(d=w[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return J.orderBestPatterns(C),new Hd(C)}static centerFromEnd(t,n){return n-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let n=0;for(let a=0;a<5;a++){const l=t[a];if(l===0)return!1;n+=l}if(n<7)return!1;const i=n/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,n,i,o){const a=this.getCrossCheckStateCount();let l=0;const d=this.image;for(;t>=l&&n>=l&&d.get(n-l,t-l);)a[2]++,l++;if(t<l||n<l)return!1;for(;t>=l&&n>=l&&!d.get(n-l,t-l)&&a[1]<=i;)a[1]++,l++;if(t<l||n<l||a[1]>i)return!1;for(;t>=l&&n>=l&&d.get(n-l,t-l)&&a[0]<=i;)a[0]++,l++;if(a[0]>i)return!1;const h=d.getHeight(),w=d.getWidth();for(l=1;t+l<h&&n+l<w&&d.get(n+l,t+l);)a[2]++,l++;if(t+l>=h||n+l>=w)return!1;for(;t+l<h&&n+l<w&&!d.get(n+l,t+l)&&a[3]<i;)a[3]++,l++;if(t+l>=h||n+l>=w||a[3]>=i)return!1;for(;t+l<h&&n+l<w&&d.get(n+l,t+l)&&a[4]<i;)a[4]++,l++;if(a[4]>=i)return!1;const C=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(C-o)<2*o&&qt.foundPatternCross(a)}crossCheckVertical(t,n,i,o){const a=this.image,l=a.getHeight(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&a.get(n,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a.get(n,h)&&d[1]<=i;)d[1]++,h--;if(h<0||d[1]>i)return NaN;for(;h>=0&&a.get(n,h)&&d[0]<=i;)d[0]++,h--;if(d[0]>i)return NaN;for(h=t+1;h<l&&a.get(n,h);)d[2]++,h++;if(h===l)return NaN;for(;h<l&&!a.get(n,h)&&d[3]<i;)d[3]++,h++;if(h===l||d[3]>=i)return NaN;for(;h<l&&a.get(n,h)&&d[4]<i;)d[4]++,h++;if(d[4]>=i)return NaN;const w=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(w-o)>=2*o?NaN:qt.foundPatternCross(d)?qt.centerFromEnd(d,h):NaN}crossCheckHorizontal(t,n,i,o){const a=this.image,l=a.getWidth(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&a.get(h,n);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a.get(h,n)&&d[1]<=i;)d[1]++,h--;if(h<0||d[1]>i)return NaN;for(;h>=0&&a.get(h,n)&&d[0]<=i;)d[0]++,h--;if(d[0]>i)return NaN;for(h=t+1;h<l&&a.get(h,n);)d[2]++,h++;if(h===l)return NaN;for(;h<l&&!a.get(h,n)&&d[3]<i;)d[3]++,h++;if(h===l||d[3]>=i)return NaN;for(;h<l&&a.get(h,n)&&d[4]<i;)d[4]++,h++;if(d[4]>=i)return NaN;const w=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(w-o)>=o?NaN:qt.foundPatternCross(d)?qt.centerFromEnd(d,h):NaN}handlePossibleCenter(t,n,i,o){const a=t[0]+t[1]+t[2]+t[3]+t[4];let l=qt.centerFromEnd(t,i),d=this.crossCheckVertical(n,Math.floor(l),t[2],a);if(!isNaN(d)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(d),t[2],a),!isNaN(l)&&(!o||this.crossCheckDiagonal(Math.floor(d),Math.floor(l),t[2],a)))){const h=a/7;let w=!1;const C=this.possibleCenters;for(let I=0,v=C.length;I<v;I++){const R=C[I];if(R.aboutEquals(h,d,l)){C[I]=R.combineEstimate(d,l,h),w=!0;break}}if(!w){const I=new pa(l,d,h);C.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=qt.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,n=0;const i=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=qt.CENTER_QUORUM&&(t++,n+=l.getEstimatedModuleSize());if(t<3)return!1;const o=n/i;let a=0;for(const l of this.possibleCenters)a+=Math.abs(l.getEstimatedModuleSize()-o);return a<=.05*n}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new U;const n=this.possibleCenters;let i;if(t>3){let o=0,a=0;for(const h of this.possibleCenters){const w=h.getEstimatedModuleSize();o+=w,a+=w*w}i=o/t;let l=Math.sqrt(a/t-i*i);n.sort((h,w)=>{const C=Math.abs(w.getEstimatedModuleSize()-i),I=Math.abs(h.getEstimatedModuleSize()-i);return C<I?-1:C>I?1:0});const d=Math.max(.2*i,l);for(let h=0;h<n.length&&n.length>3;h++){const w=n[h];Math.abs(w.getEstimatedModuleSize()-i)>d&&(n.splice(h,1),h--)}}if(n.length>3){let o=0;for(const a of n)o+=a.getEstimatedModuleSize();i=o/n.length,n.sort((a,l)=>{if(l.getCount()===a.getCount()){const d=Math.abs(l.getEstimatedModuleSize()-i),h=Math.abs(a.getEstimatedModuleSize()-i);return d<h?1:d>h?-1:0}else return l.getCount()-a.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}qt.CENTER_QUORUM=2,qt.MIN_SKIP=3,qt.MAX_MODULES=57;class $i{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(W.NEED_RESULT_POINT_CALLBACK);const i=new qt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const n=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),a=this.calculateModuleSize(n,i,o);if(a<1)throw new U("No pattern found in proccess finder.");const l=$i.computeDimension(n,i,o,a),d=ke.getProvisionalVersionForDimension(l),h=d.getDimensionForVersion()-7;let w=null;if(d.getAlignmentPatternCenters().length>0){const R=i.getX()-n.getX()+o.getX(),H=i.getY()-n.getY()+o.getY(),Y=1-3/h,Z=Math.floor(n.getX()+Y*(R-n.getX())),ie=Math.floor(n.getY()+Y*(H-n.getY()));for(let ye=4;ye<=16;ye<<=1)try{w=this.findAlignmentInRegion(a,Z,ie,ye);break}catch(_e){if(!(_e instanceof U))throw _e}}const C=$i.createTransform(n,i,o,w,l),I=$i.sampleGrid(this.image,C,l);let v;return w===null?v=[o,n,i]:v=[o,n,i,w],new X(I,v)}static createTransform(t,n,i,o,a){const l=a-3.5;let d,h,w,C;return o!==null?(d=o.getX(),h=o.getY(),w=l-3,C=w):(d=n.getX()-t.getX()+i.getX(),h=n.getY()-t.getY()+i.getY(),w=l,C=l),Be.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,w,C,3.5,l,t.getX(),t.getY(),n.getX(),n.getY(),d,h,i.getX(),i.getY())}static sampleGrid(t,n,i){return Qe.getInstance().sampleGridWithTransform(t,i,i,n)}static computeDimension(t,n,i,o){const a=he.round(J.distance(t,n)/o),l=he.round(J.distance(t,i)/o);let d=Math.floor((a+l)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new U("Dimensions could be not found.")}return d}calculateModuleSize(t,n,i){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,n,i,o){let a=this.sizeOfBlackWhiteBlackRun(t,n,i,o),l=1,d=t-(i-t);d<0?(l=t/(t-d),d=0):d>=this.image.getWidth()&&(l=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let h=Math.floor(n-(o-n)*l);return l=1,h<0?(l=n/(n-h),h=0):h>=this.image.getHeight()&&(l=(this.image.getHeight()-1-n)/(h-n),h=this.image.getHeight()-1),d=Math.floor(t+(d-t)*l),a+=this.sizeOfBlackWhiteBlackRun(t,n,d,h),a-1}sizeOfBlackWhiteBlackRun(t,n,i,o){const a=Math.abs(o-n)>Math.abs(i-t);if(a){let R=t;t=n,n=R,R=i,i=o,o=R}const l=Math.abs(i-t),d=Math.abs(o-n);let h=-l/2;const w=t<i?1:-1,C=n<o?1:-1;let I=0;const v=i+w;for(let R=t,H=n;R!==v;R+=w){const Y=a?H:R,Z=a?R:H;if(I===1===this.image.get(Y,Z)){if(I===2)return he.distance(R,H,t,n);I++}if(h+=d,h>0){if(H===o)break;H+=C,h-=l}}return I===2?he.distance(i+w,o,t,n):NaN}findAlignmentInRegion(t,n,i,o){const a=Math.floor(o*t),l=Math.max(0,n-a),d=Math.min(this.image.getWidth()-1,n+a);if(d-l<t*3)throw new U("Alignment top exceeds estimated module size.");const h=Math.max(0,i-a),w=Math.min(this.image.getHeight()-1,i+a);if(w-h<t*3)throw new U("Alignment bottom exceeds estimated module size.");return new js(this.image,l,h,d-l,w-h,t,this.resultPointCallback).find()}}class vr{constructor(){this.decoder=new Vd}getDecoder(){return this.decoder}decode(t,n){let i,o;if(n!=null&&n.get(W.PURE_BARCODE)!==void 0){const h=vr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(h,n),o=vr.NO_POINTS}else{const h=new $i(t.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(h.getBits(),n),o=h.getPoints()}i.getOther()instanceof Sc&&i.getOther().applyMirroredCorrection(o);const a=new Le(i.getText(),i.getRawBytes(),void 0,o,te.QR_CODE,void 0),l=i.getByteSegments();l!==null&&a.putMetadata(Ee.BYTE_SEGMENTS,l);const d=i.getECLevel();return d!==null&&a.putMetadata(Ee.ERROR_CORRECTION_LEVEL,d),i.hasStructuredAppend()&&(a.putMetadata(Ee.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),a.putMetadata(Ee.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),a}reset(){}static extractPureBits(t){const n=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(n===null||i===null)throw new U;const o=this.moduleSize(n,t);let a=n[1],l=i[1],d=n[0],h=i[0];if(d>=h||a>=l)throw new U;if(l-a!==h-d&&(h=d+(l-a),h>=t.getWidth()))throw new U;const w=Math.round((h-d+1)/o),C=Math.round((l-a+1)/o);if(w<=0||C<=0)throw new U;if(C!==w)throw new U;const I=Math.floor(o/2);a+=I,d+=I;const v=d+Math.floor((w-1)*o)-h;if(v>0){if(v>I)throw new U;d-=v}const R=a+Math.floor((C-1)*o)-l;if(R>0){if(R>I)throw new U;a-=R}const H=new be(w,C);for(let Y=0;Y<C;Y++){const Z=a+Math.floor(Y*o);for(let ie=0;ie<w;ie++)t.get(d+Math.floor(ie*o),Z)&&H.set(ie,Y)}return H}static moduleSize(t,n){const i=n.getHeight(),o=n.getWidth();let a=t[0],l=t[1],d=!0,h=0;for(;a<o&&l<i;){if(d!==n.get(a,l)){if(++h===5)break;d=!d}a++,l++}if(a===o||l===i)throw new U;return(a-t[0])/7}}vr.NO_POINTS=new Array;class Ge{PDF417Common(){}static getBitCountSum(t){return he.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ge.EMPTY_INT_ARRAY;const n=new Int32Array(t.length);let i=0;for(const o of t)n[i++]=o;return n}static getCodeword(t){const n=B.binarySearch(Ge.SYMBOL_TABLE,t&262143);return n<0?-1:(Ge.CODEWORD_TABLE[n]-1)%Ge.NUMBER_OF_CODEWORDS}}Ge.NUMBER_OF_CODEWORDS=929,Ge.MAX_CODEWORDS_IN_BARCODE=Ge.NUMBER_OF_CODEWORDS-1,Ge.MIN_ROWS_IN_BARCODE=3,Ge.MAX_ROWS_IN_BARCODE=90,Ge.MODULES_IN_CODEWORD=17,Ge.MODULES_IN_STOP_PATTERN=18,Ge.BARS_IN_MODULE=8,Ge.EMPTY_INT_ARRAY=new Int32Array([]),Ge.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ge.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Wd{constructor(t,n){this.bits=t,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Je{static detectMultiple(t,n,i){let o=t.getBlackMatrix(),a=Je.detect(i,o);return a.length||(o=o.clone(),o.rotate180(),a=Je.detect(i,o)),new Wd(o,a)}static detect(t,n){const i=new Array;let o=0,a=0,l=!1;for(;o<n.getHeight();){const d=Je.findVertices(n,o,a);if(d[0]==null&&d[3]==null){if(!l)break;l=!1,a=0;for(const h of i)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=Je.ROW_STEP;continue}if(l=!0,i.push(d),!t)break;d[2]!=null?(a=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(a=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return i}static findVertices(t,n,i){const o=t.getHeight(),a=t.getWidth(),l=new Array(8);return Je.copyToResult(l,Je.findRowsWithPattern(t,o,a,n,i,Je.START_PATTERN),Je.INDEXES_START_PATTERN),l[4]!=null&&(i=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY())),Je.copyToResult(l,Je.findRowsWithPattern(t,o,a,n,i,Je.STOP_PATTERN),Je.INDEXES_STOP_PATTERN),l}static copyToResult(t,n,i){for(let o=0;o<i.length;o++)t[i[o]]=n[o]}static findRowsWithPattern(t,n,i,o,a,l){const d=new Array(4);let h=!1;const w=new Int32Array(l.length);for(;o<n;o+=Je.ROW_STEP){let I=Je.findGuardPattern(t,a,o,i,!1,l,w);if(I!=null){for(;o>0;){const v=Je.findGuardPattern(t,a,--o,i,!1,l,w);if(v!=null)I=v;else{o++;break}}d[0]=new J(I[0],o),d[1]=new J(I[1],o),h=!0;break}}let C=o+1;if(h){let I=0,v=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;C<n;C++){const R=Je.findGuardPattern(t,v[0],C,i,!1,l,w);if(R!=null&&Math.abs(v[0]-R[0])<Je.MAX_PATTERN_DRIFT&&Math.abs(v[1]-R[1])<Je.MAX_PATTERN_DRIFT)v=R,I=0;else{if(I>Je.SKIPPED_ROW_COUNT_MAX)break;I++}}C-=I+1,d[2]=new J(v[0],C),d[3]=new J(v[1],C)}return C-o<Je.BARCODE_MIN_HEIGHT&&B.fill(d,null),d}static findGuardPattern(t,n,i,o,a,l,d){B.fillWithin(d,0,d.length,0);let h=n,w=0;for(;t.get(h,i)&&h>0&&w++<Je.MAX_PIXEL_DRIFT;)h--;let C=h,I=0,v=l.length;for(let R=a;C<o;C++)if(t.get(C,i)!==R)d[I]++;else{if(I===v-1){if(Je.patternMatchVariance(d,l,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return new Int32Array([h,C]);h+=d[0]+d[1],k.arraycopy(d,2,d,0,I-1),d[I-1]=0,d[I]=0,I--}else I++;d[I]=1,R=!R}return I===v-1&&Je.patternMatchVariance(d,l,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE?new Int32Array([h,C-1]):null}static patternMatchVariance(t,n,i){let o=t.length,a=0,l=0;for(let w=0;w<o;w++)a+=t[w],l+=n[w];if(a<l)return 1/0;let d=a/l;i*=d;let h=0;for(let w=0;w<o;w++){let C=t[w],I=n[w]*d,v=C>I?C-I:I-C;if(v>i)return 1/0;h+=v}return h/a}}Je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Je.MAX_AVG_VARIANCE=.42,Je.MAX_INDIVIDUAL_VARIANCE=.8,Je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Je.MAX_PIXEL_DRIFT=3,Je.MAX_PATTERN_DRIFT=5,Je.SKIPPED_ROW_COUNT_MAX=25,Je.ROW_STEP=5,Je.BARCODE_MIN_HEIGHT=10;class tn{constructor(t,n){if(n.length===0)throw new b;this.field=t;let i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),k.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let a of this.coefficients)o=this.field.add(o,a);return o}let n=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)n=this.field.add(this.field.multiply(t,n),this.coefficients[o]);return n}add(t){if(!this.field.equals(t.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let n=this.coefficients,i=t.coefficients;if(n.length>i.length){let l=n;n=i,i=l}let o=new Int32Array(i.length),a=i.length-n.length;k.arraycopy(i,0,o,0,a);for(let l=a;l<i.length;l++)o[l]=this.field.add(n[l-a],i[l]);return new tn(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new b("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof tn?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new tn(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,o=t.coefficients,a=o.length,l=new Int32Array(i+a-1);for(let d=0;d<i;d++){let h=n[d];for(let w=0;w<a;w++)l[d+w]=this.field.add(l[d+w],this.field.multiply(h,o[w]))}return new tn(this.field,l)}negative(){let t=this.coefficients.length,n=new Int32Array(t);for(let i=0;i<t;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new tn(this.field,n)}multiplyScalar(t){if(t===0)return new tn(this.field,new Int32Array([0]));if(t===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new tn(this.field,i)}multiplyByMonomial(t,n){if(t<0)throw new b;if(n===0)return new tn(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],n);return new tn(this.field,o)}toString(){let t=new le;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(n===0||i!==1)&&t.append(i),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()}}class Gd{add(t,n){return(t+n)%this.modulus}subtract(t,n){return(this.modulus+t-n)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new b;return this.logTable[t]}inverse(t){if(t===0)throw new He;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ca extends Gd{constructor(t,n){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*n%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new tn(this,new Int32Array([0])),this.one=new tn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,n){if(t<0)throw new b;if(n===0)return this.zero;let i=new Int32Array(t+1);return i[0]=n,new tn(this,i)}}Ca.PDF417_GF=new Ca(Ge.NUMBER_OF_CODEWORDS,3);class Nc{constructor(){this.field=Ca.PDF417_GF}decode(t,n,i){let o=new tn(this.field,t),a=new Int32Array(n),l=!1;for(let H=n;H>0;H--){let Y=o.evaluateAt(this.field.exp(H));a[n-H]=Y,Y!==0&&(l=!0)}if(!l)return 0;let d=this.field.getOne();if(i!=null)for(const H of i){let Y=this.field.exp(t.length-1-H),Z=new tn(this.field,new Int32Array([this.field.subtract(0,Y),1]));d=d.multiply(Z)}let h=new tn(this.field,a),w=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),h,n),C=w[0],I=w[1],v=this.findErrorLocations(C),R=this.findErrorMagnitudes(I,C,v);for(let H=0;H<v.length;H++){let Y=t.length-1-this.field.log(v[H]);if(Y<0)throw S.getChecksumInstance();t[Y]=this.field.subtract(t[Y],R[H])}return v.length}runEuclideanAlgorithm(t,n,i){if(t.getDegree()<n.getDegree()){let v=t;t=n,n=v}let o=t,a=n,l=this.field.getZero(),d=this.field.getOne();for(;a.getDegree()>=Math.round(i/2);){let v=o,R=l;if(o=a,l=d,o.isZero())throw S.getChecksumInstance();a=v;let H=this.field.getZero(),Y=o.getCoefficient(o.getDegree()),Z=this.field.inverse(Y);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){let ie=a.getDegree()-o.getDegree(),ye=this.field.multiply(a.getCoefficient(a.getDegree()),Z);H=H.add(this.field.buildMonomial(ie,ye)),a=a.subtract(o.multiplyByMonomial(ie,ye))}d=H.multiply(l).subtract(R).negative()}let h=d.getCoefficient(0);if(h===0)throw S.getChecksumInstance();let w=this.field.inverse(h),C=d.multiply(w),I=a.multiply(w);return[C,I]}findErrorLocations(t){let n=t.getDegree(),i=new Int32Array(n),o=0;for(let a=1;a<this.field.getSize()&&o<n;a++)t.evaluateAt(a)===0&&(i[o]=this.field.inverse(a),o++);if(o!==n)throw S.getChecksumInstance();return i}findErrorMagnitudes(t,n,i){let o=n.getDegree(),a=new Int32Array(o);for(let w=1;w<=o;w++)a[o-w]=this.field.multiply(w,n.getCoefficient(w));let l=new tn(this.field,a),d=i.length,h=new Int32Array(d);for(let w=0;w<d;w++){let C=this.field.inverse(i[w]),I=this.field.subtract(0,t.evaluateAt(C)),v=this.field.inverse(l.evaluateAt(C));h[w]=this.field.multiply(I,v)}return h}}class Qr{constructor(t,n,i,o,a){t instanceof Qr?this.constructor_2(t):this.constructor_1(t,n,i,o,a)}constructor_1(t,n,i,o,a){const l=n==null||i==null,d=o==null||a==null;if(l&&d)throw new U;l?(n=new J(0,o.getY()),i=new J(0,a.getY())):d&&(o=new J(t.getWidth()-1,n.getY()),a=new J(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=n,this.bottomLeft=i,this.topRight=o,this.bottomRight=a,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),a.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),a.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,n){return t==null?n:n==null?t:new Qr(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(t,n,i){let o=this.topLeft,a=this.bottomLeft,l=this.topRight,d=this.bottomRight;if(t>0){let h=i?this.topLeft:this.topRight,w=Math.trunc(h.getY()-t);w<0&&(w=0);let C=new J(h.getX(),w);i?o=C:l=C}if(n>0){let h=i?this.bottomLeft:this.bottomRight,w=Math.trunc(h.getY()+n);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let C=new J(h.getX(),w);i?a=C:d=C}return new Qr(this.image,o,a,l,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Xd{constructor(t,n,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ki{constructor(){this.buffer=""}static form(t,n){let i=-1;function o(l,d,h,w,C,I){if(l==="%%")return"%";if(n[++i]===void 0)return;l=w?parseInt(w.substr(1)):void 0;let v=C?parseInt(C.substr(1)):void 0,R;switch(I){case"s":R=n[i];break;case"c":R=n[i][0];break;case"f":R=parseFloat(n[i]).toFixed(l);break;case"p":R=parseFloat(n[i]).toPrecision(l);break;case"e":R=parseFloat(n[i]).toExponential(l);break;case"x":R=parseInt(n[i]).toString(v||16);break;case"d":R=parseFloat(parseInt(n[i],v||10).toPrecision(l)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(v);let H=parseInt(h),Y=h&&h[0]+""=="0"?"0":" ";for(;R.length<H;)R=d!==void 0?R+Y:Y+R;return R}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(a,o)}format(t,...n){this.buffer+=Ki.form(t,n)}toString(){return this.buffer}}class Zi{constructor(t){this.boundingBox=new Qr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let n=this.getCodeword(t);if(n!=null)return n;for(let i=1;i<Zi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ki;let n=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",n++);continue}t.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return t.toString()}}Zi.MAX_NEARBY_DISTANCE=5;class qi{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)}getValue(){let t=-1,n=new Array;for(const[i,o]of this.values.entries()){const a={getKey:()=>i,getValue:()=>o};a.getValue()>t?(t=a.getValue(),n=[],n.push(a.getKey())):a.getValue()===t&&n.push(a.getKey())}return Ge.toIntArray(n)}getConfidence(t){return this.values.get(t)}}class Oc extends Zi{constructor(t,n){super(t),this._isLeft=n}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(a.getY())),h=-1,w=1,C=0;for(let I=l;I<d;I++){if(n[I]==null)continue;let v=n[I],R=v.getRowNumber()-h;if(R===0)C++;else if(R===1)w=Math.max(w,C),C=1,h=v.getRowNumber();else if(R<0||v.getRowNumber()>=t.getRowCount()||R>I)n[I]=null;else{let H;w>2?H=(w-2)*R:H=R;let Y=H>=I;for(let Z=1;Z<=H&&!Y;Z++)Y=n[I-Z]!=null;Y?n[I]=null:(h=v.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let n=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=n.length)continue;n[o]++}return n}adjustIncompleteIndicatorColumnRowNumbers(t){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1;for(let w=a;w<l;w++){if(d[w]==null)continue;let C=d[w];C.setRowNumberAsRowIndicatorColumn();let I=C.getRowNumber()-h;I===0||(I===1?h=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?d[w]=null:h=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),n=new qi,i=new qi,o=new qi,a=new qi;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,w=d.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:i.setValue(h*3+1);break;case 1:a.setValue(h/3),o.setValue(h%3);break;case 2:n.setValue(h+1);break}}if(n.getValue().length===0||i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Ge.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Ge.MAX_ROWS_IN_BARCODE)return null;let l=new Xd(n.getValue()[0],i.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(t,l),l}removeIncorrectCodewords(t,n){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let a=o.getValue()%30,l=o.getRowNumber();if(l>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:a+1!==n.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Qi{constructor(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ge.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&n[i]!=null&&t[i].getRowNumber()===n[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let a=this.detectionResultColumns[o].getCodewords()[i];a!=null&&(a.setRowNumber(t[i].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),a=0;for(let l=this.barcodeColumnCount+1;l>0&&a<this.ADJUST_ROW_NUMBER_SKIP;l--){let d=this.detectionResultColumns[l].getCodewords()[i];d!=null&&(a=Qi.adjustRowNumberIfValid(o,a,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),a=0;for(let l=1;l<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;l++){let d=this.detectionResultColumns[l].getCodewords()[i];d!=null&&(a=Qi.adjustRowNumberIfValid(o,a,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),n=0):++n),n}adjustRowNumbers(t,n,i){if(!this.detectionResultColumns[t-1])return;let o=i[n],a=this.detectionResultColumns[t-1].getCodewords(),l=a;this.detectionResultColumns[t+1]!=null&&(l=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=a[n],d[3]=l[n],n>0&&(d[0]=i[n-1],d[4]=a[n-1],d[5]=l[n-1]),n>1&&(d[8]=i[n-2],d[10]=a[n-2],d[11]=l[n-2]),n<i.length-1&&(d[1]=i[n+1],d[6]=a[n+1],d[7]=l[n+1]),n<i.length-2&&(d[9]=i[n+2],d[12]=a[n+2],d[13]=l[n+2]);for(let h of d)if(Qi.adjustRowNumber(o,h))return}static adjustRowNumber(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,n){this.detectionResultColumns[t]=n}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Ki;for(let i=0;i<t.getCodewords().length;i++){n.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}let a=this.detectionResultColumns[o].getCodewords()[i];if(a==null){n.format("    |   ");continue}n.format(" %3d|%3d",a.getRowNumber(),a.getValue())}n.format("%n")}return n.toString()}}class Ji{constructor(t,n,i,o){this.rowNumber=Ji.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ji.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ji.BARCODE_ROW_UNKNOWN=-1;class En{static initialize(){for(let t=0;t<Ge.SYMBOL_TABLE.length;t++){let n=Ge.SYMBOL_TABLE[t],i=n&1;for(let o=0;o<Ge.BARS_IN_MODULE;o++){let a=0;for(;(n&1)===i;)a+=1,n>>=1;i=n&1,En.RATIOS_TABLE[t]||(En.RATIOS_TABLE[t]=new Array(Ge.BARS_IN_MODULE)),En.RATIOS_TABLE[t][Ge.BARS_IN_MODULE-o-1]=Math.fround(a/Ge.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let n=En.getDecodedCodewordValue(En.sampleBitCounts(t));return n!==-1?n:En.getClosestDecodedValue(t)}static sampleBitCounts(t){let n=he.sum(t),i=new Int32Array(Ge.BARS_IN_MODULE),o=0,a=0;for(let l=0;l<Ge.MODULES_IN_CODEWORD;l++){let d=n/(2*Ge.MODULES_IN_CODEWORD)+l*n/Ge.MODULES_IN_CODEWORD;a+t[o]<=d&&(a+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let n=En.getBitValue(t);return Ge.getCodeword(n)===-1?-1:n}static getBitValue(t){let n=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(t){let n=he.sum(t),i=new Array(Ge.BARS_IN_MODULE);if(n>1)for(let l=0;l<i.length;l++)i[l]=Math.fround(t[l]/n);let o=pe.MAX_VALUE,a=-1;this.bSymbolTableReady||En.initialize();for(let l=0;l<En.RATIOS_TABLE.length;l++){let d=0,h=En.RATIOS_TABLE[l];for(let w=0;w<Ge.BARS_IN_MODULE;w++){let C=Math.fround(h[w]-i[w]);if(d+=Math.fround(C*C),d>=o)break}d<o&&(o=d,a=Ge.SYMBOL_TABLE[l])}return a}}En.bSymbolTableReady=!1,En.RATIOS_TABLE=new Array(Ge.SYMBOL_TABLE.length).map(_=>new Array(Ge.BARS_IN_MODULE));class Rc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Dc{static parseLong(t,n=void 0){return parseInt(t,n)}}class Mc extends m{}Mc.kind="NullPointerException";class Yd{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,n,i){if(t==null)throw new Mc;if(n<0||n>t.length||i<0||n+i>t.length||n+i<0)throw new j;if(i===0)return;for(let o=0;o<i;o++)this.write(t[n+o])}flush(){}close(){}}class jd extends m{}class zd extends Yd{constructor(t=32){if(super(),this.count=0,t<0)throw new b("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new jd;i=L.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new j;this.ensureCapacity(this.count+i),k.arraycopy(t,n,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Et;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Et||(Et={}));function Lc(){if(typeof window!="undefined")return window.BigInt||null;if(typeof fs!="undefined")return fs.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let zs;function Sr(_){if(typeof zs=="undefined"&&(zs=Lc()),zs===null)throw new Error("BigInt is not supported!");return zs(_)}function $d(){let _=[];_[0]=Sr(1);let t=Sr(900);_[1]=t;for(let n=2;n<16;n++)_[n]=_[n-1]*t;return _}class re{static decode(t,n){let i=new le(""),o=$.ISO8859_1;i.enableDecoding(o);let a=1,l=t[a++],d=new Rc;for(;a<t[0];){switch(l){case re.TEXT_COMPACTION_MODE_LATCH:a=re.textCompaction(t,a,i);break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:a=re.byteCompaction(l,t,o,a,i);break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[a++]);break;case re.NUMERIC_COMPACTION_MODE_LATCH:a=re.numericCompaction(t,a,i);break;case re.ECI_CHARSET:$.getCharacterSetECIByValue(t[a++]);break;case re.ECI_GENERAL_PURPOSE:a+=2;break;case re.ECI_USER_DEFINED:a++;break;case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=re.decodeMacroBlock(t,a,d);break;case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:throw new P;default:a--,a=re.textCompaction(t,a,i);break}if(a<t.length)l=t[a++];else throw P.getFormatInstance()}if(i.length()===0)throw P.getFormatInstance();let h=new Ve(null,i.toString(),null,n);return h.setOther(d),h}static decodeMacroBlock(t,n,i){if(n+re.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw P.getFormatInstance();let o=new Int32Array(re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<re.NUMBER_OF_SEQUENCE_CODEWORDS;d++,n++)o[d]=t[n];i.setSegmentIndex(L.parseInt(re.decodeBase900toBase10(o,re.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new le;n=re.textCompaction(t,n,a),i.setFileId(a.toString());let l=-1;for(t[n]===re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<t[0];)switch(t[n]){case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new le;n=re.textCompaction(t,n+1,d),i.setFileName(d.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new le;n=re.textCompaction(t,n+1,h),i.setSender(h.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new le;n=re.textCompaction(t,n+1,w),i.setAddressee(w.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new le;n=re.numericCompaction(t,n+1,C),i.setSegmentCount(L.parseInt(C.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new le;n=re.numericCompaction(t,n+1,I),i.setTimestamp(Dc.parseLong(I.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new le;n=re.numericCompaction(t,n+1,v),i.setChecksum(L.parseInt(v.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let R=new le;n=re.numericCompaction(t,n+1,R),i.setFileSize(Dc.parseLong(R.toString()));break;default:throw P.getFormatInstance()}break;case re.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(l!==-1){let d=n-l;i.isLastSegment()&&d--,i.setOptionalData(B.copyOfRange(t,l,l+d))}return n}static textCompaction(t,n,i){let o=new Int32Array((t[0]-n)*2),a=new Int32Array((t[0]-n)*2),l=0,d=!1;for(;n<t[0]&&!d;){let h=t[n++];if(h<re.TEXT_COMPACTION_MODE_LATCH)o[l]=h/30,o[l+1]=h%30,l+=2;else switch(h){case re.TEXT_COMPACTION_MODE_LATCH:o[l++]=re.TEXT_COMPACTION_MODE_LATCH;break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:n--,d=!0;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[l]=re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[n++],a[l]=h,l++;break}}return re.decodeTextCompaction(o,a,l,i),n}static decodeTextCompaction(t,n,i,o){let a=Et.ALPHA,l=Et.ALPHA,d=0;for(;d<i;){let h=t[d],w="";switch(a){case Et.ALPHA:if(h<26)w=String.fromCharCode(65+h);else switch(h){case 26:w=" ";break;case re.LL:a=Et.LOWER;break;case re.ML:a=Et.MIXED;break;case re.PS:l=a,a=Et.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[d]);break;case re.TEXT_COMPACTION_MODE_LATCH:a=Et.ALPHA;break}break;case Et.LOWER:if(h<26)w=String.fromCharCode(97+h);else switch(h){case 26:w=" ";break;case re.AS:l=a,a=Et.ALPHA_SHIFT;break;case re.ML:a=Et.MIXED;break;case re.PS:l=a,a=Et.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[d]);break;case re.TEXT_COMPACTION_MODE_LATCH:a=Et.ALPHA;break}break;case Et.MIXED:if(h<re.PL)w=re.MIXED_CHARS[h];else switch(h){case re.PL:a=Et.PUNCT;break;case 26:w=" ";break;case re.LL:a=Et.LOWER;break;case re.AL:a=Et.ALPHA;break;case re.PS:l=a,a=Et.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[d]);break;case re.TEXT_COMPACTION_MODE_LATCH:a=Et.ALPHA;break}break;case Et.PUNCT:if(h<re.PAL)w=re.PUNCT_CHARS[h];else switch(h){case re.PAL:a=Et.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[d]);break;case re.TEXT_COMPACTION_MODE_LATCH:a=Et.ALPHA;break}break;case Et.ALPHA_SHIFT:if(a=l,h<26)w=String.fromCharCode(65+h);else switch(h){case 26:w=" ";break;case re.TEXT_COMPACTION_MODE_LATCH:a=Et.ALPHA;break}break;case Et.PUNCT_SHIFT:if(a=l,h<re.PAL)w=re.PUNCT_CHARS[h];else switch(h){case re.PAL:a=Et.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[d]);break;case re.TEXT_COMPACTION_MODE_LATCH:a=Et.ALPHA;break}break}w!==""&&o.append(w),d++}}static byteCompaction(t,n,i,o,a){let l=new zd,d=0,h=0,w=!1;switch(t){case re.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),I=n[o++];for(;o<n[0]&&!w;)switch(C[d++]=I,h=900*h+I,I=n[o++],I){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:o--,w=!0;break;default:if(d%5===0&&d>0){for(let v=0;v<6;++v)l.write(Number(Sr(h)>>Sr(8*(5-v))));h=0,d=0}break}o===n[0]&&I<re.TEXT_COMPACTION_MODE_LATCH&&(C[d++]=I);for(let v=0;v<d;v++)l.write(C[v]);break;case re.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!w;){let v=n[o++];if(v<re.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+v;else switch(v){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:o--,w=!0;break}if(d%5===0&&d>0){for(let R=0;R<6;++R)l.write(Number(Sr(h)>>Sr(8*(5-R))));h=0,d=0}}break}return a.append(Ae.decode(l.toByteArray(),i)),o}static numericCompaction(t,n,i){let o=0,a=!1,l=new Int32Array(re.MAX_NUMERIC_CODEWORDS);for(;n<t[0]&&!a;){let d=t[n++];if(n===t[0]&&(a=!0),d<re.TEXT_COMPACTION_MODE_LATCH)l[o]=d,o++;else switch(d){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:n--,a=!0;break}(o%re.MAX_NUMERIC_CODEWORDS===0||d===re.NUMERIC_COMPACTION_MODE_LATCH||a)&&o>0&&(i.append(re.decodeBase900toBase10(l,o)),o=0)}return n}static decodeBase900toBase10(t,n){let i=Sr(0);for(let a=0;a<n;a++)i+=re.EXP900[n-a-1]*Sr(t[a]);let o=i.toString();if(o.charAt(0)!=="1")throw new P;return o.substring(1)}}re.TEXT_COMPACTION_MODE_LATCH=900,re.BYTE_COMPACTION_MODE_LATCH=901,re.NUMERIC_COMPACTION_MODE_LATCH=902,re.BYTE_COMPACTION_MODE_LATCH_6=924,re.ECI_USER_DEFINED=925,re.ECI_GENERAL_PURPOSE=926,re.ECI_CHARSET=927,re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,re.MACRO_PDF417_TERMINATOR=922,re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,re.MAX_NUMERIC_CODEWORDS=15,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,re.PL=25,re.LL=27,re.AS=27,re.ML=28,re.AL=28,re.PS=29,re.PAL=29,re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",re.EXP900=Lc()?$d():[],re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(t,n,i,o,a,l,d){let h=new Qr(t,n,i,o,a),w=null,C=null,I;for(let H=!0;;H=!1){if(n!=null&&(w=et.getRowIndicatorColumn(t,h,n,!0,l,d)),o!=null&&(C=et.getRowIndicatorColumn(t,h,o,!1,l,d)),I=et.merge(w,C),I==null)throw U.getNotFoundInstance();let Y=I.getBoundingBox();if(H&&Y!=null&&(Y.getMinY()<h.getMinY()||Y.getMaxY()>h.getMaxY()))h=Y;else break}I.setBoundingBox(h);let v=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,w),I.setDetectionResultColumn(v,C);let R=w!=null;for(let H=1;H<=v;H++){let Y=R?H:v-H;if(I.getDetectionResultColumn(Y)!==void 0)continue;let Z;Y===0||Y===v?Z=new Oc(h,Y===0):Z=new Zi(h),I.setDetectionResultColumn(Y,Z);let ie=-1,ye=ie;for(let _e=h.getMinY();_e<=h.getMaxY();_e++){if(ie=et.getStartColumn(I,Y,_e,R),ie<0||ie>h.getMaxX()){if(ye===-1)continue;ie=ye}let Ce=et.detectCodeword(t,h.getMinX(),h.getMaxX(),R,ie,_e,l,d);Ce!=null&&(Z.setCodeword(_e,Ce),ye=ie,l=Math.min(l,Ce.getWidth()),d=Math.max(d,Ce.getWidth()))}}return et.createDecoderResult(I)}static merge(t,n){if(t==null&&n==null)return null;let i=et.getBarcodeMetadata(t,n);if(i==null)return null;let o=Qr.merge(et.adjustBoundingBox(t),et.adjustBoundingBox(n));return new Qi(i,o)}static adjustBoundingBox(t){if(t==null)return null;let n=t.getRowHeights();if(n==null)return null;let i=et.getMax(n),o=0;for(let d of n)if(o+=i-d,d>0)break;let a=t.getCodewords();for(let d=0;o>0&&a[d]==null;d++)o--;let l=0;for(let d=n.length-1;d>=0&&(l+=i-n[d],!(n[d]>0));d--);for(let d=a.length-1;l>0&&a[d]==null;d--)l--;return t.getBoundingBox().addMissingRows(o,l,t.isLeft())}static getMax(t){let n=-1;for(let i of t)n=Math.max(n,i);return n}static getBarcodeMetadata(t,n){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let o;return n==null||(o=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,n,i,o,a,l){let d=new Oc(n,o);for(let h=0;h<2;h++){let w=h===0?1:-1,C=Math.trunc(Math.trunc(i.getX()));for(let I=Math.trunc(Math.trunc(i.getY()));I<=n.getMaxY()&&I>=n.getMinY();I+=w){let v=et.detectCodeword(t,0,t.getWidth(),o,C,I,a,l);v!=null&&(d.setCodeword(I,v),o?C=v.getStartX():C=v.getEndX())}}return d}static adjustCodewordCount(t,n){let i=n[0][1],o=i.getValue(),a=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-et.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(a<1||a>Ge.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();i.setValue(a)}else o[0]!==a&&i.setValue(a)}static createDecoderResult(t){let n=et.createBarcodeMatrix(t);et.adjustCodewordCount(t,n);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),a=[],l=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let w=0;w<t.getBarcodeColumnCount();w++){let C=n[h][w+1].getValue(),I=h*t.getBarcodeColumnCount()+w;C.length===0?i.push(I):C.length===1?o[I]=C[0]:(l.push(I),a.push(C))}let d=new Array(a.length);for(let h=0;h<d.length;h++)d[h]=a[h];return et.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,Ge.toIntArray(i),Ge.toIntArray(l),d)}static createDecoderResultFromAmbiguousValues(t,n,i,o,a){let l=new Int32Array(o.length),d=100;for(;d-- >0;){for(let h=0;h<l.length;h++)n[o[h]]=a[h][l[h]];try{return et.decodeCodewords(n,t,i)}catch(h){if(!(h instanceof S))throw h}if(l.length===0)throw S.getChecksumInstance();for(let h=0;h<l.length;h++)if(l[h]<a[h].length-1){l[h]++;break}else if(l[h]=0,h===l.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(t){let n=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<n.length;o++)for(let a=0;a<n[o].length;a++)n[o][a]=new qi;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let a of o.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=0){if(l>=n.length)continue;n[l][i].setValue(a.getValue())}}}i++}return n}static isValidBarcodeColumn(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1}static getStartColumn(t,n,i,o){let a=o?1:-1,l=null;if(et.isValidBarcodeColumn(t,n-a)&&(l=t.getDetectionResultColumn(n-a).getCodeword(i)),l!=null)return o?l.getEndX():l.getStartX();if(l=t.getDetectionResultColumn(n).getCodewordNearby(i),l!=null)return o?l.getStartX():l.getEndX();if(et.isValidBarcodeColumn(t,n-a)&&(l=t.getDetectionResultColumn(n-a).getCodewordNearby(i)),l!=null)return o?l.getEndX():l.getStartX();let d=0;for(;et.isValidBarcodeColumn(t,n-a);){n-=a;for(let h of t.getDetectionResultColumn(n).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+a*d*(h.getEndX()-h.getStartX());d++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,n,i,o,a,l,d,h){a=et.adjustCodewordStartColumn(t,n,i,o,a,l);let w=et.getModuleBitCount(t,n,i,o,a,l);if(w==null)return null;let C,I=he.sum(w);if(o)C=a+I;else{for(let H=0;H<w.length/2;H++){let Y=w[H];w[H]=w[w.length-1-H],w[w.length-1-H]=Y}C=a,a=C-I}if(!et.checkCodewordSkew(I,d,h))return null;let v=En.getDecodedValue(w),R=Ge.getCodeword(v);return R===-1?null:new Ji(a,C,et.getCodewordBucketNumber(v),R)}static getModuleBitCount(t,n,i,o,a,l){let d=a,h=new Int32Array(8),w=0,C=o?1:-1,I=o;for(;(o?d<i:d>=n)&&w<h.length;)t.get(d,l)===I?(h[w]++,d+=C):(w++,I=!I);return w===h.length||d===(o?i:n)&&w===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,n,i,o,a,l){let d=a,h=o?-1:1;for(let w=0;w<2;w++){for(;(o?d>=n:d<i)&&o===t.get(d,l);){if(Math.abs(a-d)>et.CODEWORD_SKEW_SIZE)return a;d+=h}h=-h,o=!o}return d}static checkCodewordSkew(t,n,i){return n-et.CODEWORD_SKEW_SIZE<=t&&t<=i+et.CODEWORD_SKEW_SIZE}static decodeCodewords(t,n,i){if(t.length===0)throw P.getFormatInstance();let o=1<<n+1,a=et.correctErrors(t,i,o);et.verifyCodewordCount(t,o);let l=re.decode(t,""+n);return l.setErrorsCorrected(a),l.setErasures(i.length),l}static correctErrors(t,n,i){if(n!=null&&n.length>i/2+et.MAX_ERRORS||i<0||i>et.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return et.errorCorrection.decode(t,i,n)}static verifyCodewordCount(t,n){if(t.length<4)throw P.getFormatInstance();let i=t[0];if(i>t.length)throw P.getFormatInstance();if(i===0)if(n<t.length)t[0]=t.length-n;else throw P.getFormatInstance()}static getBitCountForCodeword(t){let n=new Int32Array(8),i=0,o=n.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)n[o]++,t>>=1;return n}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return et.getCodewordBucketNumber(et.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let n=new Ki;for(let i=0;i<t.length;i++){n.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let a=t[i][o];a.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}n.format("%n")}return n.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new Nc;class nn{decode(t,n=null){let i=nn.decode(t,n,!1);if(i==null||i.length===0||i[0]==null)throw U.getNotFoundInstance();return i[0]}decodeMultiple(t,n=null){try{return nn.decode(t,n,!0)}catch(i){throw i instanceof P||i instanceof S?U.getNotFoundInstance():i}}static decode(t,n,i){const o=new Array,a=Je.detectMultiple(t,n,i);for(const l of a.getPoints()){const d=et.decode(a.getBits(),l[4],l[5],l[6],l[7],nn.getMinCodewordWidth(l),nn.getMaxCodewordWidth(l)),h=new Le(d.getText(),d.getRawBytes(),void 0,l,te.PDF_417);h.putMetadata(Ee.ERROR_CORRECTION_LEVEL,d.getECLevel());const w=d.getOther();w!=null&&h.putMetadata(Ee.PDF417_EXTRA_METADATA,w),o.push(h)}return o.map(l=>l)}static getMaxWidth(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))}static getMinWidth(t,n){return t==null||n==null?L.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(nn.getMaxWidth(t[0],t[4]),nn.getMaxWidth(t[6],t[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.max(nn.getMaxWidth(t[1],t[5]),nn.getMaxWidth(t[7],t[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(nn.getMinWidth(t[0],t[4]),nn.getMinWidth(t[6],t[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.min(nn.getMinWidth(t[1],t[5]),nn.getMinWidth(t[7],t[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}reset(){}}class $s extends m{}$s.kind="ReaderException";class Pc{constructor(t,n){this.verbose=t===!0,n&&this.setHints(n)}decode(t,n){return n&&this.setHints(n),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const n=!u(t)&&t.get(W.TRY_HARDER)===!0,i=u(t)?null:t.get(W.POSSIBLE_FORMATS),o=new Array;if(!u(i)){const a=i.some(l=>l===te.UPC_A||l===te.UPC_E||l===te.EAN_13||l===te.EAN_8||l===te.CODABAR||l===te.CODE_39||l===te.CODE_93||l===te.CODE_128||l===te.ITF||l===te.RSS_14||l===te.RSS_EXPANDED);a&&!n&&o.push(new xi(t,this.verbose)),i.includes(te.QR_CODE)&&o.push(new vr),i.includes(te.DATA_MATRIX)&&o.push(new Tr),i.includes(te.AZTEC)&&o.push(new ln),i.includes(te.PDF_417)&&o.push(new nn),a&&n&&o.push(new xi(t,this.verbose))}o.length===0&&(n||o.push(new xi(t,this.verbose)),o.push(new vr),o.push(new Tr),o.push(new ln),o.push(new nn),n&&o.push(new xi(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new $s("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(t,this.hints)}catch(i){if(i instanceof $s)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}class Kd extends me{constructor(t=null,n=500){const i=new Pc;i.setHints(t),super(i,n)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Zd extends me{constructor(t=500){super(new nn,t)}}class qd extends me{constructor(t=500){super(new vr,t)}}var ba;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})(ba||(ba={}));var Wt=ba;class Aa{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Pe(t,Int32Array.from([1])))}buildGenerator(t){const n=this.cachedGenerators;if(t>=n.length){let i=n[n.length-1];const o=this.field;for(let a=n.length;a<=t;a++){const l=i.multiply(new Pe(o,Int32Array.from([1,o.exp(a-1+o.getGeneratorBase())])));n.push(l),i=l}}return n[t]}encode(t,n){if(n===0)throw new b("No error correction bytes");const i=t.length-n;if(i<=0)throw new b("No data bytes provided");const o=this.buildGenerator(n),a=new Int32Array(i);k.arraycopy(t,0,a,0,i);let l=new Pe(this.field,a);l=l.multiplyByMonomial(n,1);const h=l.divide(o)[1].getCoefficients(),w=n-h.length;for(let C=0;C<w;C++)t[i+C]=0;k.arraycopy(h,0,t,i+w,h.length)}}class Pt{constructor(){}static applyMaskPenaltyRule1(t){return Pt.applyMaskPenaltyRule1Internal(t,!0)+Pt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let n=0;const i=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let l=0;l<a-1;l++){const d=i[l];for(let h=0;h<o-1;h++){const w=d[h];w===d[h+1]&&w===i[l+1][h]&&w===i[l+1][h+1]&&n++}}return Pt.N2*n}static applyMaskPenaltyRule3(t){let n=0;const i=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let l=0;l<a;l++)for(let d=0;d<o;d++){const h=i[l];d+6<o&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(Pt.isWhiteHorizontal(h,d-4,d)||Pt.isWhiteHorizontal(h,d+7,d+11))&&n++,l+6<a&&i[l][d]===1&&i[l+1][d]===0&&i[l+2][d]===1&&i[l+3][d]===1&&i[l+4][d]===1&&i[l+5][d]===0&&i[l+6][d]===1&&(Pt.isWhiteVertical(i,d,l-4,l)||Pt.isWhiteVertical(i,d,l+7,l+11))&&n++}return n*Pt.N3}static isWhiteHorizontal(t,n,i){n=Math.max(n,0),i=Math.min(i,t.length);for(let o=n;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,n,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let a=i;a<o;a++)if(t[a][n]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let n=0;const i=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let h=0;h<a;h++){const w=i[h];for(let C=0;C<o;C++)w[C]===1&&n++}const l=t.getHeight()*t.getWidth();return Math.floor(Math.abs(n*2-l)*10/l)*Pt.N4}static getDataMaskBit(t,n,i){let o,a;switch(t){case 0:o=i+n&1;break;case 1:o=i&1;break;case 2:o=n%3;break;case 3:o=(i+n)%3;break;case 4:o=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:a=i*n,o=(a&1)+a%3;break;case 6:a=i*n,o=(a&1)+a%3&1;break;case 7:a=i*n,o=a%3+(i+n&1)&1;break;default:throw new b("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,n){let i=0;const o=n?t.getHeight():t.getWidth(),a=n?t.getWidth():t.getHeight(),l=t.getArray();for(let d=0;d<o;d++){let h=0,w=-1;for(let C=0;C<a;C++){const I=n?l[d][C]:l[C][d];I===w?h++:(h>=5&&(i+=Pt.N1+(h-5)),h=1,w=I)}h>=5&&(i+=Pt.N1+(h-5))}return i}}Pt.N1=3,Pt.N2=3,Pt.N3=40,Pt.N4=10;class Ks{constructor(t,n){this.width=t,this.height=n;const i=new Array(n);for(let o=0;o!==n;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,n){return this.bytes[n][t]}getArray(){return this.bytes}setNumber(t,n,i){this.bytes[n][t]=i}setBoolean(t,n,i){this.bytes[n][t]=i?1:0}clear(t){for(const n of this.bytes)B.fill(n,t)}equals(t){if(!(t instanceof Ks))return!1;const n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i],l=n.bytes[i];for(let d=0,h=this.width;d<h;++d)if(a[d]!==l[d])return!1}return!0}toString(){const t=new le;for(let n=0,i=this.height;n<i;++n){const o=this.bytes[n];for(let a=0,l=this.width;a<l;++a)switch(o[a]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new le;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Jr.NUM_MASK_PATTERNS}}Jr.NUM_MASK_PATTERNS=8;class pt extends m{}pt.kind="WriterException";class We{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,n,i,o,a){We.clearMatrix(a),We.embedBasicPatterns(i,a),We.embedTypeInfo(n,o,a),We.maybeEmbedVersionInfo(i,a),We.embedDataBits(t,o,a)}static embedBasicPatterns(t,n){We.embedPositionDetectionPatternsAndSeparators(n),We.embedDarkDotAtLeftBottomCorner(n),We.maybeEmbedPositionAdjustmentPatterns(t,n),We.embedTimingPatterns(n)}static embedTypeInfo(t,n,i){const o=new D;We.makeTypeInfoBits(t,n,o);for(let a=0,l=o.getSize();a<l;++a){const d=o.get(o.getSize()-1-a),h=We.TYPE_INFO_COORDINATES[a],w=h[0],C=h[1];if(i.setBoolean(w,C,d),a<8){const I=i.getWidth()-a-1,v=8;i.setBoolean(I,v,d)}else{const v=i.getHeight()-7+(a-8);i.setBoolean(8,v,d)}}}static maybeEmbedVersionInfo(t,n){if(t.getVersionNumber()<7)return;const i=new D;We.makeVersionInfoBits(t,i);let o=6*3-1;for(let a=0;a<6;++a)for(let l=0;l<3;++l){const d=i.get(o);o--,n.setBoolean(a,n.getHeight()-11+l,d),n.setBoolean(n.getHeight()-11+l,a,d)}}static embedDataBits(t,n,i){let o=0,a=-1,l=i.getWidth()-1,d=i.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);d>=0&&d<i.getHeight();){for(let h=0;h<2;++h){const w=l-h;if(!We.isEmpty(i.get(w,d)))continue;let C;o<t.getSize()?(C=t.get(o),++o):C=!1,n!==255&&Pt.getDataMaskBit(n,w,d)&&(C=!C),i.setBoolean(w,d,C)}d+=a}a=-a,d+=a,l-=2}if(o!==t.getSize())throw new pt("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-L.numberOfLeadingZeros(t)}static calculateBCHCode(t,n){if(n===0)throw new b("0 polynomial");const i=We.findMSBSet(n);for(t<<=i-1;We.findMSBSet(t)>=i;)t^=n<<We.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,n,i){if(!Jr.isValidMaskPattern(n))throw new pt("Invalid mask pattern");const o=t.getBits()<<3|n;i.appendBits(o,5);const a=We.calculateBCHCode(o,We.TYPE_INFO_POLY);i.appendBits(a,10);const l=new D;if(l.appendBits(We.TYPE_INFO_MASK_PATTERN,15),i.xor(l),i.getSize()!==15)throw new pt("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,n){n.appendBits(t.getVersionNumber(),6);const i=We.calculateBCHCode(t.getVersionNumber(),We.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new pt("should not happen but we got: "+n.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let n=8;n<t.getWidth()-8;++n){const i=(n+1)%2;We.isEmpty(t.get(n,6))&&t.setNumber(n,6,i),We.isEmpty(t.get(6,n))&&t.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new pt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,n,i){for(let o=0;o<8;++o){if(!We.isEmpty(i.get(t+o,n)))throw new pt;i.setNumber(t+o,n,0)}}static embedVerticalSeparationPattern(t,n,i){for(let o=0;o<7;++o){if(!We.isEmpty(i.get(t,n+o)))throw new pt;i.setNumber(t,n+o,0)}}static embedPositionAdjustmentPattern(t,n,i){for(let o=0;o<5;++o){const a=We.POSITION_ADJUSTMENT_PATTERN[o];for(let l=0;l<5;++l)i.setNumber(t+l,n+o,a[l])}}static embedPositionDetectionPattern(t,n,i){for(let o=0;o<7;++o){const a=We.POSITION_DETECTION_PATTERN[o];for(let l=0;l<7;++l)i.setNumber(t+l,n+o,a[l])}}static embedPositionDetectionPatternsAndSeparators(t){const n=We.POSITION_DETECTION_PATTERN[0].length;We.embedPositionDetectionPattern(0,0,t),We.embedPositionDetectionPattern(t.getWidth()-n,0,t),We.embedPositionDetectionPattern(0,t.getWidth()-n,t);const i=8;We.embedHorizontalSeparationPattern(0,i-1,t),We.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),We.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;We.embedVerticalSeparationPattern(o,0,t),We.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),We.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,n){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let a=0,l=o.length;a!==l;a++){const d=o[a];if(d>=0)for(let h=0;h!==l;h++){const w=o[h];w>=0&&We.isEmpty(n.get(w,d))&&We.embedPositionAdjustmentPattern(w-2,d-2,n)}}}}We.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),We.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),We.VERSION_INFO_POLY=7973,We.TYPE_INFO_POLY=1335,We.TYPE_INFO_MASK_PATTERN=21522;class Qd{constructor(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class vt{constructor(){}static calculateMaskPenalty(t){return Pt.applyMaskPenaltyRule1(t)+Pt.applyMaskPenaltyRule2(t)+Pt.applyMaskPenaltyRule3(t)+Pt.applyMaskPenaltyRule4(t)}static encode(t,n,i=null){let o=vt.DEFAULT_BYTE_MODE_ENCODING;const a=i!==null&&i.get(Wt.CHARACTER_SET)!==void 0;a&&(o=i.get(Wt.CHARACTER_SET).toString());const l=this.chooseMode(t,o),d=new D;if(l===Ue.BYTE&&(a||vt.DEFAULT_BYTE_MODE_ENCODING!==o)){const _e=$.getCharacterSetECIByName(o);_e!==void 0&&this.appendECI(_e,d)}this.appendModeInfo(l,d);const h=new D;this.appendBytes(t,l,h,o);let w;if(i!==null&&i.get(Wt.QR_VERSION)!==void 0){const _e=Number.parseInt(i.get(Wt.QR_VERSION).toString(),10);w=ke.getVersionForNumber(_e);const Ce=this.calculateBitsNeeded(l,d,h,w);if(!this.willFit(Ce,w,n))throw new pt("Data too big for requested version")}else w=this.recommendVersion(n,l,d,h);const C=new D;C.appendBitArray(d);const I=l===Ue.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(I,w,l,C),C.appendBitArray(h);const v=w.getECBlocksForLevel(n),R=w.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(R,C);const H=this.interleaveWithECBytes(C,w.getTotalCodewords(),R,v.getNumBlocks()),Y=new Jr;Y.setECLevel(n),Y.setMode(l),Y.setVersion(w);const Z=w.getDimensionForVersion(),ie=new Ks(Z,Z),ye=this.chooseMaskPattern(H,n,w,ie);return Y.setMaskPattern(ye),We.buildMatrix(H,n,w,ye,ie),Y.setMatrix(ie),Y}static recommendVersion(t,n,i,o){const a=this.calculateBitsNeeded(n,i,o,ke.getVersionForNumber(1)),l=this.chooseVersion(a,t),d=this.calculateBitsNeeded(n,i,o,l);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,n,i,o){return n.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<vt.ALPHANUMERIC_TABLE.length?vt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,n=null){if($.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return Ue.KANJI;let i=!1,o=!1;for(let a=0,l=t.length;a<l;++a){const d=t.charAt(a);if(vt.isDigit(d))i=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)o=!0;else return Ue.BYTE}return o?Ue.ALPHANUMERIC:i?Ue.NUMERIC:Ue.BYTE}static isOnlyDoubleByteKanji(t){let n;try{n=Ae.encode(t,$.SJIS)}catch(o){return!1}const i=n.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const a=n[o]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0}static chooseMaskPattern(t,n,i,o){let a=Number.MAX_SAFE_INTEGER,l=-1;for(let d=0;d<Jr.NUM_MASK_PATTERNS;d++){We.buildMatrix(t,n,i,d,o);let h=this.calculateMaskPenalty(o);h<a&&(a=h,l=d)}return l}static chooseVersion(t,n){for(let i=1;i<=40;i++){const o=ke.getVersionForNumber(i);if(vt.willFit(t,o,n))return o}throw new pt("Data too big")}static willFit(t,n,i){const o=n.getTotalCodewords(),l=n.getECBlocksForLevel(i).getTotalECCodewords(),d=o-l,h=(t+7)/8;return d>=h}static terminateBits(t,n){const i=t*8;if(n.getSize()>i)throw new pt("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let l=0;l<4&&n.getSize()<i;++l)n.appendBit(!1);const o=n.getSize()&7;if(o>0)for(let l=o;l<8;l++)n.appendBit(!1);const a=t-n.getSizeInBytes();for(let l=0;l<a;++l)n.appendBits(l&1?17:236,8);if(n.getSize()!==i)throw new pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,n,i,o,a,l){if(o>=i)throw new pt("Block ID too large");const d=t%i,h=i-d,w=Math.floor(t/i),C=w+1,I=Math.floor(n/i),v=I+1,R=w-I,H=C-v;if(R!==H)throw new pt("EC bytes mismatch");if(i!==h+d)throw new pt("RS blocks mismatch");if(t!==(I+R)*h+(v+H)*d)throw new pt("Total bytes mismatch");o<h?(a[0]=I,l[0]=R):(a[0]=v,l[0]=H)}static interleaveWithECBytes(t,n,i,o){if(t.getSizeInBytes()!==i)throw new pt("Number of bits and data bytes does not match");let a=0,l=0,d=0;const h=new Array;for(let C=0;C<o;++C){const I=new Int32Array(1),v=new Int32Array(1);vt.getNumDataBytesAndNumECBytesForBlockID(n,i,o,C,I,v);const R=I[0],H=new Uint8Array(R);t.toBytes(8*a,H,0,R);const Y=vt.generateECBytes(H,v[0]);h.push(new Qd(H,Y)),l=Math.max(l,R),d=Math.max(d,Y.length),a+=I[0]}if(i!==a)throw new pt("Data bytes does not match offset");const w=new D;for(let C=0;C<l;++C)for(const I of h){const v=I.getDataBytes();C<v.length&&w.appendBits(v[C],8)}for(let C=0;C<d;++C)for(const I of h){const v=I.getErrorCorrectionBytes();C<v.length&&w.appendBits(v[C],8)}if(n!==w.getSizeInBytes())throw new pt("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(t,n){const i=t.length,o=new Int32Array(i+n);for(let l=0;l<i;l++)o[l]=t[l]&255;new Aa(A.QR_CODE_FIELD_256).encode(o,n);const a=new Uint8Array(n);for(let l=0;l<n;l++)a[l]=o[i+l];return a}static appendModeInfo(t,n){n.appendBits(t.getBits(),4)}static appendLengthInfo(t,n,i,o){const a=i.getCharacterCountBits(n);if(t>=1<<a)throw new pt(t+" is bigger than "+((1<<a)-1));o.appendBits(t,a)}static appendBytes(t,n,i,o){switch(n){case Ue.NUMERIC:vt.appendNumericBytes(t,i);break;case Ue.ALPHANUMERIC:vt.appendAlphanumericBytes(t,i);break;case Ue.BYTE:vt.append8BitBytes(t,i,o);break;case Ue.KANJI:vt.appendKanjiBytes(t,i);break;default:throw new pt("Invalid mode: "+n)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const n=vt.getDigit(t);return n>=0&&n<=9}static appendNumericBytes(t,n){const i=t.length;let o=0;for(;o<i;){const a=vt.getDigit(t.charAt(o));if(o+2<i){const l=vt.getDigit(t.charAt(o+1)),d=vt.getDigit(t.charAt(o+2));n.appendBits(a*100+l*10+d,10),o+=3}else if(o+1<i){const l=vt.getDigit(t.charAt(o+1));n.appendBits(a*10+l,7),o+=2}else n.appendBits(a,4),o++}}static appendAlphanumericBytes(t,n){const i=t.length;let o=0;for(;o<i;){const a=vt.getAlphanumericCode(t.charCodeAt(o));if(a===-1)throw new pt;if(o+1<i){const l=vt.getAlphanumericCode(t.charCodeAt(o+1));if(l===-1)throw new pt;n.appendBits(a*45+l,11),o+=2}else n.appendBits(a,6),o++}}static append8BitBytes(t,n,i){let o;try{o=Ae.encode(t,i)}catch(a){throw new pt(a)}for(let a=0,l=o.length;a!==l;a++){const d=o[a];n.appendBits(d,8)}}static appendKanjiBytes(t,n){let i;try{i=Ae.encode(t,$.SJIS)}catch(a){throw new pt(a)}const o=i.length;for(let a=0;a<o;a+=2){const l=i[a]&255,d=i[a+1]&255,h=l<<8&4294967295|d;let w=-1;if(h>=33088&&h<=40956?w=h-33088:h>=57408&&h<=60351&&(w=h-49472),w===-1)throw new pt("Invalid byte sequence");const C=(w>>8)*192+(w&255);n.appendBits(C,13)}}static appendECI(t,n){n.appendBits(Ue.ECI.getBits(),4),n.appendBits(t.getValue(),8)}}vt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),vt.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class ei{write(t,n,i,o=null){if(t.length===0)throw new b("Found empty contents");if(n<0||i<0)throw new b("Requested dimensions are too small: "+n+"x"+i);let a=yt.L,l=ei.QUIET_ZONE_SIZE;o!==null&&(o.get(Wt.ERROR_CORRECTION)!==void 0&&(a=yt.fromString(o.get(Wt.ERROR_CORRECTION).toString())),o.get(Wt.MARGIN)!==void 0&&(l=Number.parseInt(o.get(Wt.MARGIN).toString(),10)));const d=vt.encode(t,a,o);return this.renderResult(d,n,i,l)}writeToDom(t,n,i,o,a=null){typeof t=="string"&&(t=document.querySelector(t));const l=this.write(n,i,o,a);t&&t.appendChild(l)}renderResult(t,n,i,o){const a=t.getMatrix();if(a===null)throw new O;const l=a.getWidth(),d=a.getHeight(),h=l+o*2,w=d+o*2,C=Math.max(n,h),I=Math.max(i,w),v=Math.min(Math.floor(C/h),Math.floor(I/w)),R=Math.floor((C-l*v)/2),H=Math.floor((I-d*v)/2),Y=this.createSVGElement(C,I);for(let Z=0,ie=H;Z<d;Z++,ie+=v)for(let ye=0,_e=R;ye<l;ye++,_e+=v)if(a.get(ye,Z)===1){const Ce=this.createSvgRectElement(_e,ie,v,v);Y.appendChild(Ce)}return Y}createSVGElement(t,n){const i=document.createElementNS(ei.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(t,n,i,o){const a=document.createElementNS(ei.SVG_NS,"rect");return a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",o.toString()),a.setAttributeNS(null,"fill","#000000"),a}}ei.QUIET_ZONE_SIZE=4,ei.SVG_NS="http://www.w3.org/2000/svg";class Ei{encode(t,n,i,o,a){if(t.length===0)throw new b("Found empty contents");if(n!==te.QR_CODE)throw new b("Can only encode QR_CODE, but got "+n);if(i<0||o<0)throw new b(`Requested dimensions are too small: ${i}x${o}`);let l=yt.L,d=Ei.QUIET_ZONE_SIZE;a!==null&&(a.get(Wt.ERROR_CORRECTION)!==void 0&&(l=yt.fromString(a.get(Wt.ERROR_CORRECTION).toString())),a.get(Wt.MARGIN)!==void 0&&(d=Number.parseInt(a.get(Wt.MARGIN).toString(),10)));const h=vt.encode(t,l,a);return Ei.renderResult(h,i,o,d)}static renderResult(t,n,i,o){const a=t.getMatrix();if(a===null)throw new O;const l=a.getWidth(),d=a.getHeight(),h=l+o*2,w=d+o*2,C=Math.max(n,h),I=Math.max(i,w),v=Math.min(Math.floor(C/h),Math.floor(I/w)),R=Math.floor((C-l*v)/2),H=Math.floor((I-d*v)/2),Y=new be(C,I);for(let Z=0,ie=H;Z<d;Z++,ie+=v)for(let ye=0,_e=R;ye<l;ye++,_e+=v)a.get(ye,Z)===1&&Y.setRegion(_e,ie,v,v);return Y}}Ei.QUIET_ZONE_SIZE=4;class Jd{encode(t,n,i,o,a){let l;switch(n){case te.QR_CODE:l=new Ei;break;default:throw new b("No encoder available for format "+n)}return l.encode(t,n,i,o,a)}}class er extends Se{constructor(t,n,i,o,a,l,d,h){if(super(l,d),this.yuvData=t,this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=a,o+l>n||a+d>i)throw new b("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(l,d)}getRow(t,n){if(t<0||t>=this.getHeight())throw new b("Requested row is outside the image: "+t);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,o,n,0,i),n}getMatrix(){const t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=t*n,o=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return k.arraycopy(this.yuvData,a,o,0,i),o;for(let l=0;l<n;l++){const d=l*t;k.arraycopy(this.yuvData,a,o,d,t),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,n,i,o){return new er(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,o,!1)}renderThumbnail(){const t=this.getWidth()/er.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/er.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),o=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let l=0;l<n;l++){const d=l*t;for(let h=0;h<t;h++){const w=o[a+h*er.THUMBNAIL_SCALE_FACTOR]&255;i[d+h]=4278190080|w*65793}a+=this.dataWidth*er.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/er.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/er.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,n){const i=this.yuvData;for(let o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth){const l=a+t/2;for(let d=a,h=a+t-1;d<l;d++,h--){const w=i[d];i[d]=i[h],i[h]=w}}}invert(){return new Q(this)}}er.THUMBNAIL_SCALE_FACTOR=2;class ya extends Se{constructor(t,n,i,o,a,l,d){if(super(n,i),this.dataWidth=o,this.dataHeight=a,this.left=l,this.top=d,t.BYTES_PER_ELEMENT===4){const h=n*i,w=new Uint8ClampedArray(h);for(let C=0;C<h;C++){const I=t[C],v=I>>16&255,R=I>>7&510,H=I&255;w[C]=(v+R+H)/4&255}this.luminances=w}else this.luminances=t;if(o===void 0&&(this.dataWidth=n),a===void 0&&(this.dataHeight=i),l===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(t,n){if(t<0||t>=this.getHeight())throw new b("Requested row is outside the image: "+t);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,o,n,0,i),n}getMatrix(){const t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=t*n,o=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return k.arraycopy(this.luminances,a,o,0,i),o;for(let l=0;l<n;l++){const d=l*t;k.arraycopy(this.luminances,a,o,d,t),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,n,i,o){return new ya(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+n)}invert(){return new Q(this)}}class Bc extends ${static forName(t){return this.getCharacterSetECIByName(t)}}class _a{}_a.ISO_8859_1=$.ISO8859_1;class kc{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Fc{static singletonList(t){return[t]}static min(t,n){return t.sort(n)[0]}}class eh{constructor(t){this.previous=t}getPrevious(){return this.previous}}class pi extends eh{constructor(t,n,i){super(t),this.value=n,this.bitCount=i}appendTo(t,n){t.appendBits(this.value,this.bitCount)}add(t,n){return new pi(this,t,n)}addBinaryShift(t,n){return new pi(this,t,n)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+L.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ia extends pi{constructor(t,n,i){super(t,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(t,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(t,n){return new Ia(this,t,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function th(_,t,n){return new Ia(_,t,n)}function es(_,t,n){return new pi(_,t,n)}const nh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Nr=0,Zs=1,Ln=2,Uc=3,tr=4,rh=new pi(null,0,0),Ta=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function ih(_){for(let t of _)B.fill(t,-1);return _[Nr][tr]=0,_[Zs][tr]=0,_[Zs][Nr]=28,_[Uc][tr]=0,_[Ln][tr]=0,_[Ln][Nr]=15,_}const Vc=ih(B.createInt32Array(6,6));class nr{constructor(t,n,i,o){this.token=t,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,n){let i=this.bitCount,o=this.token;if(t!==this.mode){let l=Ta[this.mode][t];o=es(o,l&65535,l>>16),i+=l>>16}let a=t===Ln?4:5;return o=es(o,n,a),new nr(o,t,0,i+a)}shiftAndAppend(t,n){let i=this.token,o=this.mode===Ln?4:5;return i=es(i,Vc[this.mode][t],o),i=es(i,n,5),new nr(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let n=this.token,i=this.mode,o=this.bitCount;if(this.mode===tr||this.mode===Ln){let d=Ta[i][Nr];n=es(n,d&65535,d>>16),o+=d>>16,i=Nr}let a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new nr(n,i,this.binaryShiftByteCount+1,o+a);return l.binaryShiftByteCount===2047+31&&(l=l.endBinaryShift(t+1)),l}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=th(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new nr(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let n=this.bitCount+(Ta[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=nr.calculateBinaryShiftCost(t)-nr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount}toBitArray(t){let n=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())n.unshift(o);let i=new D;for(const o of n)o.appendTo(i,t);return i}toString(){return z.format("%s bits=%d bytes=%d",nh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}nr.INITIAL_STATE=new nr(rh,Nr,0,0);function sh(_){const t=z.getCharCode(" "),n=z.getCharCode("."),i=z.getCharCode(",");_[Nr][t]=1;const o=z.getCharCode("Z"),a=z.getCharCode("A");for(let v=a;v<=o;v++)_[Nr][v]=v-a+2;_[Zs][t]=1;const l=z.getCharCode("z"),d=z.getCharCode("a");for(let v=d;v<=l;v++)_[Zs][v]=v-d+2;_[Ln][t]=1;const h=z.getCharCode("9"),w=z.getCharCode("0");for(let v=w;v<=h;v++)_[Ln][v]=v-w+2;_[Ln][i]=12,_[Ln][n]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<C.length;v++)_[Uc][z.getCharCode(C[v])]=v;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<I.length;v++)z.getCharCode(I[v])>0&&(_[tr][z.getCharCode(I[v])]=v);return _}const va=sh(B.createInt32Array(5,256));class ts{constructor(t){this.text=t}encode(){const t=z.getCharCode(" "),n=z.getCharCode(`
`);let i=Fc.singletonList(nr.INITIAL_STATE);for(let a=0;a<this.text.length;a++){let l,d=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case z.getCharCode("\r"):l=d===n?2:0;break;case z.getCharCode("."):l=d===t?3:0;break;case z.getCharCode(","):l=d===t?4:0;break;case z.getCharCode(":"):l=d===t?5:0;break;default:l=0}l>0?(i=ts.updateStateListForPair(i,a,l),a++):i=this.updateStateListForChar(i,a)}return Fc.min(i,(a,l)=>a.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,n){const i=[];for(let o of t)this.updateStateForChar(o,n,i);return ts.simplifyStates(i)}updateStateForChar(t,n,i){let o=this.text[n]&255,a=va[t.getMode()][o]>0,l=null;for(let d=0;d<=tr;d++){let h=va[d][o];if(h>0){if(l==null&&(l=t.endBinaryShift(n)),!a||d===t.getMode()||d===Ln){const w=l.latchAndAppend(d,h);i.push(w)}if(!a&&Vc[t.getMode()][d]>=0){const w=l.shiftAndAppend(d,h);i.push(w)}}}if(t.getBinaryShiftByteCount()>0||va[t.getMode()][o]===0){let d=t.addBinaryShiftChar(n);i.push(d)}}static updateStateListForPair(t,n,i){const o=[];for(let a of t)this.updateStateForPair(a,n,i,o);return this.simplifyStates(o)}static updateStateForPair(t,n,i,o){let a=t.endBinaryShift(n);if(o.push(a.latchAndAppend(tr,i)),t.getMode()!==tr&&o.push(a.shiftAndAppend(tr,i)),i===3||i===4){let l=a.latchAndAppend(Ln,16-i).latchAndAppend(Ln,1);o.push(l)}if(t.getBinaryShiftByteCount()>0){let l=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(l)}}static simplifyStates(t){let n=[];for(const i of t){let o=!0;for(const a of n){if(a.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(a)&&(n=n.filter(l=>l!==a))}o&&n.push(i)}return n}}class lt{constructor(){}static encodeBytes(t){return lt.encode(t,lt.DEFAULT_EC_PERCENT,lt.DEFAULT_AZTEC_LAYERS)}static encode(t,n,i){let o=new ts(t).encode(),a=L.truncDivision(o.getSize()*n,100)+11,l=o.getSize()+a,d,h,w,C,I;if(i!==lt.DEFAULT_AZTEC_LAYERS){if(d=i<0,h=Math.abs(i),h>(d?lt.MAX_NB_BITS_COMPACT:lt.MAX_NB_BITS))throw new b(z.format("Illegal value %s for layers",i));w=lt.totalBitsInLayer(h,d),C=lt.WORD_SIZE[h];let Ce=w-w%C;if(I=lt.stuffBits(o,C),I.getSize()+a>Ce)throw new b("Data to large for user specified layer");if(d&&I.getSize()>C*64)throw new b("Data to large for user specified layer")}else{C=0,I=null;for(let Ce=0;;Ce++){if(Ce>lt.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(d=Ce<=3,h=d?Ce+1:Ce,w=lt.totalBitsInLayer(h,d),l>w)continue;(I==null||C!==lt.WORD_SIZE[h])&&(C=lt.WORD_SIZE[h],I=lt.stuffBits(o,C));let rt=w-w%C;if(!(d&&I.getSize()>C*64)&&I.getSize()+a<=rt)break}}let v=lt.generateCheckWords(I,w,C),R=I.getSize()/C,H=lt.generateModeMessage(d,h,R),Y=(d?11:14)+h*4,Z=new Int32Array(Y),ie;if(d){ie=Y;for(let Ce=0;Ce<Z.length;Ce++)Z[Ce]=Ce}else{ie=Y+1+2*L.truncDivision(L.truncDivision(Y,2)-1,15);let Ce=L.truncDivision(Y,2),rt=L.truncDivision(ie,2);for(let je=0;je<Ce;je++){let pn=je+L.truncDivision(je,15);Z[Ce-je-1]=rt-pn-1,Z[Ce+je]=rt+pn+1}}let ye=new be(ie);for(let Ce=0,rt=0;Ce<h;Ce++){let je=(h-Ce)*4+(d?9:12);for(let pn=0;pn<je;pn++){let Xn=pn*2;for(let Cn=0;Cn<2;Cn++)v.get(rt+Xn+Cn)&&ye.set(Z[Ce*2+Cn],Z[Ce*2+pn]),v.get(rt+je*2+Xn+Cn)&&ye.set(Z[Ce*2+pn],Z[Y-1-Ce*2-Cn]),v.get(rt+je*4+Xn+Cn)&&ye.set(Z[Y-1-Ce*2-Cn],Z[Y-1-Ce*2-pn]),v.get(rt+je*6+Xn+Cn)&&ye.set(Z[Y-1-Ce*2-pn],Z[Ce*2+Cn])}rt+=je*8}if(lt.drawModeMessage(ye,d,ie,H),d)lt.drawBullsEye(ye,L.truncDivision(ie,2),5);else{lt.drawBullsEye(ye,L.truncDivision(ie,2),7);for(let Ce=0,rt=0;Ce<L.truncDivision(Y,2)-1;Ce+=15,rt+=16)for(let je=L.truncDivision(ie,2)&1;je<ie;je+=2)ye.set(L.truncDivision(ie,2)-rt,je),ye.set(L.truncDivision(ie,2)+rt,je),ye.set(je,L.truncDivision(ie,2)-rt),ye.set(je,L.truncDivision(ie,2)+rt)}let _e=new kc;return _e.setCompact(d),_e.setSize(ie),_e.setLayers(h),_e.setCodeWords(R),_e.setMatrix(ye),_e}static drawBullsEye(t,n,i){for(let o=0;o<i;o+=2)for(let a=n-o;a<=n+o;a++)t.set(a,n-o),t.set(a,n+o),t.set(n-o,a),t.set(n+o,a);t.set(n-i,n-i),t.set(n-i+1,n-i),t.set(n-i,n-i+1),t.set(n+i,n-i),t.set(n+i,n-i+1),t.set(n+i,n+i-1)}static generateModeMessage(t,n,i){let o=new D;return t?(o.appendBits(n-1,2),o.appendBits(i-1,6),o=lt.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(i-1,11),o=lt.generateCheckWords(o,40,4)),o}static drawModeMessage(t,n,i,o){let a=L.truncDivision(i,2);if(n)for(let l=0;l<7;l++){let d=a-3+l;o.get(l)&&t.set(d,a-5),o.get(l+7)&&t.set(a+5,d),o.get(20-l)&&t.set(d,a+5),o.get(27-l)&&t.set(a-5,d)}else for(let l=0;l<10;l++){let d=a-5+l+L.truncDivision(l,5);o.get(l)&&t.set(d,a-7),o.get(l+10)&&t.set(a+7,d),o.get(29-l)&&t.set(d,a+7),o.get(39-l)&&t.set(a-7,d)}}static generateCheckWords(t,n,i){let o=t.getSize()/i,a=new Aa(lt.getGF(i)),l=L.truncDivision(n,i),d=lt.bitsToWords(t,i,l);a.encode(d,l-o);let h=n%i,w=new D;w.appendBits(0,h);for(const C of Array.from(d))w.appendBits(C,i);return w}static bitsToWords(t,n,i){let o=new Int32Array(i),a,l;for(a=0,l=t.getSize()/n;a<l;a++){let d=0;for(let h=0;h<n;h++)d|=t.get(a*n+h)?1<<n-h-1:0;o[a]=d}return o}static getGF(t){switch(t){case 4:return A.AZTEC_PARAM;case 6:return A.AZTEC_DATA_6;case 8:return A.AZTEC_DATA_8;case 10:return A.AZTEC_DATA_10;case 12:return A.AZTEC_DATA_12;default:throw new b("Unsupported word size "+t)}}static stuffBits(t,n){let i=new D,o=t.getSize(),a=(1<<n)-2;for(let l=0;l<o;l+=n){let d=0;for(let h=0;h<n;h++)(l+h>=o||t.get(l+h))&&(d|=1<<n-1-h);(d&a)===a?(i.appendBits(d&a,n),l--):d&a?i.appendBits(d,n):(i.appendBits(d|1,n),l--)}return i}static totalBitsInLayer(t,n){return((n?88:112)+16*t)*t}}lt.DEFAULT_EC_PERCENT=33,lt.DEFAULT_AZTEC_LAYERS=0,lt.MAX_NB_BITS=32,lt.MAX_NB_BITS_COMPACT=4,lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class qs{encode(t,n,i,o){return this.encodeWithHints(t,n,i,o,null)}encodeWithHints(t,n,i,o,a){let l=_a.ISO_8859_1,d=lt.DEFAULT_EC_PERCENT,h=lt.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(Wt.CHARACTER_SET)&&(l=Bc.forName(a.get(Wt.CHARACTER_SET).toString())),a.has(Wt.ERROR_CORRECTION)&&(d=L.parseInt(a.get(Wt.ERROR_CORRECTION).toString())),a.has(Wt.AZTEC_LAYERS)&&(h=L.parseInt(a.get(Wt.AZTEC_LAYERS).toString()))),qs.encodeLayers(t,n,i,o,l,d,h)}static encodeLayers(t,n,i,o,a,l,d){if(n!==te.AZTEC)throw new b("Can only encode AZTEC, but got "+n);let h=lt.encode(z.getBytes(t,a),l,d);return qs.renderResult(h,i,o)}static renderResult(t,n,i){let o=t.getMatrix();if(o==null)throw new O;let a=o.getWidth(),l=o.getHeight(),d=Math.max(n,a),h=Math.max(i,l),w=Math.min(d/a,h/l),C=(d-a*w)/2,I=(h-l*w)/2,v=new be(d,h);for(let R=0,H=I;R<l;R++,H+=w)for(let Y=0,Z=C;Y<a;Y++,Z+=w)o.get(Y,R)&&v.setRegion(Z,H,w,w);return v}}s.AbstractExpandedDecoder=da,s.ArgumentException=p,s.ArithmeticException=He,s.AztecCode=kc,s.AztecCodeReader=ln,s.AztecCodeWriter=qs,s.AztecDecoder=se,s.AztecDetector=xt,s.AztecDetectorResult=oe,s.AztecEncoder=lt,s.AztecHighLevelEncoder=ts,s.AztecPoint=Xe,s.BarcodeFormat=te,s.Binarizer=F,s.BinaryBitmap=T,s.BitArray=D,s.BitMatrix=be,s.BitSource=xa,s.BrowserAztecCodeReader=Ar,s.BrowserBarcodeReader=Bd,s.BrowserCodeReader=me,s.BrowserDatamatrixCodeReader=Fd,s.BrowserMultiFormatReader=Kd,s.BrowserPDF417Reader=Zd,s.BrowserQRCodeReader=qd,s.BrowserQRCodeSvgWriter=ei,s.CharacterSetECI=$,s.ChecksumException=S,s.Code128Reader=Ie,s.Code39Reader=Mt,s.DataMatrixDecodedBitStreamParser=Ir,s.DataMatrixReader=Tr,s.DecodeHintType=W,s.DecoderResult=Ve,s.DefaultGridSampler=Ke,s.DetectorResult=X,s.EAN13Reader=Kr,s.EncodeHintType=Wt,s.Exception=m,s.FormatException=P,s.GenericGF=A,s.GenericGFPoly=Pe,s.GlobalHistogramBinarizer=de,s.GridSampler=Ne,s.GridSamplerInstance=Qe,s.HTMLCanvasElementLuminanceSource=we,s.HybridBinarizer=fe,s.ITFReader=Ze,s.IllegalArgumentException=b,s.IllegalStateException=O,s.InvertedLuminanceSource=Q,s.LuminanceSource=Se,s.MathUtils=he,s.MultiFormatOneDReader=xi,s.MultiFormatReader=Pc,s.MultiFormatWriter=Jd,s.NotFoundException=U,s.OneDReader=Rt,s.PDF417DecodedBitStreamParser=re,s.PDF417DecoderErrorCorrection=Nc,s.PDF417Reader=nn,s.PDF417ResultMetadata=Rc,s.PerspectiveTransform=Be,s.PlanarYUVLuminanceSource=er,s.QRCodeByteMatrix=Ks,s.QRCodeDataMask=Dn,s.QRCodeDecodedBitStreamParser=Dt,s.QRCodeDecoderErrorCorrectionLevel=yt,s.QRCodeDecoderFormatInformation=un,s.QRCodeEncoder=vt,s.QRCodeEncoderQRCode=Jr,s.QRCodeMaskUtil=Pt,s.QRCodeMatrixUtil=We,s.QRCodeMode=Ue,s.QRCodeReader=vr,s.QRCodeVersion=ke,s.QRCodeWriter=Ei,s.RGBLuminanceSource=ya,s.RSS14Reader=Lt,s.RSSExpandedReader=xe,s.ReaderException=$s,s.ReedSolomonDecoder=K,s.ReedSolomonEncoder=Aa,s.ReedSolomonException=y,s.Result=Le,s.ResultMetadataType=Ee,s.ResultPoint=J,s.StringUtils=z,s.UnsupportedOperationException=ge,s.VideoInputDevice=Te,s.WhiteRectangleDetector=ve,s.WriterException=pt,s.ZXingArrays=B,s.ZXingCharset=Bc,s.ZXingInteger=L,s.ZXingStandardCharsets=_a,s.ZXingStringBuilder=le,s.ZXingStringEncoding=Ae,s.ZXingSystem=k,s.createAbstractExpandedDecoder=vc,Object.defineProperty(s,"__esModule",{value:!0})})})(Rl,Rl.exports);var St=Rl.exports;const Q3=q3(St),J3=lh({__proto__:null,default:Q3},[St]);var Wf=function(){function e(r,s,u){if(this.formatMap=new Map([[Me.QR_CODE,St.BarcodeFormat.QR_CODE],[Me.AZTEC,St.BarcodeFormat.AZTEC],[Me.CODABAR,St.BarcodeFormat.CODABAR],[Me.CODE_39,St.BarcodeFormat.CODE_39],[Me.CODE_93,St.BarcodeFormat.CODE_93],[Me.CODE_128,St.BarcodeFormat.CODE_128],[Me.DATA_MATRIX,St.BarcodeFormat.DATA_MATRIX],[Me.MAXICODE,St.BarcodeFormat.MAXICODE],[Me.ITF,St.BarcodeFormat.ITF],[Me.EAN_13,St.BarcodeFormat.EAN_13],[Me.EAN_8,St.BarcodeFormat.EAN_8],[Me.PDF_417,St.BarcodeFormat.PDF_417],[Me.RSS_14,St.BarcodeFormat.RSS_14],[Me.RSS_EXPANDED,St.BarcodeFormat.RSS_EXPANDED],[Me.UPC_A,St.BarcodeFormat.UPC_A],[Me.UPC_E,St.BarcodeFormat.UPC_E],[Me.UPC_EAN_EXTENSION,St.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!J3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=u;var f=this.createZXingFormats(r),c=new Map;c.set(St.DecodeHintType.POSSIBLE_FORMATS,f),c.set(St.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(r){var s=this;return new Promise(function(u,f){try{u(s.decode(r))}catch(c){f(c)}})},e.prototype.decode=function(r){var s=new St.MultiFormatReader(this.verbose,this.hints),u=new St.HTMLCanvasElementLuminanceSource(r),f=new St.BinaryBitmap(new St.HybridBinarizer(u)),c=s.decode(f);return{text:c.text,format:Nd.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,u,f){r.set(s,u)}),r},e.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},e.prototype.createZXingFormats=function(r){for(var s=[],u=0,f=r;u<f.length;u++){var c=f[u];this.formatMap.has(c)?s.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),eC=globalThis&&globalThis.__awaiter||function(e,r,s,u){function f(c){return c instanceof s?c:new s(function(g){g(c)})}return new(s||(s=Promise))(function(c,g){function E(p){try{m(u.next(p))}catch(b){g(b)}}function x(p){try{m(u.throw(p))}catch(b){g(b)}}function m(p){p.done?c(p.value):f(p.value).then(E,x)}m((u=u.apply(e,r||[])).next())})},tC=globalThis&&globalThis.__generator||function(e,r){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},u,f,c,g;return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(m){return function(p){return x([m,p])}}function x(m){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(s=0)),s;)try{if(u=1,f&&(c=m[0]&2?f.return:m[0]?f.throw||((c=f.return)&&c.call(f),0):f.next)&&!(c=c.call(f,m[1])).done)return c;switch(f=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,f=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=r.call(e,s)}catch(p){m=[6,p],f=0}finally{u=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Gf=function(){function e(r,s,u){if(this.formatMap=new Map([[Me.QR_CODE,"qr_code"],[Me.AZTEC,"aztec"],[Me.CODABAR,"codabar"],[Me.CODE_39,"code_39"],[Me.CODE_93,"code_93"],[Me.CODE_128,"code_128"],[Me.DATA_MATRIX,"data_matrix"],[Me.ITF,"itf"],[Me.EAN_13,"ean_13"],[Me.EAN_8,"ean_8"],[Me.PDF_417,"pdf417"],[Me.UPC_A,"upc_a"],[Me.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=u;var f=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r!="undefined"},e.prototype.decodeAsync=function(r){return eC(this,void 0,void 0,function(){var s,u;return tC(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(r)];case 1:if(s=f.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return u=this.selectLargestBarcode(s),[2,{text:u.rawValue,format:Nd.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(r){for(var s=null,u=0,f=0,c=r;f<c.length;f++){var g=c[f],E=g.boundingBox.width*g.boundingBox.height;E>u&&(u=E,s=g)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(r){for(var s=[],u=0,f=r;u<f.length;u++){var c=f[u];this.formatMap.has(c)?s.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},e.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,u,f){r.set(s,u)}),r},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Xf=globalThis&&globalThis.__awaiter||function(e,r,s,u){function f(c){return c instanceof s?c:new s(function(g){g(c)})}return new(s||(s=Promise))(function(c,g){function E(p){try{m(u.next(p))}catch(b){g(b)}}function x(p){try{m(u.throw(p))}catch(b){g(b)}}function m(p){p.done?c(p.value):f(p.value).then(E,x)}m((u=u.apply(e,r||[])).next())})},Yf=globalThis&&globalThis.__generator||function(e,r){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},u,f,c,g;return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(m){return function(p){return x([m,p])}}function x(m){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(s=0)),s;)try{if(u=1,f&&(c=m[0]&2?f.return:m[0]?f.throw||((c=f.return)&&c.call(f),0):f.next)&&!(c=c.call(f,m[1])).done)return c;switch(f=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,f=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=r.call(e,s)}catch(p){m=[6,p],f=0}finally{u=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},nC=function(){function e(r,s,u,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=u,s&&Gf.isSupported()?(this.primaryDecoder=new Gf(r,u,f),this.secondaryDecoder=new Wf(r,u,f)):this.primaryDecoder=new Wf(r,u,f)}return e.prototype.decodeAsync=function(r){return Xf(this,void 0,void 0,function(){var s;return Yf(this,function(u){switch(u.label){case 0:s=performance.now(),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,u.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(r){return Xf(this,void 0,void 0,function(){var s,u;return Yf(this,function(f){switch(f.label){case 0:s=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,f.sent()];case 3:if(u=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw u;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(r){if(this.verbose){var s=performance.now()-r;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,s=0,u=this.executionResults;s<u.length;s++){var f=u[s];r+=f}var c=r/this.executionResults.length;this.executions=0,this.executionResults=[]}},e}(),yc=globalThis&&globalThis.__extends||function(){var e=function(r,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(u[c]=f[c])},e(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(r,s);function u(){this.constructor=r}r.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}(),Po=globalThis&&globalThis.__awaiter||function(e,r,s,u){function f(c){return c instanceof s?c:new s(function(g){g(c)})}return new(s||(s=Promise))(function(c,g){function E(p){try{m(u.next(p))}catch(b){g(b)}}function x(p){try{m(u.throw(p))}catch(b){g(b)}}function m(p){p.done?c(p.value):f(p.value).then(E,x)}m((u=u.apply(e,r||[])).next())})},Bo=globalThis&&globalThis.__generator||function(e,r){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},u,f,c,g;return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(m){return function(p){return x([m,p])}}function x(m){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(s=0)),s;)try{if(u=1,f&&(c=m[0]&2?f.return:m[0]?f.throw||((c=f.return)&&c.call(f),0):f.next)&&!(c=c.call(f,m[1])).done)return c;switch(f=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,f=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=r.call(e,s)}catch(p){m=[6,p],f=0}finally{u=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Rd=function(){function e(r,s){this.name=r,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(r){var s={};s[this.name]=r;var u={advanced:[s]};return this.track.applyConstraints(u)},e.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var s=r[this.name];return s}return null},e}(),rC=function(e){yc(r,e);function r(s,u){return e.call(this,s,u)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(s){var u={};u[this.name]=s;var f={advanced:[u]};return this.track.applyConstraints(f)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),u=s[this.name];return{min:u.min,max:u.max,step:u.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r}(Rd),iC=function(e){yc(r,e);function r(s){return e.call(this,"zoom",s)||this}return r}(rC),sC=function(e){yc(r,e);function r(s){return e.call(this,"torch",s)||this}return r}(Rd),oC=function(){function e(r){this.track=r}return e.prototype.zoomFeature=function(){return new iC(this.track)},e.prototype.torchFeature=function(){return new sC(this.track)},e}(),aC=function(){function e(r,s,u){this.isClosed=!1,this.parentElement=r,this.mediaStream=s,this.callbacks=u,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return e.prototype.createVideoElement=function(r){var s=document.createElement("video");return s.style.width="".concat(r,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var u=r.surface.clientWidth,f=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(u,f),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(r,s,u,f){return Po(this,void 0,void 0,function(){var c,g;return Bo(this,function(E){switch(E.label){case 0:return c=new e(r,s,f),u.aspectRatio?(g={aspectRatio:u.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:E.sent(),E.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(r){this.failIfClosed();var s=this,u=function(){setTimeout(r,200),s.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(r){return Po(this,void 0,void 0,function(){return Bo(this,function(s){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(s,u){var f=r.mediaStream.getVideoTracks(),c=f.length,g=0;r.mediaStream.getVideoTracks().forEach(function(E){r.mediaStream.removeTrack(E),E.stop(),++g,g>=c&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),s())})})},e.prototype.getCapabilities=function(){return new oC(this.getFirstTrackOrFail())},e}(),lC=function(){function e(r){this.mediaStream=r}return e.prototype.render=function(r,s,u){return Po(this,void 0,void 0,function(){return Bo(this,function(f){return[2,aC.create(r,this.mediaStream,s,u)]})})},e.create=function(r){return Po(this,void 0,void 0,function(){var s,u;return Bo(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return u=f.sent(),[2,new e(u)]}})})},e}(),jf=globalThis&&globalThis.__awaiter||function(e,r,s,u){function f(c){return c instanceof s?c:new s(function(g){g(c)})}return new(s||(s=Promise))(function(c,g){function E(p){try{m(u.next(p))}catch(b){g(b)}}function x(p){try{m(u.throw(p))}catch(b){g(b)}}function m(p){p.done?c(p.value):f(p.value).then(E,x)}m((u=u.apply(e,r||[])).next())})},zf=globalThis&&globalThis.__generator||function(e,r){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},u,f,c,g;return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(m){return function(p){return x([m,p])}}function x(m){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(s=0)),s;)try{if(u=1,f&&(c=m[0]&2?f.return:m[0]?f.throw||((c=f.return)&&c.call(f),0):f.next)&&!(c=c.call(f,m[1])).done)return c;switch(f=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,f=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=r.call(e,s)}catch(p){m=[6,p],f=0}finally{u=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},cC=function(){function e(){}return e.failIfNotSupported=function(){return jf(this,void 0,void 0,function(){return zf(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(r){return jf(this,void 0,void 0,function(){return zf(this,function(s){return[2,lC.create(r)]})})},e}(),uC=globalThis&&globalThis.__awaiter||function(e,r,s,u){function f(c){return c instanceof s?c:new s(function(g){g(c)})}return new(s||(s=Promise))(function(c,g){function E(p){try{m(u.next(p))}catch(b){g(b)}}function x(p){try{m(u.throw(p))}catch(b){g(b)}}function m(p){p.done?c(p.value):f(p.value).then(E,x)}m((u=u.apply(e,r||[])).next())})},fC=globalThis&&globalThis.__generator||function(e,r){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},u,f,c,g;return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(m){return function(p){return x([m,p])}}function x(m){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(s=0)),s;)try{if(u=1,f&&(c=m[0]&2?f.return:m[0]?f.throw||((c=f.return)&&c.call(f),0):f.next)&&!(c=c.call(f,m[1])).done)return c;switch(f=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,f=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=r.call(e,s)}catch(p){m=[6,p],f=0}finally{u=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},dC=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var r=Mi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(r=Mi.insecureContextCameraQueryError()),Promise.reject(r)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},e.getCamerasFromMediaDevices=function(){return uC(this,void 0,void 0,function(){var r,s,u,f,c,g,E;return fC(this,function(x){switch(x.label){case 0:return r=function(m){for(var p=m.getVideoTracks(),b=0,T=p;b<T.length;b++){var S=T[b];S.enabled=!1,S.stop(),m.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(u=x.sent(),f=[],c=0,g=u;c<g.length;c++)E=g[c],E.kind==="videoinput"&&f.push({id:E.deviceId,label:E.label});return r(s),[2,f]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,s){var u=function(c){for(var g=[],E=0,x=c;E<x.length;E++){var m=x[E];m.kind==="video"&&g.push({id:m.id,label:m.label})}r(g)},f=MediaStreamTrack;f.getSources(u)})},e}(),Bt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Bt||(Bt={}));var hC=function(){function e(){this.state=Bt.NOT_STARTED,this.onGoingTransactionNewState=Bt.UNKNOWN}return e.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},e.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Bt.UNKNOWN,this.directTransition(r)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Bt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Bt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(r){switch(this.state){case Bt.UNKNOWN:throw"Transition from unknown is not allowed";case Bt.NOT_STARTED:this.failIfNewStateIs(r,[Bt.PAUSED]);break;case Bt.SCANNING:break;case Bt.PAUSED:break}},e.prototype.failIfNewStateIs=function(r,s){for(var u=0,f=s;u<f.length;u++){var c=f[u];if(r===c)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},e}(),gC=function(){function e(r){this.stateManager=r}return e.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},e.prototype.directTransition=function(r){this.stateManager.directTransition(r)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Bt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Bt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Bt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Bt.PAUSED},e}(),mC=function(){function e(){}return e.create=function(){return new gC(new hC)},e}(),xC=globalThis&&globalThis.__extends||function(){var e=function(r,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(u[c]=f[c])},e(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(r,s);function u(){this.constructor=r}r.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}(),In=function(e){xC(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r}($3),wC=function(){function e(r,s){this.logger=s,this.fps=In.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=In.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Od.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!hr(this.qrbox)},e.create=function(r,s){return new e(r,s)},e}(),$C=function(){function e(r,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var u;typeof s=="boolean"?this.verbose=s===!0:s&&(u=s,this.verbose=u.verbose===!0,u.experimentalFeatures),this.logger=new Z3(this.verbose),this.qrcode=new nC(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(u),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=mC.create()}return e.prototype.start=function(r,s,u,f){var c=this;if(!r)throw"cameraIdOrConfig is required";if(!u||typeof u!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;f?g=f:g=this.verbose?this.logger.log:function(){};var E=wC.create(s,this.logger);this.clearElement();var x=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=x,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:In.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var b=this,T=this.stateManagerProxy.startTransition(Bt.SCANNING);return new Promise(function(S,F){var k=m?E.videoConstraints:b.createVideoConstraints(r);if(!k){T.cancel(),F("videoConstraints should be defined");return}var j={};(!m||E.aspectRatio)&&(j.aspectRatio=E.aspectRatio);var M={onRenderSurfaceReady:function(B,L){b.setupUi(B,L,E),b.isScanning=!0,b.foreverScan(E,u,g)}};cC.failIfNotSupported().then(function(B){B.create(k).then(function(L){return L.render(c.element,j,M).then(function(D){b.renderedCamera=D,T.execute(),S(null)}).catch(function(D){T.cancel(),F(D)})}).catch(function(L){T.cancel(),F(Mi.errorGettingUserMedia(L))})}).catch(function(B){T.cancel(),F(Mi.cameraStreamingNotSupported())})})},e.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Bt.PAUSED),this.showPausedState(),(hr(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,s=function(){r.stateManagerProxy.directTransition(Bt.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Bt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var u=function(){if(r.element){var c=document.getElementById(In.SHADED_REGION_ELEMENT_ID);c&&r.element.removeChild(c)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),u(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),s.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(r,s){return this.scanFileV2(r,s).then(function(u){return u.decodedText})},e.prototype.scanFileV2=function(r,s){var u=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(hr(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,c){u.possiblyCloseLastScanImageFile(),u.clearElement(),u.lastScanImageFile=URL.createObjectURL(r);var g=new Image;g.onload=function(){var E=g.width,x=g.height,m=document.getElementById(u.elementId),p=m.clientWidth?m.clientWidth:In.DEFAULT_WIDTH,b=Math.max(m.clientHeight?m.clientHeight:x,In.FILE_SCAN_MIN_HEIGHT),T=u.computeCanvasDrawConfig(E,x,p,b);if(s){var S=u.createCanvasElement(p,b,"qr-canvas-visible");S.style.display="inline-block",m.appendChild(S);var F=S.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=p,F.canvas.height=b,F.drawImage(g,0,0,E,x,T.x,T.y,T.width,T.height)}var k=In.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(g.width,T.width),M=Math.max(g.height,T.height),B=j+2*k,L=M+2*k,D=u.createCanvasElement(B,L);m.appendChild(D);var G=D.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=B,G.canvas.height=L,G.drawImage(g,0,0,E,x,k,k,j,M);try{u.qrcode.decodeRobustlyAsync(D).then(function(W){f(Hf.createFromQrcodeResult(W))}).catch(c)}catch(W){c("QR code parse error, error = ".concat(W))}},g.onerror=c,g.onabort=c,g.onstalled=c,g.onsuspend=c,g.src=URL.createObjectURL(r)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return dC.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(r){if(r){if(!Od.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(r){var s=[Me.QR_CODE,Me.AZTEC,Me.CODABAR,Me.CODE_39,Me.CODE_93,Me.CODE_128,Me.DATA_MATRIX,Me.MAXICODE,Me.ITF,Me.EAN_13,Me.EAN_8,Me.PDF_417,Me.RSS_14,Me.RSS_EXPANDED,Me.UPC_A,Me.UPC_E,Me.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return s;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var u=[],f=0,c=r.formatsToSupport;f<c.length;f++){var g=c[f];z3(g)?u.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(u.length===0)throw"None of formatsToSupport match supported values.";return u},e.prototype.getUseBarCodeDetectorIfSupported=function(r){if(hr(r))return!0;if(!hr(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if(hr(r.experimentalFeatures))return!0;var s=r.experimentalFeatures;return hr(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(r,s,u){var f=this,c=u.qrbox;this.validateQrboxConfig(c);var g=this.toQrdimensions(r,s,c),E=function(m){if(m<In.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(In.MIN_QR_BOX_SIZE,"px.")},x=function(m){return m>r&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=r),m};E(g.width),E(g.height),g.width=x(g.width)},e.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(r,s,u){if(typeof u=="number")return{width:u,height:u};if(typeof u=="function")try{return u(r,s)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return u},e.prototype.setupUi=function(r,s,u){u.isShadedBoxEnabled()&&this.validateQrboxSize(r,s,u);var f=hr(u.qrbox)?{width:r,height:s}:u.qrbox;this.validateQrboxConfig(f);var c=this.toQrdimensions(r,s,f);c.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=u.isShadedBoxEnabled()&&c.height<=s,E={x:0,y:0,width:r,height:s},x=g?this.getShadedRegionBounds(r,s,c):E,m=this.createCanvasElement(x.width,x.height),p={willReadFrequently:!0},b=m.getContext("2d",p);b.canvas.width=x.width,b.canvas.height=x.height,this.element.append(m),g&&this.possiblyInsertShadingElement(this.element,r,s,c),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=b,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(r){var s=document.createElement("div");s.innerText=Mi.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",r.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(r,s){var u=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return r(f.text,Hf.createFromQrcodeResult(f)),u.possiblyUpdateShaders(!0),!0}).catch(function(f){u.possiblyUpdateShaders(!1);var c=Mi.codeParseError(f);return s(c,K3.createFrom(c)),!1})},e.prototype.foreverScan=function(r,s,u){var f=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),g=c.videoWidth/c.clientWidth,E=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*g,m=this.qrRegion.height*E,p=this.qrRegion.x*g,b=this.qrRegion.y*E;this.context.drawImage(c,p,b,x,m,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(r,s,u)},f.getTimeoutFps(r.fps))};this.scanContext(s,u).then(function(S){!S&&r.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(s,u).finally(function(){T()})):T()}).catch(function(S){f.logger.logError("Error happend while scanning context",S),T()})}},e.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var s="facingMode",u="deviceId",f={user:!0,environment:!0},c="exact",g=function(F){if(F in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(F,"'")},E=Object.keys(r);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var x=Object.keys(r)[0];if(x!==s&&x!==u)throw"Only '".concat(s,"' and '").concat(u,"' ")+" are supported for 'cameraIdOrConfig'";if(x===s){var m=r.facingMode;if(typeof m=="string"){if(g(m))return{facingMode:m}}else if(typeof m=="object")if(c in m){if(g(m["".concat(c)]))return{facingMode:{exact:m["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var p=typeof m;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var b=r.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(c in b)return{deviceId:{exact:b["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var T=typeof b;throw"Invalid type of 'deviceId' = ".concat(T)}}}var S=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},e.prototype.computeCanvasDrawConfig=function(r,s,u,f){if(r<=u&&s<=f){var c=(u-r)/2,g=(f-s)/2;return{x:c,y:g,width:r,height:s}}else{var E=r,x=s;return r>u&&(s=u/r*s,r=u),s>f&&(r=f/s*r,s=f),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(x)+" to ".concat(r,"X").concat(s,".")),this.computeCanvasDrawConfig(r,s,u,f)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},e.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=r?In.BORDER_SHADER_MATCH_COLOR:In.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(r,s,u){var f=r,c=s,g=document.createElement("canvas");return g.style.width="".concat(f,"px"),g.style.height="".concat(c,"px"),g.style.display="none",g.id=hr(u)?"qr-canvas":u,g},e.prototype.getShadedRegionBounds=function(r,s,u){if(u.width>r||u.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-u.width)/2,y:(s-u.height)/2,width:u.width,height:u.height}},e.prototype.possiblyInsertShadingElement=function(r,s,u,f){if(!(s-f.width<1||u-f.height<1)){var c=document.createElement("div");c.style.position="absolute";var g=(s-f.width)/2,E=(u-f.height)/2;if(c.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(In.SHADED_REGION_ELEMENT_ID),s-f.width<11||u-f.height<11)this.hasBorderShaders=!1;else{var x=5,m=40;this.insertShaderBorders(c,m,x,-x,null,0,!0),this.insertShaderBorders(c,m,x,-x,null,0,!1),this.insertShaderBorders(c,m,x,null,-x,0,!0),this.insertShaderBorders(c,m,x,null,-x,0,!1),this.insertShaderBorders(c,x,m+x,-x,null,-x,!0),this.insertShaderBorders(c,x,m+x,null,-x,-x,!0),this.insertShaderBorders(c,x,m+x,-x,null,-x,!1),this.insertShaderBorders(c,x,m+x,null,-x,-x,!1),this.hasBorderShaders=!0}r.append(c)}},e.prototype.insertShaderBorders=function(r,s,u,f,c,g,E){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=In.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(s,"px"),x.style.height="".concat(u,"px"),f!==null&&(x.style.top="".concat(f,"px")),c!==null&&(x.style.bottom="".concat(c,"px")),E?x.style.left="".concat(g,"px"):x.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),r.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(r){return 1e3/r},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var $f;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})($f||($f={}));export{GC as $,Wn as A,mw as B,PC as C,bC as D,q1 as E,NC as F,Wg as G,TC as H,Kn as I,Fn as J,IC as K,Wx as L,$o as M,BC as N,AC as O,kC as P,CC as Q,OC as R,Fe as S,FC as T,zC as U,Dl as V,_C as W,On as X,di as Y,$C as Z,XC as _,VC as a,F2 as a0,HC as b,SC as c,WC as d,UC as e,Pw as f,RC as g,DC as h,LC as i,MC as j,dt as k,Re as l,yC as m,Z1 as n,Vg as o,cr as p,jC as q,YC as r,Hx as s,an as t,xr as u,ne as v,pC as w,Zl as x,vC as y,sg as z};
